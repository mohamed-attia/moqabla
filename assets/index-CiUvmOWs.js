function CA(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function N0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sy={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function eD(){if(kT)return Vu;kT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:a}}return Vu.Fragment=e,Vu.jsx=t,Vu.jsxs=t,Vu}var PT;function tD(){return PT||(PT=1,sy.exports=eD()),sy.exports}var u=tD(),ry={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function nD(){if(LT)return Qe;LT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function q(z,ae,ve){this.props=z,this.context=ae,this.refs=D,this.updater=ve||N}q.prototype.isReactComponent={},q.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=q.prototype;function H(z,ae,ve){this.props=z,this.context=ae,this.refs=D,this.updater=ve||N}var ee=H.prototype=new B;ee.constructor=H,U(ee,q.prototype),ee.isPureReactComponent=!0;var re=Array.isArray;function F(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(z,ae,ve){var Ee=ve.ref;return{$$typeof:n,type:z,key:ae,ref:Ee!==void 0?Ee:null,props:ve}}function V(z,ae){return I(z.type,ae,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function P(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ve){return ae[ve]})}var L=/\/+/g;function pe(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):ae.toString(36)}function Ie(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(F,F):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,ae,ve,Ee,ke){var qe=typeof z;(qe==="undefined"||qe==="boolean")&&(z=null);var tt=!1;if(z===null)tt=!0;else switch(qe){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(z.$$typeof){case n:case e:tt=!0;break;case g:return tt=z._init,Y(tt(z._payload),ae,ve,Ee,ke)}}if(tt)return ke=ke(z),tt=Ee===""?"."+pe(z,0):Ee,re(ke)?(ve="",tt!=null&&(ve=tt.replace(L,"$&/")+"/"),Y(ke,ae,ve,"",function(ms){return ms})):ke!=null&&(M(ke)&&(ke=V(ke,ve+(ke.key==null||z&&z.key===ke.key?"":(""+ke.key).replace(L,"$&/")+"/")+tt)),ae.push(ke)),1;tt=0;var Wt=Ee===""?".":Ee+":";if(re(z))for(var We=0;We<z.length;We++)Ee=z[We],qe=Wt+pe(Ee,We),tt+=Y(Ee,ae,ve,qe,ke);else if(We=S(z),typeof We=="function")for(z=We.call(z),We=0;!(Ee=z.next()).done;)Ee=Ee.value,qe=Wt+pe(Ee,We++),tt+=Y(Ee,ae,ve,qe,ke);else if(qe==="object"){if(typeof z.then=="function")return Y(Ie(z),ae,ve,Ee,ke);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return tt}function ce(z,ae,ve){if(z==null)return z;var Ee=[],ke=0;return Y(z,Ee,"","",function(qe){return ae.call(ve,qe,ke++)}),Ee}function ye(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(ve){(z._status===0||z._status===-1)&&(z._status=1,z._result=ve)},function(ve){(z._status===0||z._status===-1)&&(z._status=2,z._result=ve)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},De={map:ce,forEach:function(z,ae,ve){ce(z,function(){ae.apply(this,arguments)},ve)},count:function(z){var ae=0;return ce(z,function(){ae++}),ae},toArray:function(z){return ce(z,function(ae){return ae})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Qe.Activity=E,Qe.Children=De,Qe.Component=q,Qe.Fragment=t,Qe.Profiler=r,Qe.PureComponent=H,Qe.StrictMode=i,Qe.Suspense=m,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Qe.cache=function(z){return function(){return z.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(z,ae,ve){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Ee=U({},z.props),ke=z.key;if(ae!=null)for(qe in ae.key!==void 0&&(ke=""+ae.key),ae)!R.call(ae,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ae.ref===void 0||(Ee[qe]=ae[qe]);var qe=arguments.length-2;if(qe===1)Ee.children=ve;else if(1<qe){for(var tt=Array(qe),Wt=0;Wt<qe;Wt++)tt[Wt]=arguments[Wt+2];Ee.children=tt}return I(z.type,ke,Ee)},Qe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Qe.createElement=function(z,ae,ve){var Ee,ke={},qe=null;if(ae!=null)for(Ee in ae.key!==void 0&&(qe=""+ae.key),ae)R.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(ke[Ee]=ae[Ee]);var tt=arguments.length-2;if(tt===1)ke.children=ve;else if(1<tt){for(var Wt=Array(tt),We=0;We<tt;We++)Wt[We]=arguments[We+2];ke.children=Wt}if(z&&z.defaultProps)for(Ee in tt=z.defaultProps,tt)ke[Ee]===void 0&&(ke[Ee]=tt[Ee]);return I(z,qe,ke)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:h,render:z}},Qe.isValidElement=M,Qe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ye}},Qe.memo=function(z,ae){return{$$typeof:f,type:z,compare:ae===void 0?null:ae}},Qe.startTransition=function(z){var ae=C.T,ve={};C.T=ve;try{var Ee=z(),ke=C.S;ke!==null&&ke(ve,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(F,se)}catch(qe){se(qe)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),C.T=ae}},Qe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Qe.use=function(z){return C.H.use(z)},Qe.useActionState=function(z,ae,ve){return C.H.useActionState(z,ae,ve)},Qe.useCallback=function(z,ae){return C.H.useCallback(z,ae)},Qe.useContext=function(z){return C.H.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z,ae){return C.H.useDeferredValue(z,ae)},Qe.useEffect=function(z,ae){return C.H.useEffect(z,ae)},Qe.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Qe.useId=function(){return C.H.useId()},Qe.useImperativeHandle=function(z,ae,ve){return C.H.useImperativeHandle(z,ae,ve)},Qe.useInsertionEffect=function(z,ae){return C.H.useInsertionEffect(z,ae)},Qe.useLayoutEffect=function(z,ae){return C.H.useLayoutEffect(z,ae)},Qe.useMemo=function(z,ae){return C.H.useMemo(z,ae)},Qe.useOptimistic=function(z,ae){return C.H.useOptimistic(z,ae)},Qe.useReducer=function(z,ae,ve){return C.H.useReducer(z,ae,ve)},Qe.useRef=function(z){return C.H.useRef(z)},Qe.useState=function(z){return C.H.useState(z)},Qe.useSyncExternalStore=function(z,ae,ve){return C.H.useSyncExternalStore(z,ae,ve)},Qe.useTransition=function(){return C.H.useTransition()},Qe.version="19.2.3",Qe}var UT;function I0(){return UT||(UT=1,ry.exports=nD()),ry.exports}var O=I0();const RA=N0(O),C0=CA({__proto__:null,default:RA},[O]);var oy={exports:{}},Ou={},ay={exports:{}},ly={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function iD(){return VT||(VT=1,(function(n){function e(Y,ce){var ye=Y.length;Y.push(ce);e:for(;0<ye;){var se=ye-1>>>1,De=Y[se];if(0<r(De,ce))Y[se]=ce,Y[ye]=De,ye=se;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ce=Y[0],ye=Y.pop();if(ye!==ce){Y[0]=ye;e:for(var se=0,De=Y.length,z=De>>>1;se<z;){var ae=2*(se+1)-1,ve=Y[ae],Ee=ae+1,ke=Y[Ee];if(0>r(ve,ye))Ee<De&&0>r(ke,ve)?(Y[se]=ke,Y[Ee]=ye,se=Ee):(Y[se]=ve,Y[ae]=ye,se=ae);else if(Ee<De&&0>r(ke,ye))Y[se]=ke,Y[Ee]=ye,se=Ee;else break e}}return ce}function r(Y,ce){var ye=Y.sortIndex-ce.sortIndex;return ye!==0?ye:Y.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],f=[],g=1,E=null,T=3,S=!1,N=!1,U=!1,D=!1,q=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(Y){for(var ce=t(f);ce!==null;){if(ce.callback===null)i(f);else if(ce.startTime<=Y)i(f),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(f)}}function re(Y){if(U=!1,ee(Y),!N)if(t(m)!==null)N=!0,F||(F=!0,P());else{var ce=t(f);ce!==null&&Ie(re,ce.startTime-Y)}}var F=!1,C=-1,R=5,I=-1;function V(){return D?!0:!(n.unstable_now()-I<R)}function M(){if(D=!1,F){var Y=n.unstable_now();I=Y;var ce=!0;try{e:{N=!1,U&&(U=!1,B(C),C=-1),S=!0;var ye=T;try{t:{for(ee(Y),E=t(m);E!==null&&!(E.expirationTime>Y&&V());){var se=E.callback;if(typeof se=="function"){E.callback=null,T=E.priorityLevel;var De=se(E.expirationTime<=Y);if(Y=n.unstable_now(),typeof De=="function"){E.callback=De,ee(Y),ce=!0;break t}E===t(m)&&i(m),ee(Y)}else i(m);E=t(m)}if(E!==null)ce=!0;else{var z=t(f);z!==null&&Ie(re,z.startTime-Y),ce=!1}}break e}finally{E=null,T=ye,S=!1}ce=void 0}}finally{ce?P():F=!1}}}var P;if(typeof H=="function")P=function(){H(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,pe=L.port2;L.port1.onmessage=M,P=function(){pe.postMessage(null)}}else P=function(){q(M,0)};function Ie(Y,ce){C=q(function(){Y(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ye=T;T=ce;try{return Y()}finally{T=ye}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=T;T=Y;try{return ce()}finally{T=ye}},n.unstable_scheduleCallback=function(Y,ce,ye){var se=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?se+ye:se):ye=se,Y){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ye+De,Y={id:g++,callback:ce,priorityLevel:Y,startTime:ye,expirationTime:De,sortIndex:-1},ye>se?(Y.sortIndex=ye,e(f,Y),t(m)===null&&Y===t(f)&&(U?(B(C),C=-1):U=!0,Ie(re,ye-se))):(Y.sortIndex=De,e(m,Y),N||S||(N=!0,F||(F=!0,P()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var ce=T;return function(){var ye=T;T=ce;try{return Y.apply(this,arguments)}finally{T=ye}}}})(ly)),ly}var OT;function sD(){return OT||(OT=1,ay.exports=iD()),ay.exports}var cy={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function rD(){if(jT)return Qn;jT=1;var n=I0();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(m,f,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:m,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qn.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(m,f,null,g)},Qn.flushSync=function(m){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=f,i.p=g,i.d.f()}},Qn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},Qn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Qn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,E=h(g,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:S}):g==="script"&&i.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},Qn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,E=h(g,f.crossOrigin);i.d.L(m,g,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qn.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=h(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},Qn.requestFormReset=function(m){i.d.r(m)},Qn.unstable_batchedUpdates=function(m,f){return m(f)},Qn.useFormState=function(m,f,g){return c.H.useFormState(m,f,g)},Qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qn.version="19.2.3",Qn}var FT;function DA(){if(FT)return cy.exports;FT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cy.exports=rD(),cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function oD(){if(qT)return Ou;qT=1;var n=sD(),e=I0(),t=DA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function m(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,d=o;;){var _=l.return;if(_===null)break;var x=_.alternate;if(x===null){if(d=_.return,d!==null){l=d;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===l)return m(_),s;if(x===d)return m(_),o;x=x.sibling}throw Error(i(188))}if(l.return!==d.return)l=_,d=x;else{for(var b=!1,k=_.child;k;){if(k===l){b=!0,l=_,d=x;break}if(k===d){b=!0,d=_,l=x;break}k=k.sibling}if(!b){for(k=x.child;k;){if(k===l){b=!0,l=x,d=_;break}if(k===d){b=!0,d=x,l=_;break}k=k.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case q:return"Profiler";case D:return"StrictMode";case re:return"Suspense";case F:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case H:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case ee:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}var Ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},se=[],De=-1;function z(s){return{current:s}}function ae(s){0>De||(s.current=se[De],se[De]=null,De--)}function ve(s,o){De++,se[De]=s.current,s.current=o}var Ee=z(null),ke=z(null),qe=z(null),tt=z(null);function Wt(s,o){switch(ve(qe,o),ve(ke,s),ve(Ee,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?nT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=nT(o),s=iT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ee),ve(Ee,s)}function We(){ae(Ee),ae(ke),ae(qe)}function ms(s){s.memoizedState!==null&&ve(tt,s);var o=Ee.current,l=iT(o,s.type);o!==l&&(ve(ke,s),ve(Ee,l))}function nn(s){ke.current===s&&(ae(Ee),ae(ke)),tt.current===s&&(ae(tt),ku._currentValue=ye)}var di,zi;function zn(s){if(di===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);di=o&&o[1]||"",zi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+s+zi}var $n=!1;function hi(s,o){if(!s||$n)return"";$n=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var te=ie}Reflect.construct(s,[],he)}else{try{he.call()}catch(ie){te=ie}s.call(he.prototype)}}else{try{throw Error()}catch(ie){te=ie}(he=s())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),b=x[0],k=x[1];if(b&&k){var G=b.split(`
`),X=k.split(`
`);for(_=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;_<X.length&&!X[_].includes("DetermineComponentFrameRoot");)_++;if(d===G.length||_===X.length)for(d=G.length-1,_=X.length-1;1<=d&&0<=_&&G[d]!==X[_];)_--;for(;1<=d&&0<=_;d--,_--)if(G[d]!==X[_]){if(d!==1||_!==1)do if(d--,_--,0>_||G[d]!==X[_]){var le=`
`+G[d].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=d&&0<=_);break}}}finally{$n=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?zn(l):""}function Ls(s,o){switch(s.tag){case 26:case 27:case 5:return zn(s.type);case 16:return zn("Lazy");case 13:return s.child!==o&&o!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return hi(s.type,!1);case 11:return hi(s.type.render,!1);case 1:return hi(s.type,!0);case 31:return zn("Activity");default:return""}}function dr(s){try{var o="",l=null;do o+=Ls(s,l),l=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Lt=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,Ln=n.unstable_cancelCallback,Yr=n.unstable_shouldYield,me=n.unstable_requestPaint,Me=n.unstable_now,at=n.unstable_getCurrentPriorityLevel,Kn=n.unstable_ImmediatePriority,Yn=n.unstable_UserBlockingPriority,fi=n.unstable_NormalPriority,ti=n.unstable_LowPriority,$i=n.unstable_IdlePriority,Ii=n.log,Us=n.unstable_setDisableYieldValue,Jn=null,Xt=null;function gn(s){if(typeof Ii=="function"&&Us(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Jn,s)}catch{}}var Vt=Math.clz32?Math.clz32:aa,Jr=Math.log,Qr=Math.LN2;function aa(s){return s>>>=0,s===0?32:31-(Jr(s)/Qr|0)|0}var Ki=256,Vs=262144,sn=4194304;function K(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Z(s,o,l){var d=s.pendingLanes;if(d===0)return 0;var _=0,x=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var k=d&134217727;return k!==0?(d=k&~x,d!==0?_=K(d):(b&=k,b!==0?_=K(b):l||(l=k&~s,l!==0&&(_=K(l))))):(k=d&~x,k!==0?_=K(k):b!==0?_=K(b):l||(l=d&~s,l!==0&&(_=K(l)))),_===0?0:o!==0&&o!==_&&(o&x)===0&&(x=_&-_,l=o&-o,x>=l||x===32&&(l&4194048)!==0)?o:_}function oe(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function _e(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var s=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),s}function Be(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ue(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Oe(s,o,l,d,_,x){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,G=s.expirationTimes,X=s.hiddenUpdates;for(l=b&~l;0<l;){var le=31-Vt(l),he=1<<le;k[le]=0,G[le]=-1;var te=X[le];if(te!==null)for(X[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}l&=~he}d!==0&&Ce(s,d,0),x!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=x&~(b&~o))}function Ce(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Vt(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|l&261930}function nt(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-Vt(l),_=1<<d;_&o|s[d]&o&&(s[d]|=o),l&=~_}}function Kt(s,o){var l=o&-o;return l=(l&42)!==0?1:ze(l),(l&(s.suspendedLanes|o))!==0?0:l}function ze(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function lt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rn(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:AT(s.type))}function jt(s,o){var l=ce.p;try{return ce.p=s,o()}finally{ce.p=l}}var bt=Math.random().toString(36).slice(2),kt="__reactFiber$"+bt,on="__reactProps$"+bt,Un="__reactContainer$"+bt,ni="__reactEvents$"+bt,ps="__reactListeners$"+bt,Wr="__reactHandles$"+bt,Os="__reactResources$"+bt,mi="__reactMarker$"+bt;function Ci(s){delete s[kt],delete s[on],delete s[ni],delete s[ps],delete s[Wr]}function ii(s){var o=s[kt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Un]||l[kt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=uT(s);s!==null;){if(l=s[kt])return l;s=uT(s)}return o}s=l,l=s.parentNode}return null}function Je(s){if(s=s[kt]||s[Un]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Xe(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ft(s){var o=s[Os];return o||(o=s[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qt(s){s[mi]=!0}var la=new Set,qc={};function js(s,o){Fs(s,o),Fs(s+"Capture",o)}function Fs(s,o){for(qc[s]=o,s=0;s<o.length;s++)la.add(o[s])}var Hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Gc={};function qd(s){return Lt.call(Gc,s)?!0:Lt.call(Bc,s)?!1:Hc.test(s)?Gc[s]=!0:(Bc[s]=!0,!1)}function el(s,o,l){if(qd(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Ri(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function yn(s,o,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+d)}}function Cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xr(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zc(s,o,l){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,x=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return _.call(this)},set:function(b){l=""+b,x.call(this,b)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){if(!s._valueTracker){var o=Xr(s)?"checked":"value";s._valueTracker=zc(s,o,""+s[o])}}function ca(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Xr(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ua=/[\n"\\]/g;function pi(s){return s.replace(ua,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function tl(s,o,l,d,_,x,b,k){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),o!=null?b==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Cn(o)):s.value!==""+Cn(o)&&(s.value=""+Cn(o)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),o!=null?$c(s,b,Cn(o)):l!=null?$c(s,b,Cn(l)):d!=null&&s.removeAttribute("value"),_==null&&x!=null&&(s.defaultChecked=!!x),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Cn(k):s.removeAttribute("name")}function Hd(s,o,l,d,_,x,b,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){St(s);return}l=l!=null?""+Cn(l):"",o=o!=null?""+Cn(o):l,k||o===s.value||(s.value=o),s.defaultValue=o}d=d??_,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=k?s.checked:!!d,s.defaultChecked=!!d,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),St(s)}function $c(s,o,l){o==="number"&&qs(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zr(s,o,l,d){if(s=s.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<s.length;l++)_=o.hasOwnProperty("$"+s[l].value),s[l].selected!==_&&(s[l].selected=_),_&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Cn(l),o=null,_=0;_<s.length;_++){if(s[_].value===l){s[_].selected=!0,d&&(s[_].defaultSelected=!0);return}o!==null||s[_].disabled||(o=s[_])}o!==null&&(o.selected=!0)}}function Bd(s,o,l){if(o!=null&&(o=""+Cn(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Cn(l):""}function eo(s,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(i(92));if(Ie(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=Cn(o),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d),St(s)}function gi(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Gd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(s,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,l):typeof l!="number"||l===0||Gd.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function Yc(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var _ in o)d=o[_],o.hasOwnProperty(_)&&l[_]!==d&&Kc(s,_,d)}else for(var x in o)o.hasOwnProperty(x)&&Kc(s,x,o[x])}function nl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(s){return to.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gs(){}var Jc=null;function Yi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,Hs=null;function da(s){var o=Je(s);if(o&&(s=o.stateNode)){var l=s[on]||null;e:switch(s=o.stateNode,o.type){case"input":if(tl(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pi(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var _=d[on]||null;if(!_)throw Error(i(90));tl(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===s.form&&ca(d)}break e;case"textarea":Bd(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Zr(s,!!l.multiple,o,!1)}}}var sl=!1;function io(s,o,l){if(sl)return s(o,l);sl=!0;try{var d=s(o);return d}finally{if(sl=!1,(no!==null||Hs!==null)&&(Oh(),no&&(o=no,s=Hs,Hs=no=null,da(o),s)))for(o=0;o<s.length;o++)da(s[o])}}function ys(s,o){var l=s.stateNode;if(l===null)return null;var d=l[on]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Ji)try{var It={};Object.defineProperty(It,"passive",{get:function(){ha=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{ha=!1}var Bs=null,Qc=null,fa=null;function Wc(){if(fa)return fa;var s,o=Qc,l=o.length,d,_="value"in Bs?Bs.value:Bs.textContent,x=_.length;for(s=0;s<l&&o[s]===_[s];s++);var b=l-s;for(d=1;d<=b&&o[l-d]===_[x-d];d++);return fa=_.slice(s,1<d?1-d:void 0)}function ma(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function vs(){return!1}function Vn(s){function o(l,d,_,x,b){this._reactName=l,this._targetInst=_,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?hr:vs,this.isPropagationStopped=vs,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),o}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=Vn(fr),so=E({},fr,{view:0,detail:0}),Xc=Vn(so),ro,rl,zs,ol=E({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zs&&(zs&&s.type==="mousemove"?(ro=s.screenX-zs.screenX,rl=s.screenY-zs.screenY):rl=ro=0,zs=s),ro)},movementY:function(s){return"movementY"in s?s.movementY:rl}}),Zc=Vn(ol),pa=E({},ol,{dataTransfer:0}),$d=Vn(pa),Kd=E({},so,{relatedTarget:0}),ga=Vn(Kd),eu=E({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=Vn(eu),al=E({},fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=Vn(al),Qd=E({},fr,{data:0}),$s=Vn(Qd),Wd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Zd[s])?!!o[s]:!1}function oo(){return eh}var si=E({},so,{key:function(s){if(s.key){var o=Wd[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(s){return s.type==="keypress"?ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),th=Vn(si),nh=E({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=Vn(nh),v=E({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),w=Vn(v),A=E({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=Vn(A),Q=E({},ol,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Vn(Q),xe=E({},fr,{newState:0,oldState:0}),Ze=Vn(xe),hn=[9,13,27,32],Tt=Ji&&"CompositionEvent"in window,Yt=null;Ji&&"documentMode"in document&&(Yt=document.documentMode);var Qi=Ji&&"TextEvent"in window&&!Yt,Ks=Ji&&(!Tt||Yt&&8<Yt&&11>=Yt),_s=" ",xs=!1;function ya(s,o){switch(s){case"keyup":return hn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ll(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cl=!1;function bR(s,o){switch(s){case"compositionend":return ll(o);case"keypress":return o.which!==32?null:(xs=!0,_s);case"textInput":return s=o.data,s===_s&&xs?null:s;default:return null}}function SR(s,o){if(cl)return s==="compositionend"||!Tt&&ya(s,o)?(s=Wc(),fa=Qc=Bs=null,cl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ks&&o.locale!=="ko"?null:o.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!AR[s.type]:o==="textarea"}function m_(s,o,l,d){no?Hs?Hs.push(d):Hs=[d]:no=d,o=zh(o,"onChange"),0<o.length&&(l=new Gs("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var tu=null,nu=null;function NR(s){QE(s,0)}function ih(s){var o=Xe(s);if(ca(o))return s}function p_(s,o){if(s==="change")return o}var g_=!1;if(Ji){var dp;if(Ji){var hp="oninput"in document;if(!hp){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),hp=typeof y_.oninput=="function"}dp=hp}else dp=!1;g_=dp&&(!document.documentMode||9<document.documentMode)}function v_(){tu&&(tu.detachEvent("onpropertychange",__),nu=tu=null)}function __(s){if(s.propertyName==="value"&&ih(nu)){var o=[];m_(o,nu,s,Yi(s)),io(NR,o)}}function IR(s,o,l){s==="focusin"?(v_(),tu=o,nu=l,tu.attachEvent("onpropertychange",__)):s==="focusout"&&v_()}function CR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ih(nu)}function RR(s,o){if(s==="click")return ih(o)}function DR(s,o){if(s==="input"||s==="change")return ih(o)}function MR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Di=typeof Object.is=="function"?Object.is:MR;function iu(s,o){if(Di(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var _=l[d];if(!Lt.call(o,_)||!Di(s[_],o[_]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E_(s,o){var l=x_(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=x_(l)}}function T_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?T_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function w_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=qs(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=qs(s.document)}return o}function fp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var kR=Ji&&"documentMode"in document&&11>=document.documentMode,ul=null,mp=null,su=null,pp=!1;function b_(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pp||ul==null||ul!==qs(d)||(d=ul,"selectionStart"in d&&fp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),su&&iu(su,d)||(su=d,d=zh(mp,"onSelect"),0<d.length&&(o=new Gs("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=ul)))}function va(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var dl={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},gp={},S_={};Ji&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function _a(s){if(gp[s])return gp[s];if(!dl[s])return s;var o=dl[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in S_)return gp[s]=o[l];return s}var A_=_a("animationend"),N_=_a("animationiteration"),I_=_a("animationstart"),PR=_a("transitionrun"),LR=_a("transitionstart"),UR=_a("transitioncancel"),C_=_a("transitionend"),R_=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yp.push("scrollEnd");function Es(s,o){R_.set(s,o),js(o,[s])}var sh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wi=[],hl=0,vp=0;function rh(){for(var s=hl,o=vp=hl=0;o<s;){var l=Wi[o];Wi[o++]=null;var d=Wi[o];Wi[o++]=null;var _=Wi[o];Wi[o++]=null;var x=Wi[o];if(Wi[o++]=null,d!==null&&_!==null){var b=d.pending;b===null?_.next=_:(_.next=b.next,b.next=_),d.pending=_}x!==0&&D_(l,_,x)}}function oh(s,o,l,d){Wi[hl++]=s,Wi[hl++]=o,Wi[hl++]=l,Wi[hl++]=d,vp|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function _p(s,o,l,d){return oh(s,o,l,d),ah(s)}function xa(s,o){return oh(s,null,null,o),ah(s)}function D_(s,o,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var _=!1,x=s.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(_=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,_&&o!==null&&(_=31-Vt(l),s=x.hiddenUpdates,d=s[_],d===null?s[_]=[o]:d.push(o),o.lane=l|536870912),x):null}function ah(s){if(50<Au)throw Au=0,Ig=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var fl={};function VR(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(s,o,l,d){return new VR(s,o,l,d)}function xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pr(s,o){var l=s.alternate;return l===null?(l=Mi(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function M_(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function lh(s,o,l,d,_,x){var b=0;if(d=s,typeof s=="function")xp(s)&&(b=1);else if(typeof s=="string")b=H2(s,l,Ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Mi(31,l,o,_),s.elementType=I,s.lanes=x,s;case U:return Ea(l.children,_,x,o);case D:b=8,_|=24;break;case q:return s=Mi(12,l,o,_|2),s.elementType=q,s.lanes=x,s;case re:return s=Mi(13,l,o,_),s.elementType=re,s.lanes=x,s;case F:return s=Mi(19,l,o,_),s.elementType=F,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:b=10;break e;case B:b=9;break e;case ee:b=11;break e;case C:b=14;break e;case R:b=16,d=null;break e}b=29,l=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=Mi(b,l,o,_),o.elementType=s,o.type=d,o.lanes=x,o}function Ea(s,o,l,d){return s=Mi(7,s,d,o),s.lanes=l,s}function Ep(s,o,l){return s=Mi(6,s,null,o),s.lanes=l,s}function k_(s){var o=Mi(18,null,null,0);return o.stateNode=s,o}function Tp(s,o,l){return o=Mi(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var P_=new WeakMap;function Xi(s,o){if(typeof s=="object"&&s!==null){var l=P_.get(s);return l!==void 0?l:(o={value:s,source:o,stack:dr(o)},P_.set(s,o),o)}return{value:s,source:o,stack:dr(o)}}var ml=[],pl=0,ch=null,ru=0,Zi=[],es=0,ao=null,Ys=1,Js="";function gr(s,o){ml[pl++]=ru,ml[pl++]=ch,ch=s,ru=o}function L_(s,o,l){Zi[es++]=Ys,Zi[es++]=Js,Zi[es++]=ao,ao=s;var d=Ys;s=Js;var _=32-Vt(d)-1;d&=~(1<<_),l+=1;var x=32-Vt(o)+_;if(30<x){var b=_-_%5;x=(d&(1<<b)-1).toString(32),d>>=b,_-=b,Ys=1<<32-Vt(o)+_|l<<_|d,Js=x+s}else Ys=1<<x|l<<_|d,Js=s}function wp(s){s.return!==null&&(gr(s,1),L_(s,1,0))}function bp(s){for(;s===ch;)ch=ml[--pl],ml[pl]=null,ru=ml[--pl],ml[pl]=null;for(;s===ao;)ao=Zi[--es],Zi[es]=null,Js=Zi[--es],Zi[es]=null,Ys=Zi[--es],Zi[es]=null}function U_(s,o){Zi[es++]=Ys,Zi[es++]=Js,Zi[es++]=ao,Ys=o.id,Js=o.overflow,ao=s}var On=null,Ht=null,mt=!1,lo=null,ts=!1,Sp=Error(i(519));function co(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ou(Xi(o,s)),Sp}function V_(s){var o=s.stateNode,l=s.type,d=s.memoizedProps;switch(o[kt]=s,o[on]=d,l){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(l=0;l<Iu.length;l++)ot(Iu[l],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),Hd(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),eo(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||eT(o.textContent,l)?(d.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),d.onScroll!=null&&ot("scroll",o),d.onScrollEnd!=null&&ot("scrollend",o),d.onClick!=null&&(o.onclick=gs),o=!0):o=!1,o||co(s,!0)}function O_(s){for(On=s.return;On;)switch(On.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:On=On.return}}function gl(s){if(s!==On)return!1;if(!mt)return O_(s),mt=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Bg(s.type,s.memoizedProps)),l=!l),l&&Ht&&co(s),O_(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ht=cT(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ht=cT(s)}else o===27?(o=Ht,bo(s.type)?(s=Yg,Yg=null,Ht=s):Ht=o):Ht=On?is(s.stateNode.nextSibling):null;return!0}function Ta(){Ht=On=null,mt=!1}function Ap(){var s=lo;return s!==null&&(xi===null?xi=s:xi.push.apply(xi,s),lo=null),s}function ou(s){lo===null?lo=[s]:lo.push(s)}var Np=z(null),wa=null,yr=null;function uo(s,o,l){ve(Np,o._currentValue),o._currentValue=l}function vr(s){s._currentValue=Np.current,ae(Np)}function Ip(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function Cp(s,o,l,d){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var x=_.dependencies;if(x!==null){var b=_.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=_;for(var G=0;G<o.length;G++)if(k.context===o[G]){x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),Ip(x.return,l,s),d||(b=null);break e}x=k.next}}else if(_.tag===18){if(b=_.return,b===null)throw Error(i(341));b.lanes|=l,x=b.alternate,x!==null&&(x.lanes|=l),Ip(b,l,s),b=null}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===s){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}}function yl(s,o,l,d){s=null;for(var _=o,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var b=_.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var k=_.type;Di(_.pendingProps.value,b.value)||(s!==null?s.push(k):s=[k])}}else if(_===tt.current){if(b=_.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(ku):s=[ku])}_=_.return}s!==null&&Cp(o,s,l,d),o.flags|=262144}function uh(s){for(s=s.firstContext;s!==null;){if(!Di(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ba(s){wa=s,yr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function jn(s){return j_(wa,s)}function dh(s,o){return wa===null&&ba(s),j_(s,o)}function j_(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},yr===null){if(s===null)throw Error(i(308));yr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else yr=yr.next=o;return l}var OR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},jR=n.unstable_scheduleCallback,FR=n.unstable_NormalPriority,vn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new OR,data:new Map,refCount:0}}function au(s){s.refCount--,s.refCount===0&&jR(FR,function(){s.controller.abort()})}var lu=null,Dp=0,vl=0,_l=null;function qR(s,o){if(lu===null){var l=lu=[];Dp=0,vl=Pg(),_l={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Dp++,o.then(F_,F_),o}function F_(){if(--Dp===0&&lu!==null){_l!==null&&(_l.status="fulfilled");var s=lu;lu=null,vl=0,_l=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function HR(s,o){var l=[],d={status:"pending",value:null,reason:null,then:function(_){l.push(_)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var _=0;_<l.length;_++)(0,l[_])(o)},function(_){for(d.status="rejected",d.reason=_,_=0;_<l.length;_++)(0,l[_])(void 0)}),d}var q_=Y.S;Y.S=function(s,o){bE=Me(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&qR(s,o),q_!==null&&q_(s,o)};var Sa=z(null);function Mp(){var s=Sa.current;return s!==null?s:Pt.pooledCache}function hh(s,o){o===null?ve(Sa,Sa.current):ve(Sa,o.pool)}function H_(){var s=Mp();return s===null?null:{parent:vn._currentValue,pool:s}}var xl=Error(i(460)),kp=Error(i(474)),fh=Error(i(542)),mh={then:function(){}};function B_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function G_(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(gs,gs),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$_(s),s;default:if(typeof o.status=="string")o.then(gs,gs);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=d}},function(d){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$_(s),s}throw Na=o,xl}}function Aa(s){try{var o=s._init;return o(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Na=l,xl):l}}var Na=null;function z_(){if(Na===null)throw Error(i(459));var s=Na;return Na=null,s}function $_(s){if(s===xl||s===fh)throw Error(i(483))}var El=null,cu=0;function ph(s){var o=cu;return cu+=1,El===null&&(El=[]),G_(El,s,o)}function uu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function gh(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function K_(s){function o(J,$){if(s){var W=J.deletions;W===null?(J.deletions=[$],J.flags|=16):W.push($)}}function l(J,$){if(!s)return null;for(;$!==null;)o(J,$),$=$.sibling;return null}function d(J){for(var $=new Map;J!==null;)J.key!==null?$.set(J.key,J):$.set(J.index,J),J=J.sibling;return $}function _(J,$){return J=pr(J,$),J.index=0,J.sibling=null,J}function x(J,$,W){return J.index=W,s?(W=J.alternate,W!==null?(W=W.index,W<$?(J.flags|=67108866,$):W):(J.flags|=67108866,$)):(J.flags|=1048576,$)}function b(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function k(J,$,W,de){return $===null||$.tag!==6?($=Ep(W,J.mode,de),$.return=J,$):($=_($,W),$.return=J,$)}function G(J,$,W,de){var Le=W.type;return Le===U?le(J,$,W.props.children,de,W.key):$!==null&&($.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===R&&Aa(Le)===$.type)?($=_($,W.props),uu($,W),$.return=J,$):($=lh(W.type,W.key,W.props,null,J.mode,de),uu($,W),$.return=J,$)}function X(J,$,W,de){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Tp(W,J.mode,de),$.return=J,$):($=_($,W.children||[]),$.return=J,$)}function le(J,$,W,de,Le){return $===null||$.tag!==7?($=Ea(W,J.mode,de,Le),$.return=J,$):($=_($,W),$.return=J,$)}function he(J,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ep(""+$,J.mode,W),$.return=J,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return W=lh($.type,$.key,$.props,null,J.mode,W),uu(W,$),W.return=J,W;case N:return $=Tp($,J.mode,W),$.return=J,$;case R:return $=Aa($),he(J,$,W)}if(Ie($)||P($))return $=Ea($,J.mode,W,null),$.return=J,$;if(typeof $.then=="function")return he(J,ph($),W);if($.$$typeof===H)return he(J,dh(J,$),W);gh(J,$)}return null}function te(J,$,W,de){var Le=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Le!==null?null:k(J,$,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return W.key===Le?G(J,$,W,de):null;case N:return W.key===Le?X(J,$,W,de):null;case R:return W=Aa(W),te(J,$,W,de)}if(Ie(W)||P(W))return Le!==null?null:le(J,$,W,de,null);if(typeof W.then=="function")return te(J,$,ph(W),de);if(W.$$typeof===H)return te(J,$,dh(J,W),de);gh(J,W)}return null}function ie(J,$,W,de,Le){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return J=J.get(W)||null,k($,J,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case S:return J=J.get(de.key===null?W:de.key)||null,G($,J,de,Le);case N:return J=J.get(de.key===null?W:de.key)||null,X($,J,de,Le);case R:return de=Aa(de),ie(J,$,W,de,Le)}if(Ie(de)||P(de))return J=J.get(W)||null,le($,J,de,Le,null);if(typeof de.then=="function")return ie(J,$,W,ph(de),Le);if(de.$$typeof===H)return ie(J,$,W,dh($,de),Le);gh($,de)}return null}function Ne(J,$,W,de){for(var Le=null,vt=null,Re=$,it=$=0,ut=null;Re!==null&&it<W.length;it++){Re.index>it?(ut=Re,Re=null):ut=Re.sibling;var _t=te(J,Re,W[it],de);if(_t===null){Re===null&&(Re=ut);break}s&&Re&&_t.alternate===null&&o(J,Re),$=x(_t,$,it),vt===null?Le=_t:vt.sibling=_t,vt=_t,Re=ut}if(it===W.length)return l(J,Re),mt&&gr(J,it),Le;if(Re===null){for(;it<W.length;it++)Re=he(J,W[it],de),Re!==null&&($=x(Re,$,it),vt===null?Le=Re:vt.sibling=Re,vt=Re);return mt&&gr(J,it),Le}for(Re=d(Re);it<W.length;it++)ut=ie(Re,J,it,W[it],de),ut!==null&&(s&&ut.alternate!==null&&Re.delete(ut.key===null?it:ut.key),$=x(ut,$,it),vt===null?Le=ut:vt.sibling=ut,vt=ut);return s&&Re.forEach(function(Co){return o(J,Co)}),mt&&gr(J,it),Le}function He(J,$,W,de){if(W==null)throw Error(i(151));for(var Le=null,vt=null,Re=$,it=$=0,ut=null,_t=W.next();Re!==null&&!_t.done;it++,_t=W.next()){Re.index>it?(ut=Re,Re=null):ut=Re.sibling;var Co=te(J,Re,_t.value,de);if(Co===null){Re===null&&(Re=ut);break}s&&Re&&Co.alternate===null&&o(J,Re),$=x(Co,$,it),vt===null?Le=Co:vt.sibling=Co,vt=Co,Re=ut}if(_t.done)return l(J,Re),mt&&gr(J,it),Le;if(Re===null){for(;!_t.done;it++,_t=W.next())_t=he(J,_t.value,de),_t!==null&&($=x(_t,$,it),vt===null?Le=_t:vt.sibling=_t,vt=_t);return mt&&gr(J,it),Le}for(Re=d(Re);!_t.done;it++,_t=W.next())_t=ie(Re,J,it,_t.value,de),_t!==null&&(s&&_t.alternate!==null&&Re.delete(_t.key===null?it:_t.key),$=x(_t,$,it),vt===null?Le=_t:vt.sibling=_t,vt=_t);return s&&Re.forEach(function(Z2){return o(J,Z2)}),mt&&gr(J,it),Le}function Dt(J,$,W,de){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case S:e:{for(var Le=W.key;$!==null;){if($.key===Le){if(Le=W.type,Le===U){if($.tag===7){l(J,$.sibling),de=_($,W.props.children),de.return=J,J=de;break e}}else if($.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===R&&Aa(Le)===$.type){l(J,$.sibling),de=_($,W.props),uu(de,W),de.return=J,J=de;break e}l(J,$);break}else o(J,$);$=$.sibling}W.type===U?(de=Ea(W.props.children,J.mode,de,W.key),de.return=J,J=de):(de=lh(W.type,W.key,W.props,null,J.mode,de),uu(de,W),de.return=J,J=de)}return b(J);case N:e:{for(Le=W.key;$!==null;){if($.key===Le)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){l(J,$.sibling),de=_($,W.children||[]),de.return=J,J=de;break e}else{l(J,$);break}else o(J,$);$=$.sibling}de=Tp(W,J.mode,de),de.return=J,J=de}return b(J);case R:return W=Aa(W),Dt(J,$,W,de)}if(Ie(W))return Ne(J,$,W,de);if(P(W)){if(Le=P(W),typeof Le!="function")throw Error(i(150));return W=Le.call(W),He(J,$,W,de)}if(typeof W.then=="function")return Dt(J,$,ph(W),de);if(W.$$typeof===H)return Dt(J,$,dh(J,W),de);gh(J,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(l(J,$.sibling),de=_($,W),de.return=J,J=de):(l(J,$),de=Ep(W,J.mode,de),de.return=J,J=de),b(J)):l(J,$)}return function(J,$,W,de){try{cu=0;var Le=Dt(J,$,W,de);return El=null,Le}catch(Re){if(Re===xl||Re===fh)throw Re;var vt=Mi(29,Re,null,J.mode);return vt.lanes=de,vt.return=J,vt}finally{}}}var Ia=K_(!0),Y_=K_(!1),ho=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function mo(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(wt&2)!==0){var _=d.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),d.pending=o,o=ah(s),D_(s,null,l),o}return oh(s,d,o,l),ah(s)}function du(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,nt(s,l)}}function Up(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var _=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?_=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?_=x=o:x=x.next=o}else _=x=o;l={baseState:d.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var Vp=!1;function hu(){if(Vp){var s=_l;if(s!==null)throw s}}function fu(s,o,l,d){Vp=!1;var _=s.updateQueue;ho=!1;var x=_.firstBaseUpdate,b=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var G=k,X=G.next;G.next=null,b===null?x=X:b.next=X,b=G;var le=s.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==b&&(k===null?le.firstBaseUpdate=X:k.next=X,le.lastBaseUpdate=G))}if(x!==null){var he=_.baseState;b=0,le=X=G=null,k=x;do{var te=k.lane&-536870913,ie=te!==k.lane;if(ie?(ct&te)===te:(d&te)===te){te!==0&&te===vl&&(Vp=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ne=s,He=k;te=o;var Dt=l;switch(He.tag){case 1:if(Ne=He.payload,typeof Ne=="function"){he=Ne.call(Dt,he,te);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=He.payload,te=typeof Ne=="function"?Ne.call(Dt,he,te):Ne,te==null)break e;he=E({},he,te);break e;case 2:ho=!0}}te=k.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=_.callbacks,ie===null?_.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(X=le=ie,G=he):le=le.next=ie,b|=te;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,_.lastBaseUpdate=ie,_.shared.pending=null}}while(!0);le===null&&(G=he),_.baseState=G,_.firstBaseUpdate=X,_.lastBaseUpdate=le,x===null&&(_.shared.lanes=0),_o|=b,s.lanes=b,s.memoizedState=he}}function J_(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Q_(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)J_(l[s],o)}var Tl=z(null),yh=z(0);function W_(s,o){s=Nr,ve(yh,s),ve(Tl,o),Nr=s|o.baseLanes}function Op(){ve(yh,Nr),ve(Tl,Tl.current)}function jp(){Nr=yh.current,ae(Tl),ae(yh)}var ki=z(null),ns=null;function po(s){var o=s.alternate;ve(fn,fn.current&1),ve(ki,s),ns===null&&(o===null||Tl.current!==null||o.memoizedState!==null)&&(ns=s)}function Fp(s){ve(fn,fn.current),ve(ki,s),ns===null&&(ns=s)}function X_(s){s.tag===22?(ve(fn,fn.current),ve(ki,s),ns===null&&(ns=s)):go()}function go(){ve(fn,fn.current),ve(ki,ki.current)}function Pi(s){ae(ki),ns===s&&(ns=null),ae(fn)}var fn=z(0);function vh(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$g(l)||Kg(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _r=0,et=null,Ct=null,_n=null,_h=!1,wl=!1,Ca=!1,xh=0,mu=0,bl=null,BR=0;function an(){throw Error(i(321))}function qp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Di(s[l],o[l]))return!1;return!0}function Hp(s,o,l,d,_,x){return _r=x,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=s===null||s.memoizedState===null?Lx:ig,Ca=!1,x=l(d,_),Ca=!1,wl&&(x=ex(o,l,d,_)),Z_(s),x}function Z_(s){Y.H=yu;var o=Ct!==null&&Ct.next!==null;if(_r=0,_n=Ct=et=null,_h=!1,mu=0,bl=null,o)throw Error(i(300));s===null||xn||(s=s.dependencies,s!==null&&uh(s)&&(xn=!0))}function ex(s,o,l,d){et=s;var _=0;do{if(wl&&(bl=null),mu=0,wl=!1,25<=_)throw Error(i(301));if(_+=1,_n=Ct=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=Ux,x=o(l,d)}while(wl);return x}function GR(){var s=Y.H,o=s.useState()[0];return o=typeof o.then=="function"?pu(o):o,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(et.flags|=1024),o}function Bp(){var s=xh!==0;return xh=0,s}function Gp(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function zp(s){if(_h){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}_h=!1}_r=0,_n=Ct=et=null,wl=!1,mu=xh=0,bl=null}function ri(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?et.memoizedState=_n=s:_n=_n.next=s,_n}function mn(){if(Ct===null){var s=et.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var o=_n===null?et.memoizedState:_n.next;if(o!==null)_n=o,Ct=s;else{if(s===null)throw et.alternate===null?Error(i(467)):Error(i(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},_n===null?et.memoizedState=_n=s:_n=_n.next=s}return _n}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(s){var o=mu;return mu+=1,bl===null&&(bl=[]),s=G_(bl,s,o),o=et,(_n===null?o.memoizedState:_n.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?Lx:ig),s}function Th(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pu(s);if(s.$$typeof===H)return jn(s)}throw Error(i(438,String(s)))}function $p(s){var o=null,l=et.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=et.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Eh(),et.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),d=0;d<s;d++)l[d]=V;return o.index++,l}function xr(s,o){return typeof o=="function"?o(s):o}function wh(s){var o=mn();return Kp(o,Ct,s)}function Kp(s,o,l){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var _=s.baseQueue,x=d.pending;if(x!==null){if(_!==null){var b=_.next;_.next=x.next,x.next=b}o.baseQueue=_=x,d.pending=null}if(x=s.baseState,_===null)s.memoizedState=x;else{o=_.next;var k=b=null,G=null,X=o,le=!1;do{var he=X.lane&-536870913;if(he!==X.lane?(ct&he)===he:(_r&he)===he){var te=X.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),he===vl&&(le=!0);else if((_r&te)===te){X=X.next,te===vl&&(le=!0);continue}else he={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},G===null?(k=G=he,b=x):G=G.next=he,et.lanes|=te,_o|=te;he=X.action,Ca&&l(x,he),x=X.hasEagerState?X.eagerState:l(x,he)}else te={lane:he,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},G===null?(k=G=te,b=x):G=G.next=te,et.lanes|=he,_o|=he;X=X.next}while(X!==null&&X!==o);if(G===null?b=x:G.next=k,!Di(x,s.memoizedState)&&(xn=!0,le&&(l=_l,l!==null)))throw l;s.memoizedState=x,s.baseState=b,s.baseQueue=G,d.lastRenderedState=x}return _===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Yp(s){var o=mn(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=l.dispatch,_=l.pending,x=o.memoizedState;if(_!==null){l.pending=null;var b=_=_.next;do x=s(x,b.action),b=b.next;while(b!==_);Di(x,o.memoizedState)||(xn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),l.lastRenderedState=x}return[x,d]}function tx(s,o,l){var d=et,_=mn(),x=mt;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=o();var b=!Di((Ct||_).memoizedState,l);if(b&&(_.memoizedState=l,xn=!0),_=_.queue,Wp(sx.bind(null,d,_,s),[s]),_.getSnapshot!==o||b||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,Sl(9,{destroy:void 0},ix.bind(null,d,_,l,o),null),Pt===null)throw Error(i(349));x||(_r&127)!==0||nx(d,o,l)}return l}function nx(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=et.updateQueue,o===null?(o=Eh(),et.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function ix(s,o,l,d){o.value=l,o.getSnapshot=d,rx(o)&&ox(s)}function sx(s,o,l){return l(function(){rx(o)&&ox(s)})}function rx(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Di(s,l)}catch{return!0}}function ox(s){var o=xa(s,2);o!==null&&Ei(o,s,2)}function Jp(s){var o=ri();if(typeof s=="function"){var l=s;if(s=l(),Ca){gn(!0);try{l()}finally{gn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:s},o}function ax(s,o,l,d){return s.baseState=l,Kp(s,Ct,typeof d=="function"?d:xr)}function zR(s,o,l,d,_){if(Ah(s))throw Error(i(485));if(s=o.action,s!==null){var x={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){x.listeners.push(b)}};Y.T!==null?l(!0):x.isTransition=!1,d(x),l=o.pending,l===null?(x.next=o.pending=x,lx(o,x)):(x.next=l.next,o.pending=l.next=x)}}function lx(s,o){var l=o.action,d=o.payload,_=s.state;if(o.isTransition){var x=Y.T,b={};Y.T=b;try{var k=l(_,d),G=Y.S;G!==null&&G(b,k),cx(s,o,k)}catch(X){Qp(s,o,X)}finally{x!==null&&b.types!==null&&(x.types=b.types),Y.T=x}}else try{x=l(_,d),cx(s,o,x)}catch(X){Qp(s,o,X)}}function cx(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){ux(s,o,d)},function(d){return Qp(s,o,d)}):ux(s,o,l)}function ux(s,o,l){o.status="fulfilled",o.value=l,dx(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,lx(s,l)))}function Qp(s,o,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,dx(o),o=o.next;while(o!==d)}s.action=null}function dx(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function hx(s,o){return o}function fx(s,o){if(mt){var l=Pt.formState;if(l!==null){e:{var d=et;if(mt){if(Ht){t:{for(var _=Ht,x=ts;_.nodeType!==8;){if(!x){_=null;break t}if(_=is(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){Ht=is(_.nextSibling),d=_.data==="F!";break e}}co(d)}d=!1}d&&(o=l[0])}}return l=ri(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hx,lastRenderedState:o},l.queue=d,l=Mx.bind(null,et,d),d.dispatch=l,d=Jp(!1),x=ng.bind(null,et,!1,d.queue),d=ri(),_={state:o,dispatch:null,action:s,pending:null},d.queue=_,l=zR.bind(null,et,_,x,l),_.dispatch=l,d.memoizedState=s,[o,l,!1]}function mx(s){var o=mn();return px(o,Ct,s)}function px(s,o,l){if(o=Kp(s,o,hx)[0],s=wh(xr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=pu(o)}catch(b){throw b===xl?fh:b}else d=o;o=mn();var _=o.queue,x=_.dispatch;return l!==o.memoizedState&&(et.flags|=2048,Sl(9,{destroy:void 0},$R.bind(null,_,l),null)),[d,x,s]}function $R(s,o){s.action=o}function gx(s){var o=mn(),l=Ct;if(l!==null)return px(o,l,s);mn(),o=o.memoizedState,l=mn();var d=l.queue.dispatch;return l.memoizedState=s,[o,d,!1]}function Sl(s,o,l,d){return s={tag:s,create:l,deps:d,inst:o,next:null},o=et.updateQueue,o===null&&(o=Eh(),et.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s),s}function yx(){return mn().memoizedState}function bh(s,o,l,d){var _=ri();et.flags|=s,_.memoizedState=Sl(1|o,{destroy:void 0},l,d===void 0?null:d)}function Sh(s,o,l,d){var _=mn();d=d===void 0?null:d;var x=_.memoizedState.inst;Ct!==null&&d!==null&&qp(d,Ct.memoizedState.deps)?_.memoizedState=Sl(o,x,l,d):(et.flags|=s,_.memoizedState=Sl(1|o,x,l,d))}function vx(s,o){bh(8390656,8,s,o)}function Wp(s,o){Sh(2048,8,s,o)}function KR(s){et.flags|=4;var o=et.updateQueue;if(o===null)o=Eh(),et.updateQueue=o,o.events=[s];else{var l=o.events;l===null?o.events=[s]:l.push(s)}}function _x(s){var o=mn().memoizedState;return KR({ref:o,nextImpl:s}),function(){if((wt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function xx(s,o){return Sh(4,2,s,o)}function Ex(s,o){return Sh(4,4,s,o)}function Tx(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wx(s,o,l){l=l!=null?l.concat([s]):null,Sh(4,4,Tx.bind(null,o,s),l)}function Xp(){}function bx(s,o){var l=mn();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&qp(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function Sx(s,o){var l=mn();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&qp(o,d[1]))return d[0];if(d=s(),Ca){gn(!0);try{s()}finally{gn(!1)}}return l.memoizedState=[d,o],d}function Zp(s,o,l){return l===void 0||(_r&1073741824)!==0&&(ct&261930)===0?s.memoizedState=o:(s.memoizedState=l,s=AE(),et.lanes|=s,_o|=s,l)}function Ax(s,o,l,d){return Di(l,o)?l:Tl.current!==null?(s=Zp(s,l,d),Di(s,o)||(xn=!0),s):(_r&42)===0||(_r&1073741824)!==0&&(ct&261930)===0?(xn=!0,s.memoizedState=l):(s=AE(),et.lanes|=s,_o|=s,o)}function Nx(s,o,l,d,_){var x=ce.p;ce.p=x!==0&&8>x?x:8;var b=Y.T,k={};Y.T=k,ng(s,!1,o,l);try{var G=_(),X=Y.S;if(X!==null&&X(k,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=HR(G,d);gu(s,o,le,Vi(s))}else gu(s,o,d,Vi(s))}catch(he){gu(s,o,{then:function(){},status:"rejected",reason:he},Vi())}finally{ce.p=x,b!==null&&k.types!==null&&(b.types=k.types),Y.T=b}}function YR(){}function eg(s,o,l,d){if(s.tag!==5)throw Error(i(476));var _=Ix(s).queue;Nx(s,_,o,ye,l===null?YR:function(){return Cx(s),l(d)})}function Ix(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:ye},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Cx(s){var o=Ix(s);o.next===null&&(o=s.alternate.memoizedState),gu(s,o.next.queue,{},Vi())}function tg(){return jn(ku)}function Rx(){return mn().memoizedState}function Dx(){return mn().memoizedState}function JR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Vi();s=fo(l);var d=mo(o,s,l);d!==null&&(Ei(d,o,l),du(d,o,l)),o={cache:Rp()},s.payload=o;return}o=o.return}}function QR(s,o,l){var d=Vi();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ah(s)?kx(o,l):(l=_p(s,o,l,d),l!==null&&(Ei(l,s,d),Px(l,o,d)))}function Mx(s,o,l){var d=Vi();gu(s,o,l,d)}function gu(s,o,l,d){var _={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ah(s))kx(o,_);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var b=o.lastRenderedState,k=x(b,l);if(_.hasEagerState=!0,_.eagerState=k,Di(k,b))return oh(s,o,_,0),Pt===null&&rh(),!1}catch{}finally{}if(l=_p(s,o,_,d),l!==null)return Ei(l,s,d),Px(l,o,d),!0}return!1}function ng(s,o,l,d){if(d={lane:2,revertLane:Pg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ah(s)){if(o)throw Error(i(479))}else o=_p(s,l,d,2),o!==null&&Ei(o,s,2)}function Ah(s){var o=s.alternate;return s===et||o!==null&&o===et}function kx(s,o){wl=_h=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Px(s,o,l){if((l&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,nt(s,l)}}var yu={readContext:jn,use:Th,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};yu.useEffectEvent=an;var Lx={readContext:jn,use:Th,useCallback:function(s,o){return ri().memoizedState=[s,o===void 0?null:o],s},useContext:jn,useEffect:vx,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,bh(4194308,4,Tx.bind(null,o,s),l)},useLayoutEffect:function(s,o){return bh(4194308,4,s,o)},useInsertionEffect:function(s,o){bh(4,2,s,o)},useMemo:function(s,o){var l=ri();o=o===void 0?null:o;var d=s();if(Ca){gn(!0);try{s()}finally{gn(!1)}}return l.memoizedState=[d,o],d},useReducer:function(s,o,l){var d=ri();if(l!==void 0){var _=l(o);if(Ca){gn(!0);try{l(o)}finally{gn(!1)}}}else _=o;return d.memoizedState=d.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},d.queue=s,s=s.dispatch=QR.bind(null,et,s),[d.memoizedState,s]},useRef:function(s){var o=ri();return s={current:s},o.memoizedState=s},useState:function(s){s=Jp(s);var o=s.queue,l=Mx.bind(null,et,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Xp,useDeferredValue:function(s,o){var l=ri();return Zp(l,s,o)},useTransition:function(){var s=Jp(!1);return s=Nx.bind(null,et,s.queue,!0,!1),ri().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var d=et,_=ri();if(mt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),Pt===null)throw Error(i(349));(ct&127)!==0||nx(d,o,l)}_.memoizedState=l;var x={value:l,getSnapshot:o};return _.queue=x,vx(sx.bind(null,d,x,s),[s]),d.flags|=2048,Sl(9,{destroy:void 0},ix.bind(null,d,x,l,o),null),l},useId:function(){var s=ri(),o=Pt.identifierPrefix;if(mt){var l=Js,d=Ys;l=(d&~(1<<32-Vt(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=xh++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=BR++,o="_"+o+"r_"+l.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:tg,useFormState:fx,useActionState:fx,useOptimistic:function(s){var o=ri();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=ng.bind(null,et,!0,l),l.dispatch=o,[s,o]},useMemoCache:$p,useCacheRefresh:function(){return ri().memoizedState=JR.bind(null,et)},useEffectEvent:function(s){var o=ri(),l={impl:s};return o.memoizedState=l,function(){if((wt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},ig={readContext:jn,use:Th,useCallback:bx,useContext:jn,useEffect:Wp,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:Ex,useMemo:Sx,useReducer:wh,useRef:yx,useState:function(){return wh(xr)},useDebugValue:Xp,useDeferredValue:function(s,o){var l=mn();return Ax(l,Ct.memoizedState,s,o)},useTransition:function(){var s=wh(xr)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:pu(s),o]},useSyncExternalStore:tx,useId:Rx,useHostTransitionStatus:tg,useFormState:mx,useActionState:mx,useOptimistic:function(s,o){var l=mn();return ax(l,Ct,s,o)},useMemoCache:$p,useCacheRefresh:Dx};ig.useEffectEvent=_x;var Ux={readContext:jn,use:Th,useCallback:bx,useContext:jn,useEffect:Wp,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:Ex,useMemo:Sx,useReducer:Yp,useRef:yx,useState:function(){return Yp(xr)},useDebugValue:Xp,useDeferredValue:function(s,o){var l=mn();return Ct===null?Zp(l,s,o):Ax(l,Ct.memoizedState,s,o)},useTransition:function(){var s=Yp(xr)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:pu(s),o]},useSyncExternalStore:tx,useId:Rx,useHostTransitionStatus:tg,useFormState:gx,useActionState:gx,useOptimistic:function(s,o){var l=mn();return Ct!==null?ax(l,Ct,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:Dx};Ux.useEffectEvent=_x;function sg(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:E({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var rg={enqueueSetState:function(s,o,l){s=s._reactInternals;var d=Vi(),_=fo(d);_.payload=o,l!=null&&(_.callback=l),o=mo(s,_,d),o!==null&&(Ei(o,s,d),du(o,s,d))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=Vi(),_=fo(d);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=mo(s,_,d),o!==null&&(Ei(o,s,d),du(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Vi(),d=fo(l);d.tag=2,o!=null&&(d.callback=o),o=mo(s,d,l),o!==null&&(Ei(o,s,l),du(o,s,l))}};function Vx(s,o,l,d,_,x,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,b):o.prototype&&o.prototype.isPureReactComponent?!iu(l,d)||!iu(_,x):!0}function Ox(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&rg.enqueueReplaceState(o,o.state,null)}function Ra(s,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(s=s.defaultProps){l===o&&(l=E({},l));for(var _ in s)l[_]===void 0&&(l[_]=s[_])}return l}function jx(s){sh(s)}function Fx(s){console.error(s)}function qx(s){sh(s)}function Nh(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Hx(s,o,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function og(s,o,l){return l=fo(l),l.tag=3,l.payload={element:null},l.callback=function(){Nh(s,o)},l}function Bx(s){return s=fo(s),s.tag=3,s}function Gx(s,o,l,d){var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var x=d.value;s.payload=function(){return _(x)},s.callback=function(){Hx(o,l,d)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Hx(o,l,d),typeof _!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function WR(s,o,l,d,_){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&yl(o,l,_,!0),l=ki.current,l!==null){switch(l.tag){case 31:case 13:return ns===null?jh():l.alternate===null&&ln===0&&(ln=3),l.flags&=-257,l.flags|=65536,l.lanes=_,d===mh?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),Dg(s,d,_)),!1;case 22:return l.flags|=65536,d===mh?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),Dg(s,d,_)),!1}throw Error(i(435,l.tag))}return Dg(s,d,_),jh(),!1}if(mt)return o=ki.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,d!==Sp&&(s=Error(i(422),{cause:d}),ou(Xi(s,l)))):(d!==Sp&&(o=Error(i(423),{cause:d}),ou(Xi(o,l))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,d=Xi(d,l),_=og(s.stateNode,d,_),Up(s,_),ln!==4&&(ln=2)),!1;var x=Error(i(520),{cause:d});if(x=Xi(x,l),Su===null?Su=[x]:Su.push(x),ln!==4&&(ln=2),o===null)return!0;d=Xi(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=_&-_,l.lanes|=s,s=og(l.stateNode,d,s),Up(l,s),!1;case 1:if(o=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xo===null||!xo.has(x))))return l.flags|=65536,_&=-_,l.lanes|=_,_=Bx(_),Gx(_,s,l,d),Up(l,_),!1}l=l.return}while(l!==null);return!1}var ag=Error(i(461)),xn=!1;function Fn(s,o,l,d){o.child=s===null?Y_(o,null,l,d):Ia(o,s.child,l,d)}function zx(s,o,l,d,_){l=l.render;var x=o.ref;if("ref"in d){var b={};for(var k in d)k!=="ref"&&(b[k]=d[k])}else b=d;return ba(o),d=Hp(s,o,l,b,x,_),k=Bp(),s!==null&&!xn?(Gp(s,o,_),Er(s,o,_)):(mt&&k&&wp(o),o.flags|=1,Fn(s,o,d,_),o.child)}function $x(s,o,l,d,_){if(s===null){var x=l.type;return typeof x=="function"&&!xp(x)&&x.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=x,Kx(s,o,x,d,_)):(s=lh(l.type,null,d,o,o.mode,_),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!pg(s,_)){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:iu,l(b,d)&&s.ref===o.ref)return Er(s,o,_)}return o.flags|=1,s=pr(x,d),s.ref=o.ref,s.return=o,o.child=s}function Kx(s,o,l,d,_){if(s!==null){var x=s.memoizedProps;if(iu(x,d)&&s.ref===o.ref)if(xn=!1,o.pendingProps=d=x,pg(s,_))(s.flags&131072)!==0&&(xn=!0);else return o.lanes=s.lanes,Er(s,o,_)}return lg(s,o,l,d,_)}function Yx(s,o,l,d){var _=d.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,s!==null){for(d=o.child=s.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;d=_&~x}else d=0,o.child=null;return Jx(s,o,x,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&hh(o,x!==null?x.cachePool:null),x!==null?W_(o,x):Op(),X_(o);else return d=o.lanes=536870912,Jx(s,o,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(hh(o,x.cachePool),W_(o,x),go(),o.memoizedState=null):(s!==null&&hh(o,null),Op(),go());return Fn(s,o,_,l),o.child}function vu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Jx(s,o,l,d,_){var x=Mp();return x=x===null?null:{parent:vn._currentValue,pool:x},o.memoizedState={baseLanes:l,cachePool:x},s!==null&&hh(o,null),Op(),X_(o),s!==null&&yl(s,o,d,!0),o.childLanes=_,null}function Ih(s,o){return o=Rh({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Qx(s,o,l){return Ia(o,s.child,null,l),s=Ih(o,o.pendingProps),s.flags|=2,Pi(o),o.memoizedState=null,s}function XR(s,o,l){var d=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(mt){if(d.mode==="hidden")return s=Ih(o,d),o.lanes=536870912,vu(null,s);if(Fp(o),(s=Ht)?(s=lT(s,ts),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ao!==null?{id:Ys,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},l=k_(s),l.return=o,o.child=l,On=o,Ht=null)):s=null,s===null)throw co(o);return o.lanes=536870912,null}return Ih(o,d)}var x=s.memoizedState;if(x!==null){var b=x.dehydrated;if(Fp(o),_)if(o.flags&256)o.flags&=-257,o=Qx(s,o,l);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(xn||yl(s,o,l,!1),_=(l&s.childLanes)!==0,xn||_){if(d=Pt,d!==null&&(b=Kt(d,l),b!==0&&b!==x.retryLane))throw x.retryLane=b,xa(s,b),Ei(d,s,b),ag;jh(),o=Qx(s,o,l)}else s=x.treeContext,Ht=is(b.nextSibling),On=o,mt=!0,lo=null,ts=!1,s!==null&&U_(o,s),o=Ih(o,d),o.flags|=4096;return o}return s=pr(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Ch(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function lg(s,o,l,d,_){return ba(o),l=Hp(s,o,l,d,void 0,_),d=Bp(),s!==null&&!xn?(Gp(s,o,_),Er(s,o,_)):(mt&&d&&wp(o),o.flags|=1,Fn(s,o,l,_),o.child)}function Wx(s,o,l,d,_,x){return ba(o),o.updateQueue=null,l=ex(o,d,l,_),Z_(s),d=Bp(),s!==null&&!xn?(Gp(s,o,x),Er(s,o,x)):(mt&&d&&wp(o),o.flags|=1,Fn(s,o,l,x),o.child)}function Xx(s,o,l,d,_){if(ba(o),o.stateNode===null){var x=fl,b=l.contextType;typeof b=="object"&&b!==null&&(x=jn(b)),x=new l(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=rg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Pp(o),b=l.contextType,x.context=typeof b=="object"&&b!==null?jn(b):fl,x.state=o.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(sg(o,l,b,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(b=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),b!==x.state&&rg.enqueueReplaceState(x,x.state,null),fu(o,d,x,_),hu(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){x=o.stateNode;var k=o.memoizedProps,G=Ra(l,k);x.props=G;var X=x.context,le=l.contextType;b=fl,typeof le=="object"&&le!==null&&(b=jn(le));var he=l.getDerivedStateFromProps;le=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||X!==b)&&Ox(o,x,d,b),ho=!1;var te=o.memoizedState;x.state=te,fu(o,d,x,_),hu(),X=o.memoizedState,k||te!==X||ho?(typeof he=="function"&&(sg(o,l,he,d),X=o.memoizedState),(G=ho||Vx(o,l,G,d,te,X,b))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),x.props=d,x.state=X,x.context=b,d=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Lp(s,o),b=o.memoizedProps,le=Ra(l,b),x.props=le,he=o.pendingProps,te=x.context,X=l.contextType,G=fl,typeof X=="object"&&X!==null&&(G=jn(X)),k=l.getDerivedStateFromProps,(X=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==he||te!==G)&&Ox(o,x,d,G),ho=!1,te=o.memoizedState,x.state=te,fu(o,d,x,_),hu();var ie=o.memoizedState;b!==he||te!==ie||ho||s!==null&&s.dependencies!==null&&uh(s.dependencies)?(typeof k=="function"&&(sg(o,l,k,d),ie=o.memoizedState),(le=ho||Vx(o,l,le,d,te,ie,G)||s!==null&&s.dependencies!==null&&uh(s.dependencies))?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ie,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ie,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ie),x.props=d,x.state=ie,x.context=G,d=le):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),d=!1)}return x=d,Ch(s,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&d?(o.child=Ia(o,s.child,null,_),o.child=Ia(o,null,l,_)):Fn(s,o,l,_),o.memoizedState=x.state,s=o.child):s=Er(s,o,_),s}function Zx(s,o,l,d){return Ta(),o.flags|=256,Fn(s,o,l,d),o.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ug(s){return{baseLanes:s,cachePool:H_()}}function dg(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=Ui),s}function eE(s,o,l){var d=o.pendingProps,_=!1,x=(o.flags&128)!==0,b;if((b=x)||(b=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),b&&(_=!0,o.flags&=-129),b=(o.flags&32)!==0,o.flags&=-33,s===null){if(mt){if(_?po(o):go(),(s=Ht)?(s=lT(s,ts),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ao!==null?{id:Ys,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},l=k_(s),l.return=o,o.child=l,On=o,Ht=null)):s=null,s===null)throw co(o);return Kg(s)?o.lanes=32:o.lanes=536870912,null}var k=d.children;return d=d.fallback,_?(go(),_=o.mode,k=Rh({mode:"hidden",children:k},_),d=Ea(d,_,l,null),k.return=o,d.return=o,k.sibling=d,o.child=k,d=o.child,d.memoizedState=ug(l),d.childLanes=dg(s,b,l),o.memoizedState=cg,vu(null,d)):(po(o),hg(o,k))}var G=s.memoizedState;if(G!==null&&(k=G.dehydrated,k!==null)){if(x)o.flags&256?(po(o),o.flags&=-257,o=fg(s,o,l)):o.memoizedState!==null?(go(),o.child=s.child,o.flags|=128,o=null):(go(),k=d.fallback,_=o.mode,d=Rh({mode:"visible",children:d.children},_),k=Ea(k,_,l,null),k.flags|=2,d.return=o,k.return=o,d.sibling=k,o.child=d,Ia(o,s.child,null,l),d=o.child,d.memoizedState=ug(l),d.childLanes=dg(s,b,l),o.memoizedState=cg,o=vu(null,d));else if(po(o),Kg(k)){if(b=k.nextSibling&&k.nextSibling.dataset,b)var X=b.dgst;b=X,d=Error(i(419)),d.stack="",d.digest=b,ou({value:d,source:null,stack:null}),o=fg(s,o,l)}else if(xn||yl(s,o,l,!1),b=(l&s.childLanes)!==0,xn||b){if(b=Pt,b!==null&&(d=Kt(b,l),d!==0&&d!==G.retryLane))throw G.retryLane=d,xa(s,d),Ei(b,s,d),ag;$g(k)||jh(),o=fg(s,o,l)}else $g(k)?(o.flags|=192,o.child=s.child,o=null):(s=G.treeContext,Ht=is(k.nextSibling),On=o,mt=!0,lo=null,ts=!1,s!==null&&U_(o,s),o=hg(o,d.children),o.flags|=4096);return o}return _?(go(),k=d.fallback,_=o.mode,G=s.child,X=G.sibling,d=pr(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,X!==null?k=pr(X,k):(k=Ea(k,_,l,null),k.flags|=2),k.return=o,d.return=o,d.sibling=k,o.child=d,vu(null,d),d=o.child,k=s.child.memoizedState,k===null?k=ug(l):(_=k.cachePool,_!==null?(G=vn._currentValue,_=_.parent!==G?{parent:G,pool:G}:_):_=H_(),k={baseLanes:k.baseLanes|l,cachePool:_}),d.memoizedState=k,d.childLanes=dg(s,b,l),o.memoizedState=cg,vu(s.child,d)):(po(o),l=s.child,s=l.sibling,l=pr(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,s!==null&&(b=o.deletions,b===null?(o.deletions=[s],o.flags|=16):b.push(s)),o.child=l,o.memoizedState=null,l)}function hg(s,o){return o=Rh({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Rh(s,o){return s=Mi(22,s,null,o),s.lanes=0,s}function fg(s,o,l){return Ia(o,s.child,null,l),s=hg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function tE(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Ip(s.return,o,l)}function mg(s,o,l,d,_,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:_,treeForkCount:x}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=_,b.treeForkCount=x)}function nE(s,o,l){var d=o.pendingProps,_=d.revealOrder,x=d.tail;d=d.children;var b=fn.current,k=(b&2)!==0;if(k?(b=b&1|2,o.flags|=128):b&=1,ve(fn,b),Fn(s,o,d,l),d=mt?ru:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tE(s,l,o);else if(s.tag===19)tE(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(l=o.child,_=null;l!==null;)s=l.alternate,s!==null&&vh(s)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),mg(o,!1,_,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(s=_.alternate,s!==null&&vh(s)===null){o.child=_;break}s=_.sibling,_.sibling=l,l=_,_=s}mg(o,!0,l,null,x,d);break;case"together":mg(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Er(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),_o|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(yl(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=pr(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=pr(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function pg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&uh(s)))}function ZR(s,o,l){switch(o.tag){case 3:Wt(o,o.stateNode.containerInfo),uo(o,vn,s.memoizedState.cache),Ta();break;case 27:case 5:ms(o);break;case 4:Wt(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fp(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(po(o),o.flags|=128,null):(l&o.child.childLanes)!==0?eE(s,o,l):(po(o),s=Er(s,o,l),s!==null?s.sibling:null);po(o);break;case 19:var _=(s.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(yl(s,o,l,!1),d=(l&o.childLanes)!==0),_){if(d)return nE(s,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ve(fn,fn.current),d)break;return null;case 22:return o.lanes=0,Yx(s,o,l,o.pendingProps);case 24:uo(o,vn,s.memoizedState.cache)}return Er(s,o,l)}function iE(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)xn=!0;else{if(!pg(s,l)&&(o.flags&128)===0)return xn=!1,ZR(s,o,l);xn=(s.flags&131072)!==0}else xn=!1,mt&&(o.flags&1048576)!==0&&L_(o,ru,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(s=Aa(o.elementType),o.type=s,typeof s=="function")xp(s)?(d=Ra(s,d),o.tag=1,o=Xx(null,o,s,d,l)):(o.tag=0,o=lg(null,o,s,d,l));else{if(s!=null){var _=s.$$typeof;if(_===ee){o.tag=11,o=zx(null,o,s,d,l);break e}else if(_===C){o.tag=14,o=$x(null,o,s,d,l);break e}}throw o=pe(s)||s,Error(i(306,o,""))}}return o;case 0:return lg(s,o,o.type,o.pendingProps,l);case 1:return d=o.type,_=Ra(d,o.pendingProps),Xx(s,o,d,_,l);case 3:e:{if(Wt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;_=x.element,Lp(s,o),fu(o,d,null,l);var b=o.memoizedState;if(d=b.cache,uo(o,vn,d),d!==x.cache&&Cp(o,[vn],l,!0),hu(),d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Zx(s,o,d,l);break e}else if(d!==_){_=Xi(Error(i(424)),o),ou(_),o=Zx(s,o,d,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ht=is(s.firstChild),On=o,mt=!0,lo=null,ts=!0,l=Y_(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ta(),d===_){o=Er(s,o,l);break e}Fn(s,o,d,l)}o=o.child}return o;case 26:return Ch(s,o),s===null?(l=mT(o.type,null,o.pendingProps,null))?o.memoizedState=l:mt||(l=o.type,s=o.pendingProps,d=$h(qe.current).createElement(l),d[kt]=o,d[on]=s,qn(d,l,s),qt(d),o.stateNode=d):o.memoizedState=mT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ms(o),s===null&&mt&&(d=o.stateNode=dT(o.type,o.pendingProps,qe.current),On=o,ts=!0,_=Ht,bo(o.type)?(Yg=_,Ht=is(d.firstChild)):Ht=_),Fn(s,o,o.pendingProps.children,l),Ch(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&mt&&((_=d=Ht)&&(d=C2(d,o.type,o.pendingProps,ts),d!==null?(o.stateNode=d,On=o,Ht=is(d.firstChild),ts=!1,_=!0):_=!1),_||co(o)),ms(o),_=o.type,x=o.pendingProps,b=s!==null?s.memoizedProps:null,d=x.children,Bg(_,x)?d=null:b!==null&&Bg(_,b)&&(o.flags|=32),o.memoizedState!==null&&(_=Hp(s,o,GR,null,null,l),ku._currentValue=_),Ch(s,o),Fn(s,o,d,l),o.child;case 6:return s===null&&mt&&((s=l=Ht)&&(l=R2(l,o.pendingProps,ts),l!==null?(o.stateNode=l,On=o,Ht=null,s=!0):s=!1),s||co(o)),null;case 13:return eE(s,o,l);case 4:return Wt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Ia(o,null,d,l):Fn(s,o,d,l),o.child;case 11:return zx(s,o,o.type,o.pendingProps,l);case 7:return Fn(s,o,o.pendingProps,l),o.child;case 8:return Fn(s,o,o.pendingProps.children,l),o.child;case 12:return Fn(s,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,uo(o,o.type,d.value),Fn(s,o,d.children,l),o.child;case 9:return _=o.type._context,d=o.pendingProps.children,ba(o),_=jn(_),d=d(_),o.flags|=1,Fn(s,o,d,l),o.child;case 14:return $x(s,o,o.type,o.pendingProps,l);case 15:return Kx(s,o,o.type,o.pendingProps,l);case 19:return nE(s,o,l);case 31:return XR(s,o,l);case 22:return Yx(s,o,l,o.pendingProps);case 24:return ba(o),d=jn(vn),s===null?(_=Mp(),_===null&&(_=Pt,x=Rp(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=l),_=x),o.memoizedState={parent:d,cache:_},Pp(o),uo(o,vn,_)):((s.lanes&l)!==0&&(Lp(s,o),fu(o,null,null,l),hu()),_=s.memoizedState,x=o.memoizedState,_.parent!==d?(_={parent:d,cache:d},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),uo(o,vn,d)):(d=x.cache,uo(o,vn,d),d!==_.cache&&Cp(o,[vn],l,!0))),Fn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Tr(s){s.flags|=4}function gg(s,o,l,d,_){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(RE())s.flags|=8192;else throw Na=mh,kp}else s.flags&=-16777217}function sE(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!_T(o))if(RE())s.flags|=8192;else throw Na=mh,kp}function Dh(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ae():536870912,s.lanes|=o,Cl|=o)}function _u(s,o){if(!mt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Bt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var _=s.child;_!==null;)l|=_.lanes|_.childLanes,d|=_.subtreeFlags&65011712,d|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)l|=_.lanes|_.childLanes,d|=_.subtreeFlags,d|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function e2(s,o,l){var d=o.pendingProps;switch(bp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return Bt(o),null;case 3:return l=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),vr(vn),We(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(gl(o)?Tr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ap())),Bt(o),null;case 26:var _=o.type,x=o.memoizedState;return s===null?(Tr(o),x!==null?(Bt(o),sE(o,x)):(Bt(o),gg(o,_,null,d,l))):x?x!==s.memoizedState?(Tr(o),Bt(o),sE(o,x)):(Bt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&Tr(o),Bt(o),gg(o,_,s,d,l)),null;case 27:if(nn(o),l=qe.current,_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Tr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Bt(o),null}s=Ee.current,gl(o)?V_(o):(s=dT(_,d,l),o.stateNode=s,Tr(o))}return Bt(o),null;case 5:if(nn(o),_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Tr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Bt(o),null}if(x=Ee.current,gl(o))V_(o);else{var b=$h(qe.current);switch(x){case 1:x=b.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=b.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=b.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?b.createElement("select",{is:d.is}):b.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?b.createElement(_,{is:d.is}):b.createElement(_)}}x[kt]=o,x[on]=d;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)x.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=x;e:switch(qn(x,_,d),_){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Tr(o)}}return Bt(o),gg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,l),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Tr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=qe.current,gl(o)){if(s=o.stateNode,l=o.memoizedProps,d=null,_=On,_!==null)switch(_.tag){case 27:case 5:d=_.memoizedProps}s[kt]=o,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||eT(s.nodeValue,l)),s||co(o,!0)}else s=$h(s).createTextNode(d),s[kt]=o,o.stateNode=s}return Bt(o),null;case 31:if(l=o.memoizedState,s===null||s.memoizedState!==null){if(d=gl(o),l!==null){if(s===null){if(!d)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[kt]=o}else Ta(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),s=!1}else l=Ap(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return o.flags&256?(Pi(o),o):(Pi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Bt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=gl(o),d!==null&&d.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[kt]=o}else Ta(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),_=!1}else _=Ap(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(Pi(o),o):(Pi(o),null)}return Pi(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,s=s!==null&&s.memoizedState!==null,l&&(d=o.child,_=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(_=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==_&&(d.flags|=2048)),l!==s&&l&&(o.child.flags|=8192),Dh(o,o.updateQueue),Bt(o),null);case 4:return We(),s===null&&Og(o.stateNode.containerInfo),Bt(o),null;case 10:return vr(o.type),Bt(o),null;case 19:if(ae(fn),d=o.memoizedState,d===null)return Bt(o),null;if(_=(o.flags&128)!==0,x=d.rendering,x===null)if(_)_u(d,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=vh(s),x!==null){for(o.flags|=128,_u(d,!1),s=x.updateQueue,o.updateQueue=s,Dh(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)M_(l,s),l=l.sibling;return ve(fn,fn.current&1|2),mt&&gr(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&Me()>Uh&&(o.flags|=128,_=!0,_u(d,!1),o.lanes=4194304)}else{if(!_)if(s=vh(x),s!==null){if(o.flags|=128,_=!0,s=s.updateQueue,o.updateQueue=s,Dh(o,s),_u(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!mt)return Bt(o),null}else 2*Me()-d.renderingStartTime>Uh&&l!==536870912&&(o.flags|=128,_=!0,_u(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(s=d.last,s!==null?s.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Me(),s.sibling=null,l=fn.current,ve(fn,_?l&1|2:l&1),mt&&gr(o,d.treeForkCount),s):(Bt(o),null);case 22:case 23:return Pi(o),jp(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),l=o.updateQueue,l!==null&&Dh(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),s!==null&&ae(Sa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),vr(vn),Bt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function t2(s,o){switch(bp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return vr(vn),We(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return nn(o),null;case 31:if(o.memoizedState!==null){if(Pi(o),o.alternate===null)throw Error(i(340));Ta()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Pi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ta()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(fn),null;case 4:return We(),null;case 10:return vr(o.type),null;case 22:case 23:return Pi(o),jp(),s!==null&&ae(Sa),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return vr(vn),null;case 25:return null;default:return null}}function rE(s,o){switch(bp(o),o.tag){case 3:vr(vn),We();break;case 26:case 27:case 5:nn(o);break;case 4:We();break;case 31:o.memoizedState!==null&&Pi(o);break;case 13:Pi(o);break;case 19:ae(fn);break;case 10:vr(o.type);break;case 22:case 23:Pi(o),jp(),s!==null&&ae(Sa);break;case 24:vr(vn)}}function xu(s,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var _=d.next;l=_;do{if((l.tag&s)===s){d=void 0;var x=l.create,b=l.inst;d=x(),b.destroy=d}l=l.next}while(l!==_)}}catch(k){Nt(o,o.return,k)}}function yo(s,o,l){try{var d=o.updateQueue,_=d!==null?d.lastEffect:null;if(_!==null){var x=_.next;d=x;do{if((d.tag&s)===s){var b=d.inst,k=b.destroy;if(k!==void 0){b.destroy=void 0,_=o;var G=l,X=k;try{X()}catch(le){Nt(_,G,le)}}}d=d.next}while(d!==x)}}catch(le){Nt(o,o.return,le)}}function oE(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{Q_(o,l)}catch(d){Nt(s,s.return,d)}}}function aE(s,o,l){l.props=Ra(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){Nt(s,o,d)}}function Eu(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(_){Nt(s,o,_)}}function Qs(s,o){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(_){Nt(s,o,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(_){Nt(s,o,_)}else l.current=null}function lE(s){var o=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(_){Nt(s,s.return,_)}}function yg(s,o,l){try{var d=s.stateNode;w2(d,s.type,l,o),d[on]=o}catch(_){Nt(s,s.return,_)}}function cE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&bo(s.type)||s.tag===4}function vg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&bo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _g(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=gs));else if(d!==4&&(d===27&&bo(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(_g(s,o,l),s=s.sibling;s!==null;)_g(s,o,l),s=s.sibling}function Mh(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(d===27&&bo(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Mh(s,o,l),s=s.sibling;s!==null;)Mh(s,o,l),s=s.sibling}function uE(s){var o=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);qn(o,d,l),o[kt]=s,o[on]=l}catch(x){Nt(s,s.return,x)}}var wr=!1,En=!1,xg=!1,dE=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function n2(s,o){if(s=s.containerInfo,qg=Zh,s=w_(s),fp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var _=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,k=-1,G=-1,X=0,le=0,he=s,te=null;t:for(;;){for(var ie;he!==l||_!==0&&he.nodeType!==3||(k=b+_),he!==x||d!==0&&he.nodeType!==3||(G=b+d),he.nodeType===3&&(b+=he.nodeValue.length),(ie=he.firstChild)!==null;)te=he,he=ie;for(;;){if(he===s)break t;if(te===l&&++X===_&&(k=b),te===x&&++le===d&&(G=b),(ie=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ie}l=k===-1||G===-1?null:{start:k,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hg={focusedElem:s,selectionRange:l},Zh=!1,Rn=o;Rn!==null;)if(o=Rn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Rn=s;else for(;Rn!==null;){switch(o=Rn,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)_=s[l],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=o,_=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Ne=Ra(l.type,_);s=d.getSnapshotBeforeUpdate(Ne,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(He){Nt(l,l.return,He)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)zg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Rn=s;break}Rn=o.return}}function hE(s,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Sr(s,l),d&4&&xu(5,l);break;case 1:if(Sr(s,l),d&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(b){Nt(l,l.return,b)}else{var _=Ra(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(_,o,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Nt(l,l.return,b)}}d&64&&oE(l),d&512&&Eu(l,l.return);break;case 3:if(Sr(s,l),d&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Q_(s,o)}catch(b){Nt(l,l.return,b)}}break;case 27:o===null&&d&4&&uE(l);case 26:case 5:Sr(s,l),o===null&&d&4&&lE(l),d&512&&Eu(l,l.return);break;case 12:Sr(s,l);break;case 31:Sr(s,l),d&4&&pE(s,l);break;case 13:Sr(s,l),d&4&&gE(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=d2.bind(null,l),D2(s,l))));break;case 22:if(d=l.memoizedState!==null||wr,!d){o=o!==null&&o.memoizedState!==null||En,_=wr;var x=En;wr=d,(En=o)&&!x?Ar(s,l,(l.subtreeFlags&8772)!==0):Sr(s,l),wr=_,En=x}break;case 30:break;default:Sr(s,l)}}function fE(s){var o=s.alternate;o!==null&&(s.alternate=null,fE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ci(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,yi=!1;function br(s,o,l){for(l=l.child;l!==null;)mE(s,o,l),l=l.sibling}function mE(s,o,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Jn,l)}catch{}switch(l.tag){case 26:En||Qs(l,o),br(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||Qs(l,o);var d=Jt,_=yi;bo(l.type)&&(Jt=l.stateNode,yi=!1),br(s,o,l),Ru(l.stateNode),Jt=d,yi=_;break;case 5:En||Qs(l,o);case 6:if(d=Jt,_=yi,Jt=null,br(s,o,l),Jt=d,yi=_,Jt!==null)if(yi)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(l.stateNode)}catch(x){Nt(l,o,x)}else try{Jt.removeChild(l.stateNode)}catch(x){Nt(l,o,x)}break;case 18:Jt!==null&&(yi?(s=Jt,oT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Vl(s)):oT(Jt,l.stateNode));break;case 4:d=Jt,_=yi,Jt=l.stateNode.containerInfo,yi=!0,br(s,o,l),Jt=d,yi=_;break;case 0:case 11:case 14:case 15:yo(2,l,o),En||yo(4,l,o),br(s,o,l);break;case 1:En||(Qs(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&aE(l,o,d)),br(s,o,l);break;case 21:br(s,o,l);break;case 22:En=(d=En)||l.memoizedState!==null,br(s,o,l),En=d;break;default:br(s,o,l)}}function pE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vl(s)}catch(l){Nt(o,o.return,l)}}}function gE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vl(s)}catch(l){Nt(o,o.return,l)}}function i2(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new dE),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new dE),o;default:throw Error(i(435,s.tag))}}function kh(s,o){var l=i2(s);o.forEach(function(d){if(!l.has(d)){l.add(d);var _=h2.bind(null,s,d);d.then(_,_)}})}function vi(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var _=l[d],x=s,b=o,k=b;e:for(;k!==null;){switch(k.tag){case 27:if(bo(k.type)){Jt=k.stateNode,yi=!1;break e}break;case 5:Jt=k.stateNode,yi=!1;break e;case 3:case 4:Jt=k.stateNode.containerInfo,yi=!0;break e}k=k.return}if(Jt===null)throw Error(i(160));mE(x,b,_),Jt=null,yi=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)yE(o,s),o=o.sibling}var Ts=null;function yE(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vi(o,s),_i(s),d&4&&(yo(3,s,s.return),xu(3,s),yo(5,s,s.return));break;case 1:vi(o,s),_i(s),d&512&&(En||l===null||Qs(l,l.return)),d&64&&wr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var _=Ts;if(vi(o,s),_i(s),d&512&&(En||l===null||Qs(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,_=_.ownerDocument||_;t:switch(d){case"title":x=_.getElementsByTagName("title")[0],(!x||x[mi]||x[kt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(d),_.head.insertBefore(x,_.querySelector("head > title"))),qn(x,d,l),x[kt]=s,qt(x),d=x;break e;case"link":var b=yT("link","href",_).get(d+(l.href||""));if(b){for(var k=0;k<b.length;k++)if(x=b[k],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(k,1);break t}}x=_.createElement(d),qn(x,d,l),_.head.appendChild(x);break;case"meta":if(b=yT("meta","content",_).get(d+(l.content||""))){for(k=0;k<b.length;k++)if(x=b[k],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(k,1);break t}}x=_.createElement(d),qn(x,d,l),_.head.appendChild(x);break;default:throw Error(i(468,d))}x[kt]=s,qt(x),d=x}s.stateNode=d}else vT(_,s.type,s.stateNode);else s.stateNode=gT(_,d,s.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?vT(_,s.type,s.stateNode):gT(_,d,s.memoizedProps)):d===null&&s.stateNode!==null&&yg(s,s.memoizedProps,l.memoizedProps)}break;case 27:vi(o,s),_i(s),d&512&&(En||l===null||Qs(l,l.return)),l!==null&&d&4&&yg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vi(o,s),_i(s),d&512&&(En||l===null||Qs(l,l.return)),s.flags&32){_=s.stateNode;try{gi(_,"")}catch(Ne){Nt(s,s.return,Ne)}}d&4&&s.stateNode!=null&&(_=s.memoizedProps,yg(s,_,l!==null?l.memoizedProps:_)),d&1024&&(xg=!0);break;case 6:if(vi(o,s),_i(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(Ne){Nt(s,s.return,Ne)}}break;case 3:if(Jh=null,_=Ts,Ts=Kh(o.containerInfo),vi(o,s),Ts=_,_i(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Vl(o.containerInfo)}catch(Ne){Nt(s,s.return,Ne)}xg&&(xg=!1,vE(s));break;case 4:d=Ts,Ts=Kh(s.stateNode.containerInfo),vi(o,s),_i(s),Ts=d;break;case 12:vi(o,s),_i(s);break;case 31:vi(o,s),_i(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 13:vi(o,s),_i(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lh=Me()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 22:_=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,X=wr,le=En;if(wr=X||_,En=le||G,vi(o,s),En=le,wr=X,_i(s),d&8192)e:for(o=s.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(l===null||G||wr||En||Da(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){G=l=o;try{if(x=G.stateNode,_)b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{k=G.stateNode;var he=G.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ne){Nt(G,G.return,Ne)}}}else if(o.tag===6){if(l===null){G=o;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(Ne){Nt(G,G.return,Ne)}}}else if(o.tag===18){if(l===null){G=o;try{var ie=G.stateNode;_?aT(ie,!0):aT(G.stateNode,!1)}catch(Ne){Nt(G,G.return,Ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,kh(s,l))));break;case 19:vi(o,s),_i(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 30:break;case 21:break;default:vi(o,s),_i(s)}}function _i(s){var o=s.flags;if(o&2){try{for(var l,d=s.return;d!==null;){if(cE(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var _=l.stateNode,x=vg(s);Mh(s,x,_);break;case 5:var b=l.stateNode;l.flags&32&&(gi(b,""),l.flags&=-33);var k=vg(s);Mh(s,k,b);break;case 3:case 4:var G=l.stateNode.containerInfo,X=vg(s);_g(s,X,G);break;default:throw Error(i(161))}}catch(le){Nt(s,s.return,le)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function vE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;vE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Sr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hE(s,o.alternate,o),o=o.sibling}function Da(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Da(o);break;case 1:Qs(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&aE(o,o.return,l),Da(o);break;case 27:Ru(o.stateNode);case 26:case 5:Qs(o,o.return),Da(o);break;case 22:o.memoizedState===null&&Da(o);break;case 30:Da(o);break;default:Da(o)}s=s.sibling}}function Ar(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,_=s,x=o,b=x.flags;switch(x.tag){case 0:case 11:case 15:Ar(_,x,l),xu(4,x);break;case 1:if(Ar(_,x,l),d=x,_=d.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(X){Nt(d,d.return,X)}if(d=x,_=d.updateQueue,_!==null){var k=d.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)J_(G[_],k)}catch(X){Nt(d,d.return,X)}}l&&b&64&&oE(x),Eu(x,x.return);break;case 27:uE(x);case 26:case 5:Ar(_,x,l),l&&d===null&&b&4&&lE(x),Eu(x,x.return);break;case 12:Ar(_,x,l);break;case 31:Ar(_,x,l),l&&b&4&&pE(_,x);break;case 13:Ar(_,x,l),l&&b&4&&gE(_,x);break;case 22:x.memoizedState===null&&Ar(_,x,l),Eu(x,x.return);break;case 30:break;default:Ar(_,x,l)}o=o.sibling}}function Eg(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&au(l))}function Tg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s))}function ws(s,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_E(s,o,l,d),o=o.sibling}function _E(s,o,l,d){var _=o.flags;switch(o.tag){case 0:case 11:case 15:ws(s,o,l,d),_&2048&&xu(9,o);break;case 1:ws(s,o,l,d);break;case 3:ws(s,o,l,d),_&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s)));break;case 12:if(_&2048){ws(s,o,l,d),s=o.stateNode;try{var x=o.memoizedProps,b=x.id,k=x.onPostCommit;typeof k=="function"&&k(b,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Nt(o,o.return,G)}}else ws(s,o,l,d);break;case 31:ws(s,o,l,d);break;case 13:ws(s,o,l,d);break;case 23:break;case 22:x=o.stateNode,b=o.alternate,o.memoizedState!==null?x._visibility&2?ws(s,o,l,d):Tu(s,o):x._visibility&2?ws(s,o,l,d):(x._visibility|=2,Al(s,o,l,d,(o.subtreeFlags&10256)!==0||!1)),_&2048&&Eg(b,o);break;case 24:ws(s,o,l,d),_&2048&&Tg(o.alternate,o);break;default:ws(s,o,l,d)}}function Al(s,o,l,d,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,b=o,k=l,G=d,X=b.flags;switch(b.tag){case 0:case 11:case 15:Al(x,b,k,G,_),xu(8,b);break;case 23:break;case 22:var le=b.stateNode;b.memoizedState!==null?le._visibility&2?Al(x,b,k,G,_):Tu(x,b):(le._visibility|=2,Al(x,b,k,G,_)),_&&X&2048&&Eg(b.alternate,b);break;case 24:Al(x,b,k,G,_),_&&X&2048&&Tg(b.alternate,b);break;default:Al(x,b,k,G,_)}o=o.sibling}}function Tu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,d=o,_=d.flags;switch(d.tag){case 22:Tu(l,d),_&2048&&Eg(d.alternate,d);break;case 24:Tu(l,d),_&2048&&Tg(d.alternate,d);break;default:Tu(l,d)}o=o.sibling}}var wu=8192;function Nl(s,o,l){if(s.subtreeFlags&wu)for(s=s.child;s!==null;)xE(s,o,l),s=s.sibling}function xE(s,o,l){switch(s.tag){case 26:Nl(s,o,l),s.flags&wu&&s.memoizedState!==null&&B2(l,Ts,s.memoizedState,s.memoizedProps);break;case 5:Nl(s,o,l);break;case 3:case 4:var d=Ts;Ts=Kh(s.stateNode.containerInfo),Nl(s,o,l),Ts=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=wu,wu=16777216,Nl(s,o,l),wu=d):Nl(s,o,l));break;default:Nl(s,o,l)}}function EE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function bu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Rn=d,wE(d,s)}EE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TE(s),s=s.sibling}function TE(s){switch(s.tag){case 0:case 11:case 15:bu(s),s.flags&2048&&yo(9,s,s.return);break;case 3:bu(s);break;case 12:bu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ph(s)):bu(s);break;default:bu(s)}}function Ph(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Rn=d,wE(d,s)}EE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:yo(8,o,o.return),Ph(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ph(o));break;default:Ph(o)}s=s.sibling}}function wE(s,o){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:yo(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:au(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Rn=d;else e:for(l=s;Rn!==null;){d=Rn;var _=d.sibling,x=d.return;if(fE(d),d===l){Rn=null;break e}if(_!==null){_.return=x,Rn=_;break e}Rn=x}}}var s2={getCacheForType:function(s){var o=jn(vn),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l},cacheSignal:function(){return jn(vn).controller.signal}},r2=typeof WeakMap=="function"?WeakMap:Map,wt=0,Pt=null,rt=null,ct=0,At=0,Li=null,vo=!1,Il=!1,wg=!1,Nr=0,ln=0,_o=0,Ma=0,bg=0,Ui=0,Cl=0,Su=null,xi=null,Sg=!1,Lh=0,bE=0,Uh=1/0,Vh=null,xo=null,An=0,Eo=null,Rl=null,Ir=0,Ag=0,Ng=null,SE=null,Au=0,Ig=null;function Vi(){return(wt&2)!==0&&ct!==0?ct&-ct:Y.T!==null?Pg():rn()}function AE(){if(Ui===0)if((ct&536870912)===0||mt){var s=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),Ui=s}else Ui=536870912;return s=ki.current,s!==null&&(s.flags|=32),Ui}function Ei(s,o,l){(s===Pt&&(At===2||At===9)||s.cancelPendingCommit!==null)&&(Dl(s,0),To(s,ct,Ui,!1)),Ue(s,l),((wt&2)===0||s!==Pt)&&(s===Pt&&((wt&2)===0&&(Ma|=l),ln===4&&To(s,ct,Ui,!1)),Ws(s))}function NE(s,o,l){if((wt&6)!==0)throw Error(i(327));var d=!l&&(o&127)===0&&(o&s.expiredLanes)===0||oe(s,o),_=d?l2(s,o):Rg(s,o,!0),x=d;do{if(_===0){Il&&!d&&To(s,o,0,!1);break}else{if(l=s.current.alternate,x&&!o2(l)){_=Rg(s,o,!1),x=!1;continue}if(_===2){if(x=o,s.errorRecoveryDisabledLanes&x)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){o=b;e:{var k=s;_=Su;var G=k.current.memoizedState.isDehydrated;if(G&&(Dl(k,b).flags|=256),b=Rg(k,b,!1),b!==2){if(wg&&!G){k.errorRecoveryDisabledLanes|=x,Ma|=x,_=4;break e}x=xi,xi=_,x!==null&&(xi===null?xi=x:xi.push.apply(xi,x))}_=b}if(x=!1,_!==2)continue}}if(_===1){Dl(s,0),To(s,o,0,!0);break}e:{switch(d=s,x=_,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:To(d,o,Ui,!vo);break e;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=Lh+300-Me(),10<_)){if(To(d,o,Ui,!vo),Z(d,0,!0)!==0)break e;Ir=o,d.timeoutHandle=sT(IE.bind(null,d,l,xi,Vh,Sg,o,Ui,Ma,Cl,vo,x,"Throttled",-0,0),_);break e}IE(d,l,xi,Vh,Sg,o,Ui,Ma,Cl,vo,x,null,-0,0)}}break}while(!0);Ws(s)}function IE(s,o,l,d,_,x,b,k,G,X,le,he,te,ie){if(s.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},xE(o,x,he);var Ne=(x&62914560)===x?Lh-Me():(x&4194048)===x?bE-Me():0;if(Ne=G2(he,Ne),Ne!==null){Ir=x,s.cancelPendingCommit=Ne(UE.bind(null,s,o,x,l,d,_,b,k,G,le,he,null,te,ie)),To(s,x,b,!X);return}}UE(s,o,x,l,d,_,b,k,G)}function o2(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var _=l[d],x=_.getSnapshot;_=_.value;try{if(!Di(x(),_))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function To(s,o,l,d){o&=~bg,o&=~Ma,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var _=o;0<_;){var x=31-Vt(_),b=1<<x;d[x]=-1,_&=~b}l!==0&&Ce(s,l,o)}function Oh(){return(wt&6)===0?(Nu(0),!1):!0}function Cg(){if(rt!==null){if(At===0)var s=rt.return;else s=rt,yr=wa=null,zp(s),El=null,cu=0,s=rt;for(;s!==null;)rE(s.alternate,s),s=s.return;rt=null}}function Dl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,A2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ir=0,Cg(),Pt=s,rt=l=pr(s.current,null),ct=o,At=0,Li=null,vo=!1,Il=oe(s,o),wg=!1,Cl=Ui=bg=Ma=_o=ln=0,xi=Su=null,Sg=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var _=31-Vt(d),x=1<<_;o|=s[_],d&=~x}return Nr=o,rh(),l}function CE(s,o){et=null,Y.H=yu,o===xl||o===fh?(o=z_(),At=3):o===kp?(o=z_(),At=4):At=o===ag?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Li=o,rt===null&&(ln=1,Nh(s,Xi(o,s.current)))}function RE(){var s=ki.current;return s===null?!0:(ct&4194048)===ct?ns===null:(ct&62914560)===ct||(ct&536870912)!==0?s===ns:!1}function DE(){var s=Y.H;return Y.H=yu,s===null?yu:s}function ME(){var s=Y.A;return Y.A=s2,s}function jh(){ln=4,vo||(ct&4194048)!==ct&&ki.current!==null||(Il=!0),(_o&134217727)===0&&(Ma&134217727)===0||Pt===null||To(Pt,ct,Ui,!1)}function Rg(s,o,l){var d=wt;wt|=2;var _=DE(),x=ME();(Pt!==s||ct!==o)&&(Vh=null,Dl(s,o)),o=!1;var b=ln;e:do try{if(At!==0&&rt!==null){var k=rt,G=Li;switch(At){case 8:Cg(),b=6;break e;case 3:case 2:case 9:case 6:ki.current===null&&(o=!0);var X=At;if(At=0,Li=null,Ml(s,k,G,X),l&&Il){b=0;break e}break;default:X=At,At=0,Li=null,Ml(s,k,G,X)}}a2(),b=ln;break}catch(le){CE(s,le)}while(!0);return o&&s.shellSuspendCounter++,yr=wa=null,wt=d,Y.H=_,Y.A=x,rt===null&&(Pt=null,ct=0,rh()),b}function a2(){for(;rt!==null;)kE(rt)}function l2(s,o){var l=wt;wt|=2;var d=DE(),_=ME();Pt!==s||ct!==o?(Vh=null,Uh=Me()+500,Dl(s,o)):Il=oe(s,o);e:do try{if(At!==0&&rt!==null){o=rt;var x=Li;t:switch(At){case 1:At=0,Li=null,Ml(s,o,x,1);break;case 2:case 9:if(B_(x)){At=0,Li=null,PE(o);break}o=function(){At!==2&&At!==9||Pt!==s||(At=7),Ws(s)},x.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:B_(x)?(At=0,Li=null,PE(o)):(At=0,Li=null,Ml(s,o,x,7));break;case 5:var b=null;switch(rt.tag){case 26:b=rt.memoizedState;case 5:case 27:var k=rt;if(b?_T(b):k.stateNode.complete){At=0,Li=null;var G=k.sibling;if(G!==null)rt=G;else{var X=k.return;X!==null?(rt=X,Fh(X)):rt=null}break t}}At=0,Li=null,Ml(s,o,x,5);break;case 6:At=0,Li=null,Ml(s,o,x,6);break;case 8:Cg(),ln=6;break e;default:throw Error(i(462))}}c2();break}catch(le){CE(s,le)}while(!0);return yr=wa=null,Y.H=d,Y.A=_,wt=l,rt!==null?0:(Pt=null,ct=0,rh(),ln)}function c2(){for(;rt!==null&&!Yr();)kE(rt)}function kE(s){var o=iE(s.alternate,s,Nr);s.memoizedProps=s.pendingProps,o===null?Fh(s):rt=o}function PE(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=Wx(l,o,o.pendingProps,o.type,void 0,ct);break;case 11:o=Wx(l,o,o.pendingProps,o.type.render,o.ref,ct);break;case 5:zp(o);default:rE(l,o),o=rt=M_(o,Nr),o=iE(l,o,Nr)}s.memoizedProps=s.pendingProps,o===null?Fh(s):rt=o}function Ml(s,o,l,d){yr=wa=null,zp(o),El=null,cu=0;var _=o.return;try{if(WR(s,_,o,l,ct)){ln=1,Nh(s,Xi(l,s.current)),rt=null;return}}catch(x){if(_!==null)throw rt=_,x;ln=1,Nh(s,Xi(l,s.current)),rt=null;return}o.flags&32768?(mt||d===1?s=!0:Il||(ct&536870912)!==0?s=!1:(vo=s=!0,(d===2||d===9||d===3||d===6)&&(d=ki.current,d!==null&&d.tag===13&&(d.flags|=16384))),LE(o,s)):Fh(o)}function Fh(s){var o=s;do{if((o.flags&32768)!==0){LE(o,vo);return}s=o.return;var l=e2(o.alternate,o,Nr);if(l!==null){rt=l;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=s}while(o!==null);ln===0&&(ln=5)}function LE(s,o){do{var l=t2(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);ln=6,rt=null}function UE(s,o,l,d,_,x,b,k,G){s.cancelPendingCommit=null;do qh();while(An!==0);if((wt&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=vp,Oe(s,l,x,b,k,G),s===Pt&&(rt=Pt=null,ct=0),Rl=o,Eo=s,Ir=l,Ag=x,Ng=_,SE=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,f2(fi,function(){return qE(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,_=ce.p,ce.p=2,b=wt,wt|=4;try{n2(s,o,l)}finally{wt=b,ce.p=_,Y.T=d}}An=1,VE(),OE(),jE()}}function VE(){if(An===1){An=0;var s=Eo,o=Rl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var d=ce.p;ce.p=2;var _=wt;wt|=4;try{yE(o,s);var x=Hg,b=w_(s.containerInfo),k=x.focusedElem,G=x.selectionRange;if(b!==k&&k&&k.ownerDocument&&T_(k.ownerDocument.documentElement,k)){if(G!==null&&fp(k)){var X=G.start,le=G.end;if(le===void 0&&(le=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(le,k.value.length);else{var he=k.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ne=k.textContent.length,He=Math.min(G.start,Ne),Dt=G.end===void 0?He:Math.min(G.end,Ne);!ie.extend&&He>Dt&&(b=Dt,Dt=He,He=b);var J=E_(k,He),$=E_(k,Dt);if(J&&$&&(ie.rangeCount!==1||ie.anchorNode!==J.node||ie.anchorOffset!==J.offset||ie.focusNode!==$.node||ie.focusOffset!==$.offset)){var W=he.createRange();W.setStart(J.node,J.offset),ie.removeAllRanges(),He>Dt?(ie.addRange(W),ie.extend($.node,$.offset)):(W.setEnd($.node,$.offset),ie.addRange(W))}}}}for(he=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<he.length;k++){var de=he[k];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Zh=!!qg,Hg=qg=null}finally{wt=_,ce.p=d,Y.T=l}}s.current=o,An=2}}function OE(){if(An===2){An=0;var s=Eo,o=Rl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var d=ce.p;ce.p=2;var _=wt;wt|=4;try{hE(s,o.alternate,o)}finally{wt=_,ce.p=d,Y.T=l}}An=3}}function jE(){if(An===4||An===3){An=0,me();var s=Eo,o=Rl,l=Ir,d=SE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?An=5:(An=0,Rl=Eo=null,FE(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(xo=null),lt(l),o=o.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Y.T,_=ce.p,ce.p=2,Y.T=null;try{for(var x=s.onRecoverableError,b=0;b<d.length;b++){var k=d[b];x(k.value,{componentStack:k.stack})}}finally{Y.T=o,ce.p=_}}(Ir&3)!==0&&qh(),Ws(s),_=s.pendingLanes,(l&261930)!==0&&(_&42)!==0?s===Ig?Au++:(Au=0,Ig=s):Au=0,Nu(0)}}function FE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,au(o)))}function qh(){return VE(),OE(),jE(),qE()}function qE(){if(An!==5)return!1;var s=Eo,o=Ag;Ag=0;var l=lt(Ir),d=Y.T,_=ce.p;try{ce.p=32>l?32:l,Y.T=null,l=Ng,Ng=null;var x=Eo,b=Ir;if(An=0,Rl=Eo=null,Ir=0,(wt&6)!==0)throw Error(i(331));var k=wt;if(wt|=4,TE(x.current),_E(x,x.current,b,l),wt=k,Nu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Jn,x)}catch{}return!0}finally{ce.p=_,Y.T=d,FE(s,o)}}function HE(s,o,l){o=Xi(l,o),o=og(s.stateNode,o,2),s=mo(s,o,2),s!==null&&(Ue(s,2),Ws(s))}function Nt(s,o,l){if(s.tag===3)HE(s,s,l);else for(;o!==null;){if(o.tag===3){HE(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xo===null||!xo.has(d))){s=Xi(l,s),l=Bx(2),d=mo(o,l,2),d!==null&&(Gx(l,d,o,s),Ue(d,2),Ws(d));break}}o=o.return}}function Dg(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new r2;var _=new Set;d.set(o,_)}else _=d.get(o),_===void 0&&(_=new Set,d.set(o,_));_.has(l)||(wg=!0,_.add(l),s=u2.bind(null,s,o,l),o.then(s,s))}function u2(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Pt===s&&(ct&l)===l&&(ln===4||ln===3&&(ct&62914560)===ct&&300>Me()-Lh?(wt&2)===0&&Dl(s,0):bg|=l,Cl===ct&&(Cl=0)),Ws(s)}function BE(s,o){o===0&&(o=Ae()),s=xa(s,o),s!==null&&(Ue(s,o),Ws(s))}function d2(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),BE(s,l)}function h2(s,o){var l=0;switch(s.tag){case 31:case 13:var d=s.stateNode,_=s.memoizedState;_!==null&&(l=_.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),BE(s,l)}function f2(s,o){return Ut(s,o)}var Hh=null,kl=null,Mg=!1,Bh=!1,kg=!1,wo=0;function Ws(s){s!==kl&&s.next===null&&(kl===null?Hh=kl=s:kl=kl.next=s),Bh=!0,Mg||(Mg=!0,p2())}function Nu(s,o){if(!kg&&Bh){kg=!0;do for(var l=!1,d=Hh;d!==null;){if(s!==0){var _=d.pendingLanes;if(_===0)var x=0;else{var b=d.suspendedLanes,k=d.pingedLanes;x=(1<<31-Vt(42|s)+1)-1,x&=_&~(b&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,KE(d,x))}else x=ct,x=Z(d,d===Pt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||oe(d,x)||(l=!0,KE(d,x));d=d.next}while(l);kg=!1}}function m2(){GE()}function GE(){Bh=Mg=!1;var s=0;wo!==0&&S2()&&(s=wo);for(var o=Me(),l=null,d=Hh;d!==null;){var _=d.next,x=zE(d,o);x===0?(d.next=null,l===null?Hh=_:l.next=_,_===null&&(kl=l)):(l=d,(s!==0||(x&3)!==0)&&(Bh=!0)),d=_}An!==0&&An!==5||Nu(s),wo!==0&&(wo=0)}function zE(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,_=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var b=31-Vt(x),k=1<<b,G=_[b];G===-1?((k&l)===0||(k&d)!==0)&&(_[b]=_e(k,o)):G<=o&&(s.expiredLanes|=k),x&=~k}if(o=Pt,l=ct,l=Z(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===o&&(At===2||At===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ln(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||oe(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(d!==null&&Ln(d),lt(l)){case 2:case 8:l=Yn;break;case 32:l=fi;break;case 268435456:l=$i;break;default:l=fi}return d=$E.bind(null,s),l=Ut(l,d),s.callbackPriority=o,s.callbackNode=l,o}return d!==null&&d!==null&&Ln(d),s.callbackPriority=2,s.callbackNode=null,2}function $E(s,o){if(An!==0&&An!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(qh()&&s.callbackNode!==l)return null;var d=ct;return d=Z(s,s===Pt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(NE(s,d,o),zE(s,Me()),s.callbackNode!=null&&s.callbackNode===l?$E.bind(null,s):null)}function KE(s,o){if(qh())return null;NE(s,o,!0)}function p2(){N2(function(){(wt&6)!==0?Ut(Kn,m2):GE()})}function Pg(){if(wo===0){var s=vl;s===0&&(s=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),wo=s}return wo}function YE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:il(""+s)}function JE(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function g2(s,o,l,d,_){if(o==="submit"&&l&&l.stateNode===_){var x=YE((_[on]||null).action),b=d.submitter;b&&(o=(o=b[on]||null)?YE(o.formAction):b.getAttribute("formAction"),o!==null&&(x=o,b=null));var k=new Gs("action","action",null,d,_);s.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(wo!==0){var G=b?JE(_,b):new FormData(_);eg(l,{pending:!0,data:G,method:_.method,action:x},null,G)}}else typeof x=="function"&&(k.preventDefault(),G=b?JE(_,b):new FormData(_),eg(l,{pending:!0,data:G,method:_.method,action:x},x,G))},currentTarget:_}]})}}for(var Lg=0;Lg<yp.length;Lg++){var Ug=yp[Lg],y2=Ug.toLowerCase(),v2=Ug[0].toUpperCase()+Ug.slice(1);Es(y2,"on"+v2)}Es(A_,"onAnimationEnd"),Es(N_,"onAnimationIteration"),Es(I_,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(PR,"onTransitionRun"),Es(LR,"onTransitionStart"),Es(UR,"onTransitionCancel"),Es(C_,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function QE(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],_=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var b=d.length-1;0<=b;b--){var k=d[b],G=k.instance,X=k.currentTarget;if(k=k.listener,G!==x&&_.isPropagationStopped())break e;x=k,_.currentTarget=X;try{x(_)}catch(le){sh(le)}_.currentTarget=null,x=G}else for(b=0;b<d.length;b++){if(k=d[b],G=k.instance,X=k.currentTarget,k=k.listener,G!==x&&_.isPropagationStopped())break e;x=k,_.currentTarget=X;try{x(_)}catch(le){sh(le)}_.currentTarget=null,x=G}}}}function ot(s,o){var l=o[ni];l===void 0&&(l=o[ni]=new Set);var d=s+"__bubble";l.has(d)||(WE(o,s,2,!1),l.add(d))}function Vg(s,o,l){var d=0;o&&(d|=4),WE(l,s,d,o)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[Gh]){s[Gh]=!0,la.forEach(function(l){l!=="selectionchange"&&(_2.has(l)||Vg(l,!1,s),Vg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gh]||(o[Gh]=!0,Vg("selectionchange",!1,o))}}function WE(s,o,l,d){switch(AT(o)){case 2:var _=K2;break;case 8:_=Y2;break;default:_=Zg}l=_.bind(null,o,l,s),_=void 0,!ha||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),d?_!==void 0?s.addEventListener(o,l,{capture:!0,passive:_}):s.addEventListener(o,l,!0):_!==void 0?s.addEventListener(o,l,{passive:_}):s.addEventListener(o,l,!1)}function jg(s,o,l,d,_){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var k=d.stateNode.containerInfo;if(k===_)break;if(b===4)for(b=d.return;b!==null;){var G=b.tag;if((G===3||G===4)&&b.stateNode.containerInfo===_)return;b=b.return}for(;k!==null;){if(b=ii(k),b===null)return;if(G=b.tag,G===5||G===6||G===26||G===27){d=x=b;continue e}k=k.parentNode}}d=d.return}io(function(){var X=x,le=Yi(l),he=[];e:{var te=R_.get(s);if(te!==void 0){var ie=Gs,Ne=s;switch(s){case"keypress":if(ma(l)===0)break e;case"keydown":case"keyup":ie=th;break;case"focusin":Ne="focus",ie=ga;break;case"focusout":Ne="blur",ie=ga;break;case"beforeblur":case"afterblur":ie=ga;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=w;break;case A_:case N_:case I_:ie=Yd;break;case C_:ie=j;break;case"scroll":case"scrollend":ie=Xc;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=mr;break;case"toggle":case"beforetoggle":ie=Ze}var He=(o&4)!==0,Dt=!He&&(s==="scroll"||s==="scrollend"),J=He?te!==null?te+"Capture":null:te;He=[];for(var $=X,W;$!==null;){var de=$;if(W=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||W===null||J===null||(de=ys($,J),de!=null&&He.push(Cu($,de,W))),Dt)break;$=$.return}0<He.length&&(te=new ie(te,Ne,null,l,le),he.push({event:te,listeners:He}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&l!==Jc&&(Ne=l.relatedTarget||l.fromElement)&&(ii(Ne)||Ne[Un]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ne=l.relatedTarget||l.toElement,ie=X,Ne=Ne?ii(Ne):null,Ne!==null&&(Dt=a(Ne),He=Ne.tag,Ne!==Dt||He!==5&&He!==27&&He!==6)&&(Ne=null)):(ie=null,Ne=X),ie!==Ne)){if(He=Zc,de="onMouseLeave",J="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(He=mr,de="onPointerLeave",J="onPointerEnter",$="pointer"),Dt=ie==null?te:Xe(ie),W=Ne==null?te:Xe(Ne),te=new He(de,$+"leave",ie,l,le),te.target=Dt,te.relatedTarget=W,de=null,ii(le)===X&&(He=new He(J,$+"enter",Ne,l,le),He.target=W,He.relatedTarget=Dt,de=He),Dt=de,ie&&Ne)t:{for(He=x2,J=ie,$=Ne,W=0,de=J;de;de=He(de))W++;de=0;for(var Le=$;Le;Le=He(Le))de++;for(;0<W-de;)J=He(J),W--;for(;0<de-W;)$=He($),de--;for(;W--;){if(J===$||$!==null&&J===$.alternate){He=J;break t}J=He(J),$=He($)}He=null}else He=null;ie!==null&&XE(he,te,ie,He,!1),Ne!==null&&Dt!==null&&XE(he,Dt,Ne,He,!0)}}e:{if(te=X?Xe(X):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var vt=p_;else if(f_(te))if(g_)vt=DR;else{vt=CR;var Re=IR}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?X&&nl(X.elementType)&&(vt=p_):vt=RR;if(vt&&(vt=vt(s,X))){m_(he,vt,l,le);break e}Re&&Re(s,te,X),s==="focusout"&&X&&te.type==="number"&&X.memoizedProps.value!=null&&$c(te,"number",te.value)}switch(Re=X?Xe(X):window,s){case"focusin":(f_(Re)||Re.contentEditable==="true")&&(ul=Re,mp=X,su=null);break;case"focusout":su=mp=ul=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,b_(he,l,le);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":b_(he,l,le)}var it;if(Tt)e:{switch(s){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else cl?ya(s,l)&&(ut="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ut="onCompositionStart");ut&&(Ks&&l.locale!=="ko"&&(cl||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&cl&&(it=Wc()):(Bs=le,Qc="value"in Bs?Bs.value:Bs.textContent,cl=!0)),Re=zh(X,ut),0<Re.length&&(ut=new $s(ut,s,null,l,le),he.push({event:ut,listeners:Re}),it?ut.data=it:(it=ll(l),it!==null&&(ut.data=it)))),(it=Qi?bR(s,l):SR(s,l))&&(ut=zh(X,"onBeforeInput"),0<ut.length&&(Re=new $s("onBeforeInput","beforeinput",null,l,le),he.push({event:Re,listeners:ut}),Re.data=it)),g2(he,s,X,l,le)}QE(he,o)})}function Cu(s,o,l){return{instance:s,listener:o,currentTarget:l}}function zh(s,o){for(var l=o+"Capture",d=[];s!==null;){var _=s,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=ys(s,l),_!=null&&d.unshift(Cu(s,_,x)),_=ys(s,o),_!=null&&d.push(Cu(s,_,x))),s.tag===3)return d;s=s.return}return[]}function x2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function XE(s,o,l,d,_){for(var x=o._reactName,b=[];l!==null&&l!==d;){var k=l,G=k.alternate,X=k.stateNode;if(k=k.tag,G!==null&&G===d)break;k!==5&&k!==26&&k!==27||X===null||(G=X,_?(X=ys(l,x),X!=null&&b.unshift(Cu(l,X,G))):_||(X=ys(l,x),X!=null&&b.push(Cu(l,X,G)))),l=l.return}b.length!==0&&s.push({event:o,listeners:b})}var E2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function ZE(s){return(typeof s=="string"?s:""+s).replace(E2,`
`).replace(T2,"")}function eT(s,o){return o=ZE(o),ZE(s)===o}function Rt(s,o,l,d,_,x){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||gi(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&gi(s,""+d);break;case"className":Ri(s,"class",d);break;case"tabIndex":Ri(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(s,l,d);break;case"style":Yc(s,d,x);break;case"data":if(o!=="object"){Ri(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=il(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(o!=="input"&&Rt(s,o,"name",_.name,_,null),Rt(s,o,"formEncType",_.formEncType,_,null),Rt(s,o,"formMethod",_.formMethod,_,null),Rt(s,o,"formTarget",_.formTarget,_,null)):(Rt(s,o,"encType",_.encType,_,null),Rt(s,o,"method",_.method,_,null),Rt(s,o,"target",_.target,_,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=il(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=gs);break;case"onScroll":d!=null&&ot("scroll",s);break;case"onScrollEnd":d!=null&&ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=il(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":ot("beforetoggle",s),ot("toggle",s),el(s,"popover",d);break;case"xlinkActuate":yn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":yn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":yn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":yn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":yn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":yn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":yn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":yn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":yn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":el(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zd.get(l)||l,el(s,l,d))}}function Fg(s,o,l,d,_,x){switch(l){case"style":Yc(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof d=="string"?gi(s,d):(typeof d=="number"||typeof d=="bigint")&&gi(s,""+d);break;case"onScroll":d!=null&&ot("scroll",s);break;case"onScrollEnd":d!=null&&ot("scrollend",s);break;case"onClick":d!=null&&(s.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(_=l.endsWith("Capture"),o=l.slice(2,_?l.length-7:void 0),x=s[on]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(o,x,_),typeof d=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,d,_);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):el(s,l,d)}}}function qn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",s),ot("load",s);var d=!1,_=!1,x;for(x in l)if(l.hasOwnProperty(x)){var b=l[x];if(b!=null)switch(x){case"src":d=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Rt(s,o,x,b,l,null)}}_&&Rt(s,o,"srcSet",l.srcSet,l,null),d&&Rt(s,o,"src",l.src,l,null);return;case"input":ot("invalid",s);var k=x=b=_=null,G=null,X=null;for(d in l)if(l.hasOwnProperty(d)){var le=l[d];if(le!=null)switch(d){case"name":_=le;break;case"type":b=le;break;case"checked":G=le;break;case"defaultChecked":X=le;break;case"value":x=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:Rt(s,o,d,le,l,null)}}Hd(s,x,k,G,X,b,_,!1);return;case"select":ot("invalid",s),d=b=x=null;for(_ in l)if(l.hasOwnProperty(_)&&(k=l[_],k!=null))switch(_){case"value":x=k;break;case"defaultValue":b=k;break;case"multiple":d=k;default:Rt(s,o,_,k,l,null)}o=x,l=b,s.multiple=!!d,o!=null?Zr(s,!!d,o,!1):l!=null&&Zr(s,!!d,l,!0);return;case"textarea":ot("invalid",s),x=_=d=null;for(b in l)if(l.hasOwnProperty(b)&&(k=l[b],k!=null))switch(b){case"value":d=k;break;case"defaultValue":_=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Rt(s,o,b,k,l,null)}eo(s,d,_,x);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(d=l[G],d!=null))switch(G){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Rt(s,o,G,d,l,null)}return;case"dialog":ot("beforetoggle",s),ot("toggle",s),ot("cancel",s),ot("close",s);break;case"iframe":case"object":ot("load",s);break;case"video":case"audio":for(d=0;d<Iu.length;d++)ot(Iu[d],s);break;case"image":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"embed":case"source":case"link":ot("error",s),ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(d=l[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Rt(s,o,X,d,l,null)}return;default:if(nl(o)){for(le in l)l.hasOwnProperty(le)&&(d=l[le],d!==void 0&&Fg(s,o,le,d,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(d=l[k],d!=null&&Rt(s,o,k,d,l,null))}function w2(s,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,b=null,k=null,G=null,X=null,le=null;for(ie in l){var he=l[ie];if(l.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=he;default:d.hasOwnProperty(ie)||Rt(s,o,ie,null,d,he)}}for(var te in d){var ie=d[te];if(he=l[te],d.hasOwnProperty(te)&&(ie!=null||he!=null))switch(te){case"type":x=ie;break;case"name":_=ie;break;case"checked":X=ie;break;case"defaultChecked":le=ie;break;case"value":b=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,o));break;default:ie!==he&&Rt(s,o,te,ie,d,he)}}tl(s,b,k,G,X,le,x,_);return;case"select":ie=b=k=te=null;for(x in l)if(G=l[x],l.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ie=G;default:d.hasOwnProperty(x)||Rt(s,o,x,null,d,G)}for(_ in d)if(x=d[_],G=l[_],d.hasOwnProperty(_)&&(x!=null||G!=null))switch(_){case"value":te=x;break;case"defaultValue":k=x;break;case"multiple":b=x;default:x!==G&&Rt(s,o,_,x,d,G)}o=k,l=b,d=ie,te!=null?Zr(s,!!l,te,!1):!!d!=!!l&&(o!=null?Zr(s,!!l,o,!0):Zr(s,!!l,l?[]:"",!1));return;case"textarea":ie=te=null;for(k in l)if(_=l[k],l.hasOwnProperty(k)&&_!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Rt(s,o,k,null,d,_)}for(b in d)if(_=d[b],x=l[b],d.hasOwnProperty(b)&&(_!=null||x!=null))switch(b){case"value":te=_;break;case"defaultValue":ie=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==x&&Rt(s,o,b,_,d,x)}Bd(s,te,ie);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!d.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:Rt(s,o,Ne,null,d,te)}for(G in d)if(te=d[G],ie=l[G],d.hasOwnProperty(G)&&te!==ie&&(te!=null||ie!=null))switch(G){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Rt(s,o,G,te,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)te=l[He],l.hasOwnProperty(He)&&te!=null&&!d.hasOwnProperty(He)&&Rt(s,o,He,null,d,te);for(X in d)if(te=d[X],ie=l[X],d.hasOwnProperty(X)&&te!==ie&&(te!=null||ie!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:Rt(s,o,X,te,d,ie)}return;default:if(nl(o)){for(var Dt in l)te=l[Dt],l.hasOwnProperty(Dt)&&te!==void 0&&!d.hasOwnProperty(Dt)&&Fg(s,o,Dt,void 0,d,te);for(le in d)te=d[le],ie=l[le],!d.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||Fg(s,o,le,te,d,ie);return}}for(var J in l)te=l[J],l.hasOwnProperty(J)&&te!=null&&!d.hasOwnProperty(J)&&Rt(s,o,J,null,d,te);for(he in d)te=d[he],ie=l[he],!d.hasOwnProperty(he)||te===ie||te==null&&ie==null||Rt(s,o,he,te,d,ie)}function tT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var _=l[d],x=_.transferSize,b=_.initiatorType,k=_.duration;if(x&&k&&tT(b)){for(b=0,k=_.responseEnd,d+=1;d<l.length;d++){var G=l[d],X=G.startTime;if(X>k)break;var le=G.transferSize,he=G.initiatorType;le&&tT(he)&&(G=G.responseEnd,b+=le*(G<k?1:(k-X)/(G-X)))}if(--d,o+=8*(x+b)/(_.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qg=null,Hg=null;function $h(s){return s.nodeType===9?s:s.ownerDocument}function nT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Bg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gg=null;function S2(){var s=window.event;return s&&s.type==="popstate"?s===Gg?!1:(Gg=s,!0):(Gg=null,!1)}var sT=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,rT=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof rT<"u"?function(s){return rT.resolve(null).then(s).catch(I2)}:sT;function I2(s){setTimeout(function(){throw s})}function bo(s){return s==="head"}function oT(s,o){var l=o,d=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"||l==="/&"){if(d===0){s.removeChild(_),Vl(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Ru(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Ru(l);for(var x=l.firstChild;x;){var b=x.nextSibling,k=x.nodeName;x[mi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=b}}else l==="body"&&Ru(s.ownerDocument.body);l=_}while(l);Vl(o)}function aT(s,o){var l=s;s=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=d}while(l)}function zg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zg(l),Ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function C2(s,o,l,d){for(;s.nodeType===1;){var _=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[mi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=is(s.nextSibling),s===null)break}return null}function R2(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=is(s.nextSibling),s===null))return null;return s}function lT(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=is(s.nextSibling),s===null))return null;return s}function $g(s){return s.data==="$?"||s.data==="$~"}function Kg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function D2(s,o){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Yg=null;function cT(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(o===0)return is(s.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}s=s.nextSibling}return null}function uT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return s;o--}else l!=="/$"&&l!=="/&"||o++}s=s.previousSibling}return null}function dT(s,o,l){switch(o=$h(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ru(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ci(s)}var ss=new Map,hT=new Set;function Kh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Cr=ce.d;ce.d={f:M2,r:k2,D:P2,C:L2,L:U2,m:V2,X:j2,S:O2,M:F2};function M2(){var s=Cr.f(),o=Oh();return s||o}function k2(s){var o=Je(s);o!==null&&o.tag===5&&o.type==="form"?Cx(o):Cr.r(s)}var Pl=typeof document>"u"?null:document;function fT(s,o,l){var d=Pl;if(d&&typeof o=="string"&&o){var _=pi(o);_='link[rel="'+s+'"][href="'+_+'"]',typeof l=="string"&&(_+='[crossorigin="'+l+'"]'),hT.has(_)||(hT.add(_),s={rel:s,crossOrigin:l,href:o},d.querySelector(_)===null&&(o=d.createElement("link"),qn(o,"link",s),qt(o),d.head.appendChild(o)))}}function P2(s){Cr.D(s),fT("dns-prefetch",s,null)}function L2(s,o){Cr.C(s,o),fT("preconnect",s,o)}function U2(s,o,l){Cr.L(s,o,l);var d=Pl;if(d&&s&&o){var _='link[rel="preload"][as="'+pi(o)+'"]';o==="image"&&l&&l.imageSrcSet?(_+='[imagesrcset="'+pi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(_+='[imagesizes="'+pi(l.imageSizes)+'"]')):_+='[href="'+pi(s)+'"]';var x=_;switch(o){case"style":x=Ll(s);break;case"script":x=Ul(s)}ss.has(x)||(s=E({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ss.set(x,s),d.querySelector(_)!==null||o==="style"&&d.querySelector(Du(x))||o==="script"&&d.querySelector(Mu(x))||(o=d.createElement("link"),qn(o,"link",s),qt(o),d.head.appendChild(o)))}}function V2(s,o){Cr.m(s,o);var l=Pl;if(l&&s){var d=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+pi(d)+'"][href="'+pi(s)+'"]',x=_;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ul(s)}if(!ss.has(x)&&(s=E({rel:"modulepreload",href:s},o),ss.set(x,s),l.querySelector(_)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mu(x)))return}d=l.createElement("link"),qn(d,"link",s),qt(d),l.head.appendChild(d)}}}function O2(s,o,l){Cr.S(s,o,l);var d=Pl;if(d&&s){var _=Ft(d).hoistableStyles,x=Ll(s);o=o||"default";var b=_.get(x);if(!b){var k={loading:0,preload:null};if(b=d.querySelector(Du(x)))k.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ss.get(x))&&Jg(s,l);var G=b=d.createElement("link");qt(G),qn(G,"link",s),G._p=new Promise(function(X,le){G.onload=X,G.onerror=le}),G.addEventListener("load",function(){k.loading|=1}),G.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Yh(b,o,d)}b={type:"stylesheet",instance:b,count:1,state:k},_.set(x,b)}}}function j2(s,o){Cr.X(s,o);var l=Pl;if(l&&s){var d=Ft(l).hoistableScripts,_=Ul(s),x=d.get(_);x||(x=l.querySelector(Mu(_)),x||(s=E({src:s,async:!0},o),(o=ss.get(_))&&Qg(s,o),x=l.createElement("script"),qt(x),qn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(_,x))}}function F2(s,o){Cr.M(s,o);var l=Pl;if(l&&s){var d=Ft(l).hoistableScripts,_=Ul(s),x=d.get(_);x||(x=l.querySelector(Mu(_)),x||(s=E({src:s,async:!0,type:"module"},o),(o=ss.get(_))&&Qg(s,o),x=l.createElement("script"),qt(x),qn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(_,x))}}function mT(s,o,l,d){var _=(_=qe.current)?Kh(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ll(l.href),l=Ft(_).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ll(l.href);var x=Ft(_).hoistableStyles,b=x.get(s);if(b||(_=_.ownerDocument||_,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,b),(x=_.querySelector(Du(s)))&&!x._p&&(b.instance=x,b.state.loading=5),ss.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ss.set(s,l),x||q2(_,s,l,b.state))),o&&d===null)throw Error(i(528,""));return b}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ul(l),l=Ft(_).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ll(s){return'href="'+pi(s)+'"'}function Du(s){return'link[rel="stylesheet"]['+s+"]"}function pT(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function q2(s,o,l,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),qn(o,"link",l),qt(o),s.head.appendChild(o))}function Ul(s){return'[src="'+pi(s)+'"]'}function Mu(s){return"script[async]"+s}function gT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+pi(l.href)+'"]');if(d)return o.instance=d,qt(d),d;var _=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),qt(d),qn(d,"style",_),Yh(d,l.precedence,s),o.instance=d;case"stylesheet":_=Ll(l.href);var x=s.querySelector(Du(_));if(x)return o.state.loading|=4,o.instance=x,qt(x),x;d=pT(l),(_=ss.get(_))&&Jg(d,_),x=(s.ownerDocument||s).createElement("link"),qt(x);var b=x;return b._p=new Promise(function(k,G){b.onload=k,b.onerror=G}),qn(x,"link",d),o.state.loading|=4,Yh(x,l.precedence,s),o.instance=x;case"script":return x=Ul(l.src),(_=s.querySelector(Mu(x)))?(o.instance=_,qt(_),_):(d=l,(_=ss.get(x))&&(d=E({},l),Qg(d,_)),s=s.ownerDocument||s,_=s.createElement("script"),qt(_),qn(_,"link",d),s.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Yh(d,l.precedence,s));return o.instance}function Yh(s,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=d.length?d[d.length-1]:null,x=_,b=0;b<d.length;b++){var k=d[b];if(k.dataset.precedence===o)x=k;else if(x!==_)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Jg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Qg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Jh=null;function yT(s,o,l){if(Jh===null){var d=new Map,_=Jh=new Map;_.set(l,d)}else _=Jh,d=_.get(l),d||(d=new Map,_.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),_=0;_<l.length;_++){var x=l[_];if(!(x[mi]||x[kt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var b=x.getAttribute(o)||"";b=s+b;var k=d.get(b);k?k.push(x):d.set(b,[x])}}return d}function vT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function H2(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function _T(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function B2(s,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=Ll(d.href),x=o.querySelector(Du(_));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Qh.bind(s),o.then(s,s)),l.state.loading|=4,l.instance=x,qt(x);return}x=o.ownerDocument||o,d=pT(d),(_=ss.get(_))&&Jg(d,_),x=x.createElement("link"),qt(x);var b=x;b._p=new Promise(function(k,G){b.onload=k,b.onerror=G}),qn(x,"link",d),l.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Qh.bind(s),o.addEventListener("load",l),o.addEventListener("error",l))}}var Wg=0;function G2(s,o){return s.stylesheets&&s.count===0&&Xh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var d=setTimeout(function(){if(s.stylesheets&&Xh(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&Wg===0&&(Wg=62500*b2());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xh(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>Wg?50:800)+o);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(_)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wh=null;function Xh(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wh=new Map,o.forEach(z2,s),Wh=null,Qh.call(s))}function z2(s,o){if(!(o.state.loading&4)){var l=Wh.get(s);if(l)var d=l.get(null);else{l=new Map,Wh.set(s,l);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var b=_[x];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),d=b)}d&&l.set(null,d)}_=o.instance,b=_.getAttribute("data-precedence"),x=l.get(b)||d,x===d&&l.set(null,_),l.set(b,_),this.count++,d=Qh.bind(this),_.addEventListener("load",d),_.addEventListener("error",d),x?x.parentNode.insertBefore(_,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),o.state.loading|=4}}var ku={$$typeof:H,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function $2(s,o,l,d,_,x,b,k,G){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=d,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function xT(s,o,l,d,_,x,b,k,G,X,le,he){return s=new $2(s,o,l,b,G,X,le,he,k),o=1,x===!0&&(o|=24),x=Mi(3,null,null,o),s.current=x,x.stateNode=s,o=Rp(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:o},Pp(x),s}function ET(s){return s?(s=fl,s):fl}function TT(s,o,l,d,_,x){_=ET(_),d.context===null?d.context=_:d.pendingContext=_,d=fo(o),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=mo(s,d,o),l!==null&&(Ei(l,s,o),du(l,s,o))}function wT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Xg(s,o){wT(s,o),(s=s.alternate)&&wT(s,o)}function bT(s){if(s.tag===13||s.tag===31){var o=xa(s,67108864);o!==null&&Ei(o,s,67108864),Xg(s,67108864)}}function ST(s){if(s.tag===13||s.tag===31){var o=Vi();o=ze(o);var l=xa(s,o);l!==null&&Ei(l,s,o),Xg(s,o)}}var Zh=!0;function K2(s,o,l,d){var _=Y.T;Y.T=null;var x=ce.p;try{ce.p=2,Zg(s,o,l,d)}finally{ce.p=x,Y.T=_}}function Y2(s,o,l,d){var _=Y.T;Y.T=null;var x=ce.p;try{ce.p=8,Zg(s,o,l,d)}finally{ce.p=x,Y.T=_}}function Zg(s,o,l,d){if(Zh){var _=ey(d);if(_===null)jg(s,o,d,ef,l),NT(s,d);else if(Q2(_,s,o,l,d))d.stopPropagation();else if(NT(s,d),o&4&&-1<J2.indexOf(s)){for(;_!==null;){var x=Je(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var b=K(x.pendingLanes);if(b!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;b;){var G=1<<31-Vt(b);k.entanglements[1]|=G,b&=~G}Ws(x),(wt&6)===0&&(Uh=Me()+500,Nu(0))}}break;case 31:case 13:k=xa(x,2),k!==null&&Ei(k,x,2),Oh(),Xg(x,2)}if(x=ey(d),x===null&&jg(s,o,d,ef,l),x===_)break;_=x}_!==null&&d.stopPropagation()}else jg(s,o,d,null,l)}}function ey(s){return s=Yi(s),ty(s)}var ef=null;function ty(s){if(ef=null,s=ii(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=c(o),s!==null)return s;s=null}else if(l===31){if(s=h(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return ef=s,null}function AT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Kn:return 2;case Yn:return 8;case fi:case ti:return 32;case $i:return 268435456;default:return 32}default:return 32}}var ny=!1,So=null,Ao=null,No=null,Pu=new Map,Lu=new Map,Io=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NT(s,o){switch(s){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Pu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(o.pointerId)}}function Uu(s,o,l,d,_,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[_]},o!==null&&(o=Je(o),o!==null&&bT(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),s)}function Q2(s,o,l,d,_){switch(o){case"focusin":return So=Uu(So,s,o,l,d,_),!0;case"dragenter":return Ao=Uu(Ao,s,o,l,d,_),!0;case"mouseover":return No=Uu(No,s,o,l,d,_),!0;case"pointerover":var x=_.pointerId;return Pu.set(x,Uu(Pu.get(x)||null,s,o,l,d,_)),!0;case"gotpointercapture":return x=_.pointerId,Lu.set(x,Uu(Lu.get(x)||null,s,o,l,d,_)),!0}return!1}function IT(s){var o=ii(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){s.blockedOn=o,jt(s.priority,function(){ST(l)});return}}else if(o===31){if(o=h(l),o!==null){s.blockedOn=o,jt(s.priority,function(){ST(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=ey(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Jc=d,l.target.dispatchEvent(d),Jc=null}else return o=Je(l),o!==null&&bT(o),s.blockedOn=l,!1;o.shift()}return!0}function CT(s,o,l){tf(s)&&l.delete(o)}function W2(){ny=!1,So!==null&&tf(So)&&(So=null),Ao!==null&&tf(Ao)&&(Ao=null),No!==null&&tf(No)&&(No=null),Pu.forEach(CT),Lu.forEach(CT)}function nf(s,o){s.blockedOn===o&&(s.blockedOn=null,ny||(ny=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,W2)))}var sf=null;function RT(s){sf!==s&&(sf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sf===s&&(sf=null);for(var o=0;o<s.length;o+=3){var l=s[o],d=s[o+1],_=s[o+2];if(typeof d!="function"){if(ty(d||l)===null)continue;break}var x=Je(l);x!==null&&(s.splice(o,3),o-=3,eg(x,{pending:!0,data:_,method:l.method,action:d},d,_))}}))}function Vl(s){function o(G){return nf(G,s)}So!==null&&nf(So,s),Ao!==null&&nf(Ao,s),No!==null&&nf(No,s),Pu.forEach(o),Lu.forEach(o);for(var l=0;l<Io.length;l++){var d=Io[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Io.length&&(l=Io[0],l.blockedOn===null);)IT(l),l.blockedOn===null&&Io.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var _=l[d],x=l[d+1],b=_[on]||null;if(typeof x=="function")b||RT(l);else if(b){var k=null;if(x&&x.hasAttribute("formAction")){if(_=x,b=x[on]||null)k=b.formAction;else if(ty(_)!==null)continue}else k=b.action;typeof k=="function"?l[d+1]=k:(l.splice(d,3),d-=3),RT(l)}}}function DT(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(b){return _=b})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function iy(s){this._internalRoot=s}rf.prototype.render=iy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,d=Vi();TT(l,d,s,o,null,null)},rf.prototype.unmount=iy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;TT(s.current,2,null,s,null,null),Oh(),o[Un]=null}};function rf(s){this._internalRoot=s}rf.prototype.unstable_scheduleHydration=function(s){if(s){var o=rn();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Io.length&&o!==0&&o<Io[l].priority;l++);Io.splice(l,0,s),l===0&&IT(s)}};var MT=e.version;if(MT!=="19.2.3")throw Error(i(527,MT,"19.2.3"));ce.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var X2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Jn=of.inject(X2),Xt=of}catch{}}return Ou.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,d="",_=jx,x=Fx,b=qx;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=xT(s,1,!1,null,null,l,d,null,_,x,b,DT),s[Un]=o.current,Og(s),new iy(o)},Ou.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var d=!1,_="",x=jx,b=Fx,k=qx,G=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),o=xT(s,1,!0,o,l??null,d,_,G,x,b,k,DT),o.context=ET(null),l=o.current,d=Vi(),d=ze(d),_=fo(d),_.callback=null,mo(l,_,d),l=d,o.current.lanes=l,Ue(o,l),Ws(o),s[Un]=o.current,Og(s),new rf(o)},Ou.version="19.2.3",Ou}var HT;function aD(){if(HT)return oy.exports;HT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oy.exports=oD(),oy.exports}var lD=aD();const cD=N0(lD);var MA=DA();const uD=N0(MA),dD=CA({__proto__:null,default:uD},[MA]);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qt(){return Qt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qt.apply(this,arguments)}var Ot;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ot||(Ot={}));const BT="popstate";function kA(n){n===void 0&&(n={});let{initialEntries:e=["/"],initialIndex:t,v5Compat:i=!1}=n,r;r=e.map((S,N)=>g(S,typeof S=="string"?null:S.state,N===0?"default":void 0));let a=m(t??r.length-1),c=Ot.Pop,h=null;function m(S){return Math.min(Math.max(S,0),r.length-1)}function f(){return r[a]}function g(S,N,U){N===void 0&&(N=null);let D=Ha(r?f().pathname:"/",S,N,U);return Ur(D.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(S)),D}function E(S){return typeof S=="string"?S:Rs(S)}return{get index(){return a},get action(){return c},get location(){return f()},createHref:E,createURL(S){return new URL(E(S),"http://localhost")},encodeLocation(S){let N=typeof S=="string"?hs(S):S;return{pathname:N.pathname||"",search:N.search||"",hash:N.hash||""}},push(S,N){c=Ot.Push;let U=g(S,N);a+=1,r.splice(a,r.length,U),i&&h&&h({action:c,location:U,delta:1})},replace(S,N){c=Ot.Replace;let U=g(S,N);r[a]=U,i&&h&&h({action:c,location:U,delta:0})},go(S){c=Ot.Pop;let N=m(a+S),U=r[N];a=N,h&&h({action:c,location:U,delta:S})},listen(S){return h=S,()=>{h=null}}}}function PA(n){n===void 0&&(n={});function e(i,r){let{pathname:a,search:c,hash:h}=i.location;return Ha("",{pathname:a,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Rs(r)}return UA(e,t,null,n)}function LA(n){n===void 0&&(n={});function e(r,a){let{pathname:c="/",search:h="",hash:m=""}=hs(r.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ha("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=r.location.href,f=m.indexOf("#");h=f===-1?m:m.slice(0,f)}return h+"#"+(typeof a=="string"?a:Rs(a))}function i(r,a){Ur(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return UA(e,t,i,n)}function je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ur(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hD(){return Math.random().toString(36).substr(2,8)}function GT(n,e){return{usr:n.state,key:n.key,idx:e}}function Ha(n,e,t,i){return t===void 0&&(t=null),Qt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:t,key:e&&e.key||i||hD()})}function Rs(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function UA(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,c=r.history,h=Ot.Pop,m=null,f=g();f==null&&(f=0,c.replaceState(Qt({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function E(){h=Ot.Pop;let D=g(),q=D==null?null:D-f;f=D,m&&m({action:h,location:U.location,delta:q})}function T(D,q){h=Ot.Push;let B=Ha(U.location,D,q);t&&t(B,D),f=g()+1;let H=GT(B,f),ee=U.createHref(B);try{c.pushState(H,"",ee)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;r.location.assign(ee)}a&&m&&m({action:h,location:U.location,delta:1})}function S(D,q){h=Ot.Replace;let B=Ha(U.location,D,q);t&&t(B,D),f=g();let H=GT(B,f),ee=U.createHref(B);c.replaceState(H,"",ee),a&&m&&m({action:h,location:U.location,delta:0})}function N(D){let q=r.location.origin!=="null"?r.location.origin:r.location.href,B=typeof D=="string"?D:Rs(D);return B=B.replace(/ $/,"%20"),je(q,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,q)}let U={get action(){return h},get location(){return n(r,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(BT,E),m=D,()=>{r.removeEventListener(BT,E),m=null}},createHref(D){return e(r,D)},createURL:N,encodeLocation(D){let q=N(D);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:S,go(D){return c.go(D)}};return U}var cn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cn||(cn={}));const fD=new Set(["lazy","caseSensitive","path","id","index","children"]);function mD(n){return n.index===!0}function Py(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,a)=>{let c=[...t,a],h=typeof r.id=="string"?r.id:c.join("-");if(je(r.index!==!0||!r.children,"Cannot specify children on an index route"),je(!i[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),mD(r)){let m=Qt({},r,e(r),{id:h});return i[h]=m,m}else{let m=Qt({},r,e(r),{id:h,children:void 0});return i[h]=m,r.children&&(m.children=Py(r.children,e,c,i)),m}})}function La(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?hs(e):e,r=bi(i.pathname||"/",t);if(r==null)return null;let a=OA(n);pD(a);let c=null;for(let h=0;c==null&&h<a.length;++h){let m=ND(r);c=bD(a[h],m)}return c}function VA(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function OA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(a,c,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(je(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let f=tr([i,m.relativePath]),g=t.concat(m);a.children&&a.children.length>0&&(je(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),OA(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:TD(f,a.index),routesMeta:g})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))r(a,c);else for(let m of jA(a.path))r(a,c,m)}),e}function jA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let c=jA(i.join("/")),h=[];return h.push(...c.map(m=>m===""?a:[a,m].join("/"))),r&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function pD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const gD=/^:[\w-]+$/,yD=3,vD=2,_D=1,xD=10,ED=-2,zT=n=>n==="*";function TD(n,e){let t=n.split("/"),i=t.length;return t.some(zT)&&(i+=ED),e&&(i+=vD),t.filter(r=>!zT(r)).reduce((r,a)=>r+(gD.test(a)?yD:a===""?_D:xD),i)}function wD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function bD(n,e){let{routesMeta:t}=n,i={},r="/",a=[];for(let c=0;c<t.length;++c){let h=t[c],m=c===t.length-1,f=r==="/"?e:e.slice(r.length)||"/",g=ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},f);if(!g)return null;Object.assign(i,g.params);let E=h.route;a.push({params:i,pathname:tr([r,g.pathname]),pathnameBase:CD(tr([r,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(r=tr([r,g.pathnameBase]))}return a}function SD(n,e){e===void 0&&(e={});let t=n;t.endsWith("*")&&t!=="*"&&!t.endsWith("/*")&&(Ur(!1,'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".')),t=t.replace(/\*$/,"/*"));const i=t.startsWith("/")?"/":"",r=c=>c==null?"":typeof c=="string"?c:String(c),a=t.split(/\/+/).map((c,h,m)=>{if(h===m.length-1&&c==="*")return r(e["*"]);const g=c.match(/^:([\w-]+)(\??)$/);if(g){const[,E,T]=g;let S=e[E];return je(T==="?"||S!=null,'Missing ":'+E+'" param'),r(S)}return c.replace(/\?$/g,"")}).filter(c=>!!c);return i+a.join("/")}function ud(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AD(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],c=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((f,g,E)=>{let{paramName:T,isOptional:S}=g;if(T==="*"){let U=h[E]||"";c=a.slice(0,a.length-U.length).replace(/(.)\/+$/,"$1")}const N=h[E];return S&&!N?f[T]=void 0:f[T]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:n}}function AD(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ur(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ND(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ur(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function FA(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?hs(n):n;return{pathname:t?t.startsWith("/")?t:ID(t,e):e,search:RD(i),hash:DD(r)}}function ID(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function uy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hm(n,e){let t=qA(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function fm(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=hs(n):(r=Qt({},n),je(!r.pathname||!r.pathname.includes("?"),uy("?","pathname","search",r)),je(!r.pathname||!r.pathname.includes("#"),uy("#","pathname","hash",r)),je(!r.search||!r.search.includes("#"),uy("#","search","hash",r)));let a=n===""||r.pathname==="",c=a?"/":r.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;r.pathname=T.join("/")}h=E>=0?e[E]:"/"}let m=FA(r,h),f=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}const tr=n=>n.join("/").replace(/\/\/+/g,"/"),CD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,MD=function(e,t){t===void 0&&(t={});let i=typeof t=="number"?{status:t}:t,r=new Headers(i.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),Qt({},i,{headers:r}))};class Lf extends Error{}class kD{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],je(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((a,c)=>i=c),this.controller=new AbortController;let r=()=>i(new Lf("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((a,c)=>{let[h,m]=c;return Object.assign(a,{[h]:this.trackPromise(h,m)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(r=>this.onSettle(i,e,void 0,r),r=>this.onSettle(i,e,r));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,r){if(this.controller.signal.aborted&&i instanceof Lf)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i===void 0&&r===void 0){let a=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>a}),this.emit(!1,t),Promise.reject(a)}return r===void 0?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r)}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(r=>{this.subscribe(a=>{e.removeEventListener("abort",i),(a||this.done)&&r(a)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return je(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,r]=t;return Object.assign(e,{[i]:LD(r)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function PD(n){return n instanceof Promise&&n._tracked===!0}function LD(n){if(!PD(n))return n;if(n._error)throw n._error;return n._data}const UD=function(e,t){t===void 0&&(t={});let i=typeof t=="number"?{status:t}:t;return new kD(e,i)},HA=function(e,t){t===void 0&&(t=302);let i=t;typeof i=="number"?i={status:i}:typeof i.status>"u"&&(i.status=302);let r=new Headers(i.headers);return r.set("Location",e),new Response(null,Qt({},i,{headers:r}))},VD=(n,e)=>{let t=HA(n,e);return t.headers.set("X-Remix-Reload-Document","true"),t};class R0{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function D0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BA=["post","put","patch","delete"],OD=new Set(BA),jD=["get",...BA],FD=new Set(jD),qD=new Set([301,302,303,307,308]),HD=new Set([307,308]),dy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),$A="remix-router-transitions";function M0(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let K=n.detectErrorBoundary;r=Z=>({hasErrorBoundary:K(Z)})}else r=BD;let a={},c=Py(n.routes,r,void 0,a),h,m=n.basename||"/",f=Qt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),g=null,E=new Set,T=null,S=null,N=null,U=n.hydrationData!=null,D=La(c,n.history.location,m),q=null;if(D==null){let K=os(404,{pathname:n.history.location.pathname}),{matches:Z,route:oe}=ZT(c);D=Z,q={[oe.id]:K}}let B,H=D.some(K=>K.route.lazy),ee=D.some(K=>K.route.loader);if(H)B=!1;else if(!ee)B=!0;else if(f.v7_partialHydration){let K=n.hydrationData?n.hydrationData.loaderData:null,Z=n.hydrationData?n.hydrationData.errors:null,oe=_e=>_e.route.loader?_e.route.loader.hydrate===!0?!1:K&&K[_e.route.id]!==void 0||Z&&Z[_e.route.id]!==void 0:!0;if(Z){let _e=D.findIndex(Ae=>Z[Ae.route.id]!==void 0);B=D.slice(0,_e+1).every(oe)}else B=D.every(oe)}else B=n.hydrationData!=null;let re,F={historyAction:n.history.action,location:n.history.location,matches:D,initialized:B,navigation:dy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||q,fetchers:new Map,blockers:new Map},C=Ot.Pop,R=!1,I,V=!1,M=new Map,P=null,L=!1,pe=!1,Ie=[],Y=[],ce=new Map,ye=0,se=-1,De=new Map,z=new Set,ae=new Map,ve=new Map,Ee=new Set,ke=new Map,qe=new Map,tt=!1;function Wt(){if(g=n.history.listen(K=>{let{action:Z,location:oe,delta:_e}=K;if(tt){tt=!1;return}Ur(qe.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=Vt({currentLocation:F.location,nextLocation:oe,historyAction:Z});if(Ae&&_e!=null){tt=!0,n.history.go(_e*-1),gn(Ae,{state:"blocked",location:oe,proceed(){gn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),n.history.go(_e)},reset(){let Be=new Map(F.blockers);Be.set(Ae,Fl),nn({blockers:Be})}});return}return $n(Z,oe)}),t){eM(e,M);let K=()=>tM(e,M);e.addEventListener("pagehide",K),P=()=>e.removeEventListener("pagehide",K)}return F.initialized||$n(Ot.Pop,F.location,{initialHydration:!0}),re}function We(){g&&g(),P&&P(),E.clear(),I&&I.abort(),F.fetchers.forEach((K,Z)=>Yn(Z)),F.blockers.forEach((K,Z)=>Xt(Z))}function ms(K){return E.add(K),()=>E.delete(K)}function nn(K,Z){Z===void 0&&(Z={}),F=Qt({},F,K);let oe=[],_e=[];f.v7_fetcherPersist&&F.fetchers.forEach((Ae,Be)=>{Ae.state==="idle"&&(Ee.has(Be)?_e.push(Be):oe.push(Be))}),[...E].forEach(Ae=>Ae(F,{deletedFetchers:_e,unstable_viewTransitionOpts:Z.viewTransitionOpts,unstable_flushSync:Z.flushSync===!0})),f.v7_fetcherPersist&&(oe.forEach(Ae=>F.fetchers.delete(Ae)),_e.forEach(Ae=>Yn(Ae)))}function di(K,Z,oe){var _e,Ae;let{flushSync:Be}=oe===void 0?{}:oe,Ue=F.actionData!=null&&F.navigation.formMethod!=null&&bs(F.navigation.formMethod)&&F.navigation.state==="loading"&&((_e=K.state)==null?void 0:_e._isRedirect)!==!0,Oe;Z.actionData?Object.keys(Z.actionData).length>0?Oe=Z.actionData:Oe=null:Ue?Oe=F.actionData:Oe=null;let Ce=Z.loaderData?XT(F.loaderData,Z.loaderData,Z.matches||[],Z.errors):F.loaderData,nt=F.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((lt,rn)=>nt.set(rn,Fl)));let Kt=R===!0||F.navigation.formMethod!=null&&bs(F.navigation.formMethod)&&((Ae=K.state)==null?void 0:Ae._isRedirect)!==!0;h&&(c=h,h=void 0),L||C===Ot.Pop||(C===Ot.Push?n.history.push(K,K.state):C===Ot.Replace&&n.history.replace(K,K.state));let ze;if(C===Ot.Pop){let lt=M.get(F.location.pathname);lt&&lt.has(K.pathname)?ze={currentLocation:F.location,nextLocation:K}:M.has(K.pathname)&&(ze={currentLocation:K,nextLocation:F.location})}else if(V){let lt=M.get(F.location.pathname);lt?lt.add(K.pathname):(lt=new Set([K.pathname]),M.set(F.location.pathname,lt)),ze={currentLocation:F.location,nextLocation:K}}nn(Qt({},Z,{actionData:Oe,loaderData:Ce,historyAction:C,location:K,initialized:!0,navigation:dy,revalidation:"idle",restoreScrollPosition:Vs(K,Z.matches||F.matches),preventScrollReset:Kt,blockers:nt}),{viewTransitionOpts:ze,flushSync:Be===!0}),C=Ot.Pop,R=!1,V=!1,L=!1,pe=!1,Ie=[],Y=[]}async function zi(K,Z){if(typeof K=="number"){n.history.go(K);return}let oe=Ly(F.location,F.matches,m,f.v7_prependBasename,K,f.v7_relativeSplatPath,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:_e,submission:Ae,error:Be}=$T(f.v7_normalizeFormMethod,!1,oe,Z),Ue=F.location,Oe=Ha(F.location,_e,Z&&Z.state);Oe=Qt({},Oe,n.history.encodeLocation(Oe));let Ce=Z&&Z.replace!=null?Z.replace:void 0,nt=Ot.Push;Ce===!0?nt=Ot.Replace:Ce===!1||Ae!=null&&bs(Ae.formMethod)&&Ae.formAction===F.location.pathname+F.location.search&&(nt=Ot.Replace);let Kt=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,ze=(Z&&Z.unstable_flushSync)===!0,lt=Vt({currentLocation:Ue,nextLocation:Oe,historyAction:nt});if(lt){gn(lt,{state:"blocked",location:Oe,proceed(){gn(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),zi(K,Z)},reset(){let rn=new Map(F.blockers);rn.set(lt,Fl),nn({blockers:rn})}});return}return await $n(nt,Oe,{submission:Ae,pendingError:Be,preventScrollReset:Kt,replace:Z&&Z.replace,enableViewTransition:Z&&Z.unstable_viewTransition,flushSync:ze})}function zn(){if(me(),nn({revalidation:"loading"}),F.navigation.state!=="submitting"){if(F.navigation.state==="idle"){$n(F.historyAction,F.location,{startUninterruptedRevalidation:!0});return}$n(C||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation})}}async function $n(K,Z,oe){I&&I.abort(),I=null,C=K,L=(oe&&oe.startUninterruptedRevalidation)===!0,Ki(F.location,F.matches),R=(oe&&oe.preventScrollReset)===!0,V=(oe&&oe.enableViewTransition)===!0;let _e=h||c,Ae=oe&&oe.overrideNavigation,Be=La(_e,Z,m),Ue=(oe&&oe.flushSync)===!0;if(!Be){let rn=os(404,{pathname:Z.pathname}),{matches:jt,route:bt}=ZT(_e);Jr(),di(Z,{matches:jt,loaderData:{},errors:{[bt.id]:rn}},{flushSync:Ue});return}if(F.initialized&&!pe&&YD(F.location,Z)&&!(oe&&oe.submission&&bs(oe.submission.formMethod))){di(Z,{matches:Be},{flushSync:Ue});return}I=new AbortController;let Oe=Fu(n.history,Z,I.signal,oe&&oe.submission),Ce,nt;if(oe&&oe.pendingError)nt={[Zu(Be).route.id]:oe.pendingError};else if(oe&&oe.submission&&bs(oe.submission.formMethod)){let rn=await hi(Oe,Z,oe.submission,Be,{replace:oe.replace,flushSync:Ue});if(rn.shortCircuited)return;Ce=rn.pendingActionData,nt=rn.pendingActionError,Ae=hy(Z,oe.submission),Ue=!1,Oe=new Request(Oe.url,{signal:Oe.signal})}let{shortCircuited:Kt,loaderData:ze,errors:lt}=await Ls(Oe,Z,Be,Ae,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,Ue,Ce,nt);Kt||(I=null,di(Z,Qt({matches:Be},Ce?{actionData:Ce}:{},{loaderData:ze,errors:lt})))}async function hi(K,Z,oe,_e,Ae){Ae===void 0&&(Ae={}),me();let Be=XD(Z,oe);nn({navigation:Be},{flushSync:Ae.flushSync===!0});let Ue,Oe=Vy(_e,Z);if(!Oe.route.action&&!Oe.route.lazy)Ue={type:cn.error,error:os(405,{method:K.method,pathname:Z.pathname,routeId:Oe.route.id})};else if(Ue=await ju("action",K,Oe,_e,a,r,m,f.v7_relativeSplatPath),K.signal.aborted)return{shortCircuited:!0};if(Va(Ue)){let Ce;return Ae&&Ae.replace!=null?Ce=Ae.replace:Ce=Ue.location===F.location.pathname+F.location.search,await Ln(F,Ue,{submission:oe,replace:Ce}),{shortCircuited:!0}}if(Kl(Ue)){let Ce=Zu(_e,Oe.route.id);return(Ae&&Ae.replace)!==!0&&(C=Ot.Push),{pendingActionData:{},pendingActionError:{[Ce.route.id]:Ue.error}}}if(Ua(Ue))throw os(400,{type:"defer-action"});return{pendingActionData:{[Oe.route.id]:Ue.data}}}async function Ls(K,Z,oe,_e,Ae,Be,Ue,Oe,Ce,nt,Kt){let ze=_e||hy(Z,Ae),lt=Ae||Be||nw(ze),rn=h||c,[jt,bt]=KT(n.history,F,oe,lt,Z,f.v7_partialHydration&&Oe===!0,pe,Ie,Y,Ee,ae,z,rn,m,nt,Kt);if(Jr(Je=>!(oe&&oe.some(Xe=>Xe.route.id===Je))||jt&&jt.some(Xe=>Xe.route.id===Je)),se=++ye,jt.length===0&&bt.length===0){let Je=Ii();return di(Z,Qt({matches:oe,loaderData:{},errors:Kt||null},nt?{actionData:nt}:{},Je?{fetchers:new Map(F.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(!L&&(!f.v7_partialHydration||!Oe)){bt.forEach(Xe=>{let Ft=F.fetchers.get(Xe.key),qt=qu(void 0,Ft?Ft.data:void 0);F.fetchers.set(Xe.key,qt)});let Je=nt||F.actionData;nn(Qt({navigation:ze},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},bt.length>0?{fetchers:new Map(F.fetchers)}:{}),{flushSync:Ce})}bt.forEach(Je=>{ce.has(Je.key)&&ti(Je.key),Je.controller&&ce.set(Je.key,Je.controller)});let kt=()=>bt.forEach(Je=>ti(Je.key));I&&I.signal.addEventListener("abort",kt);let{results:on,loaderResults:Un,fetcherResults:ni}=await Yr(F.matches,oe,jt,bt,K);if(K.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",kt),bt.forEach(Je=>ce.delete(Je.key));let ps=ew(on);if(ps){if(ps.idx>=jt.length){let Je=bt[ps.idx-jt.length].key;z.add(Je)}return await Ln(F,ps.result,{replace:Ue}),{shortCircuited:!0}}let{loaderData:Wr,errors:Os}=WT(F,oe,jt,Un,Kt,bt,ni,ke);ke.forEach((Je,Xe)=>{Je.subscribe(Ft=>{(Ft||Je.done)&&ke.delete(Xe)})}),f.v7_partialHydration&&Oe&&F.errors&&Object.entries(F.errors).filter(Je=>{let[Xe]=Je;return!jt.some(Ft=>Ft.route.id===Xe)}).forEach(Je=>{let[Xe,Ft]=Je;Os=Object.assign(Os||{},{[Xe]:Ft})});let mi=Ii(),Ci=Us(se),ii=mi||Ci||bt.length>0;return Qt({loaderData:Wr,errors:Os},ii?{fetchers:new Map(F.fetchers)}:{})}function dr(K,Z,oe,_e){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(K)&&ti(K);let Ae=(_e&&_e.unstable_flushSync)===!0,Be=h||c,Ue=Ly(F.location,F.matches,m,f.v7_prependBasename,oe,f.v7_relativeSplatPath,Z,_e==null?void 0:_e.relative),Oe=La(Be,Ue,m);if(!Oe){at(K,Z,os(404,{pathname:Ue}),{flushSync:Ae});return}let{path:Ce,submission:nt,error:Kt}=$T(f.v7_normalizeFormMethod,!0,Ue,_e);if(Kt){at(K,Z,Kt,{flushSync:Ae});return}let ze=Vy(Oe,Ce);if(R=(_e&&_e.preventScrollReset)===!0,nt&&bs(nt.formMethod)){Lt(K,Z,Ce,ze,Oe,Ae,nt);return}ae.set(K,{routeId:Z,path:Ce}),Ut(K,Z,Ce,ze,Oe,Ae,nt)}async function Lt(K,Z,oe,_e,Ae,Be,Ue){if(me(),ae.delete(K),!_e.route.action&&!_e.route.lazy){let Xe=os(405,{method:Ue.formMethod,pathname:oe,routeId:Z});at(K,Z,Xe,{flushSync:Be});return}let Oe=F.fetchers.get(K);Me(K,ZD(Ue,Oe),{flushSync:Be});let Ce=new AbortController,nt=Fu(n.history,oe,Ce.signal,Ue);ce.set(K,Ce);let Kt=ye,ze=await ju("action",nt,_e,Ae,a,r,m,f.v7_relativeSplatPath);if(nt.signal.aborted){ce.get(K)===Ce&&ce.delete(K);return}if(f.v7_fetcherPersist&&Ee.has(K)){if(Va(ze)||Kl(ze)){Me(K,Do(void 0));return}}else{if(Va(ze))if(ce.delete(K),se>Kt){Me(K,Do(void 0));return}else return z.add(K),Me(K,qu(Ue)),Ln(F,ze,{fetcherSubmission:Ue});if(Kl(ze)){at(K,Z,ze.error);return}}if(Ua(ze))throw os(400,{type:"defer-action"});let lt=F.navigation.location||F.location,rn=Fu(n.history,lt,Ce.signal),jt=h||c,bt=F.navigation.state!=="idle"?La(jt,F.navigation.location,m):F.matches;je(bt,"Didn't find any matches after fetcher action");let kt=++ye;De.set(K,kt);let on=qu(Ue,ze.data);F.fetchers.set(K,on);let[Un,ni]=KT(n.history,F,bt,Ue,lt,!1,pe,Ie,Y,Ee,ae,z,jt,m,{[_e.route.id]:ze.data},void 0);ni.filter(Xe=>Xe.key!==K).forEach(Xe=>{let Ft=Xe.key,qt=F.fetchers.get(Ft),la=qu(void 0,qt?qt.data:void 0);F.fetchers.set(Ft,la),ce.has(Ft)&&ti(Ft),Xe.controller&&ce.set(Ft,Xe.controller)}),nn({fetchers:new Map(F.fetchers)});let ps=()=>ni.forEach(Xe=>ti(Xe.key));Ce.signal.addEventListener("abort",ps);let{results:Wr,loaderResults:Os,fetcherResults:mi}=await Yr(F.matches,bt,Un,ni,rn);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",ps),De.delete(K),ce.delete(K),ni.forEach(Xe=>ce.delete(Xe.key));let Ci=ew(Wr);if(Ci){if(Ci.idx>=Un.length){let Xe=ni[Ci.idx-Un.length].key;z.add(Xe)}return Ln(F,Ci.result)}let{loaderData:ii,errors:Je}=WT(F,F.matches,Un,Os,void 0,ni,mi,ke);if(F.fetchers.has(K)){let Xe=Do(ze.data);F.fetchers.set(K,Xe)}Us(kt),F.navigation.state==="loading"&&kt>se?(je(C,"Expected pending action"),I&&I.abort(),di(F.navigation.location,{matches:bt,loaderData:ii,errors:Je,fetchers:new Map(F.fetchers)})):(nn({errors:Je,loaderData:XT(F.loaderData,ii,bt,Je),fetchers:new Map(F.fetchers)}),pe=!1)}async function Ut(K,Z,oe,_e,Ae,Be,Ue){let Oe=F.fetchers.get(K);Me(K,qu(Ue,Oe?Oe.data:void 0),{flushSync:Be});let Ce=new AbortController,nt=Fu(n.history,oe,Ce.signal);ce.set(K,Ce);let Kt=ye,ze=await ju("loader",nt,_e,Ae,a,r,m,f.v7_relativeSplatPath);if(Ua(ze)&&(ze=await JA(ze,nt.signal,!0)||ze),ce.get(K)===Ce&&ce.delete(K),!nt.signal.aborted){if(Ee.has(K)){Me(K,Do(void 0));return}if(Va(ze))if(se>Kt){Me(K,Do(void 0));return}else{z.add(K),await Ln(F,ze);return}if(Kl(ze)){at(K,Z,ze.error);return}je(!Ua(ze),"Unhandled fetcher deferred data"),Me(K,Do(ze.data))}}async function Ln(K,Z,oe){let{submission:_e,fetcherSubmission:Ae,replace:Be}=oe===void 0?{}:oe;Z.revalidate&&(pe=!0);let Ue=Ha(K.location,Z.location,{_isRedirect:!0});if(je(Ue,"Expected a location on the redirect navigation"),t){let lt=!1;if(Z.reloadDocument)lt=!0;else if(zA.test(Z.location)){const rn=n.history.createURL(Z.location);lt=rn.origin!==e.location.origin||bi(rn.pathname,m)==null}if(lt){Be?e.location.replace(Z.location):e.location.assign(Z.location);return}}I=null;let Oe=Be===!0?Ot.Replace:Ot.Push,{formMethod:Ce,formAction:nt,formEncType:Kt}=K.navigation;!_e&&!Ae&&Ce&&nt&&Kt&&(_e=nw(K.navigation));let ze=_e||Ae;if(HD.has(Z.status)&&ze&&bs(ze.formMethod))await $n(Oe,Ue,{submission:Qt({},ze,{formAction:Z.location}),preventScrollReset:R});else{let lt=hy(Ue,_e);await $n(Oe,Ue,{overrideNavigation:lt,fetcherSubmission:Ae,preventScrollReset:R})}}async function Yr(K,Z,oe,_e,Ae){let Be=await Promise.all([...oe.map(Ce=>ju("loader",Ae,Ce,Z,a,r,m,f.v7_relativeSplatPath)),..._e.map(Ce=>Ce.matches&&Ce.match&&Ce.controller?ju("loader",Fu(n.history,Ce.path,Ce.controller.signal),Ce.match,Ce.matches,a,r,m,f.v7_relativeSplatPath):{type:cn.error,error:os(404,{pathname:Ce.path})})]),Ue=Be.slice(0,oe.length),Oe=Be.slice(oe.length);return await Promise.all([tw(K,oe,Ue,Ue.map(()=>Ae.signal),!1,F.loaderData),tw(K,_e.map(Ce=>Ce.match),Oe,_e.map(Ce=>Ce.controller?Ce.controller.signal:null),!0)]),{results:Be,loaderResults:Ue,fetcherResults:Oe}}function me(){pe=!0,Ie.push(...Jr()),ae.forEach((K,Z)=>{ce.has(Z)&&(Y.push(Z),ti(Z))})}function Me(K,Z,oe){oe===void 0&&(oe={}),F.fetchers.set(K,Z),nn({fetchers:new Map(F.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function at(K,Z,oe,_e){_e===void 0&&(_e={});let Ae=Zu(F.matches,Z);Yn(K),nn({errors:{[Ae.route.id]:oe},fetchers:new Map(F.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Kn(K){return f.v7_fetcherPersist&&(ve.set(K,(ve.get(K)||0)+1),Ee.has(K)&&Ee.delete(K)),F.fetchers.get(K)||GA}function Yn(K){let Z=F.fetchers.get(K);ce.has(K)&&!(Z&&Z.state==="loading"&&De.has(K))&&ti(K),ae.delete(K),De.delete(K),z.delete(K),Ee.delete(K),F.fetchers.delete(K)}function fi(K){if(f.v7_fetcherPersist){let Z=(ve.get(K)||0)-1;Z<=0?(ve.delete(K),Ee.add(K)):ve.set(K,Z)}else Yn(K);nn({fetchers:new Map(F.fetchers)})}function ti(K){let Z=ce.get(K);je(Z,"Expected fetch controller: "+K),Z.abort(),ce.delete(K)}function $i(K){for(let Z of K){let oe=Kn(Z),_e=Do(oe.data);F.fetchers.set(Z,_e)}}function Ii(){let K=[],Z=!1;for(let oe of z){let _e=F.fetchers.get(oe);je(_e,"Expected fetcher: "+oe),_e.state==="loading"&&(z.delete(oe),K.push(oe),Z=!0)}return $i(K),Z}function Us(K){let Z=[];for(let[oe,_e]of De)if(_e<K){let Ae=F.fetchers.get(oe);je(Ae,"Expected fetcher: "+oe),Ae.state==="loading"&&(ti(oe),De.delete(oe),Z.push(oe))}return $i(Z),Z.length>0}function Jn(K,Z){let oe=F.blockers.get(K)||Fl;return qe.get(K)!==Z&&qe.set(K,Z),oe}function Xt(K){F.blockers.delete(K),qe.delete(K)}function gn(K,Z){let oe=F.blockers.get(K)||Fl;je(oe.state==="unblocked"&&Z.state==="blocked"||oe.state==="blocked"&&Z.state==="blocked"||oe.state==="blocked"&&Z.state==="proceeding"||oe.state==="blocked"&&Z.state==="unblocked"||oe.state==="proceeding"&&Z.state==="unblocked","Invalid blocker state transition: "+oe.state+" -> "+Z.state);let _e=new Map(F.blockers);_e.set(K,Z),nn({blockers:_e})}function Vt(K){let{currentLocation:Z,nextLocation:oe,historyAction:_e}=K;if(qe.size===0)return;qe.size>1&&Ur(!1,"A router only supports one blocker at a time");let Ae=Array.from(qe.entries()),[Be,Ue]=Ae[Ae.length-1],Oe=F.blockers.get(Be);if(!(Oe&&Oe.state==="proceeding")&&Ue({currentLocation:Z,nextLocation:oe,historyAction:_e}))return Be}function Jr(K){let Z=[];return ke.forEach((oe,_e)=>{(!K||K(_e))&&(oe.cancel(),Z.push(_e),ke.delete(_e))}),Z}function Qr(K,Z,oe){if(T=K,N=Z,S=oe||null,!U&&F.navigation===dy){U=!0;let _e=Vs(F.location,F.matches);_e!=null&&nn({restoreScrollPosition:_e})}return()=>{T=null,N=null,S=null}}function aa(K,Z){return S&&S(K,Z.map(_e=>VA(_e,F.loaderData)))||K.key}function Ki(K,Z){if(T&&N){let oe=aa(K,Z);T[oe]=N()}}function Vs(K,Z){if(T){let oe=aa(K,Z),_e=T[oe];if(typeof _e=="number")return _e}return null}function sn(K){a={},h=Py(K,r,void 0,a)}return re={get basename(){return m},get future(){return f},get state(){return F},get routes(){return c},get window(){return e},initialize:Wt,subscribe:ms,enableScrollRestoration:Qr,navigate:zi,fetch:dr,revalidate:zn,createHref:K=>n.history.createHref(K),encodeLocation:K=>n.history.encodeLocation(K),getFetcher:Kn,deleteFetcher:fi,dispose:We,getBlocker:Jn,deleteBlocker:Xt,_internalFetchControllers:ce,_internalActiveDeferreds:ke,_internalSetRoutes:sn},re}function GD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ly(n,e,t,i,r,a,c,h){let m,f;if(c){m=[];for(let E of e)if(m.push(E),E.route.id===c){f=E;break}}else m=e,f=e[e.length-1];let g=fm(r||".",hm(m,a),bi(n.pathname,t)||n.pathname,h==="path");return r==null&&(g.search=n.search,g.hash=n.hash),(r==null||r===""||r===".")&&f&&f.route.index&&!k0(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(g.pathname=g.pathname==="/"?t:tr([t,g.pathname])),Rs(g)}function $T(n,e,t,i){if(!i||!GD(i))return{path:t};if(i.formMethod&&!WD(i.formMethod))return{path:t,error:os(405,{method:i.formMethod})};let r=()=>({path:t,error:os(400,{type:"invalid-body"})}),a=i.formMethod||"get",c=n?a.toUpperCase():a.toLowerCase(),h=YA(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!bs(c))return r();let T=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((S,N)=>{let[U,D]=N;return""+S+U+"="+D+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:void 0,text:T}}}else if(i.formEncType==="application/json"){if(!bs(c))return r();try{let T=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:T,text:void 0}}}catch{return r()}}}je(typeof FormData=="function","FormData is not available in this environment");let m,f;if(i.formData)m=Uy(i.formData),f=i.formData;else if(i.body instanceof FormData)m=Uy(i.body),f=i.body;else if(i.body instanceof URLSearchParams)m=i.body,f=QT(m);else if(i.body==null)m=new URLSearchParams,f=new FormData;else try{m=new URLSearchParams(i.body),f=QT(m)}catch{return r()}let g={formMethod:c,formAction:h,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(bs(g.formMethod))return{path:t,submission:g};let E=hs(t);return e&&E.search&&k0(E.search)&&m.append("index",""),E.search="?"+m,{path:Rs(E),submission:g}}function zD(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function KT(n,e,t,i,r,a,c,h,m,f,g,E,T,S,N,U){let D=U?Object.values(U)[0]:N?Object.values(N)[0]:void 0,q=n.createURL(e.location),B=n.createURL(r),H=U?Object.keys(U)[0]:void 0,re=zD(t,H).filter((C,R)=>{let{route:I}=C;if(I.lazy)return!0;if(I.loader==null)return!1;if(a)return I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if($D(e.loaderData,e.matches[R],C)||h.some(P=>P===C.route.id))return!0;let V=e.matches[R],M=C;return YT(C,Qt({currentUrl:q,currentParams:V.params,nextUrl:B,nextParams:M.params},i,{actionResult:D,defaultShouldRevalidate:c||q.pathname+q.search===B.pathname+B.search||q.search!==B.search||KA(V,M)}))}),F=[];return g.forEach((C,R)=>{if(a||!t.some(L=>L.route.id===C.routeId)||f.has(R))return;let I=La(T,C.path,S);if(!I){F.push({key:R,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(R),M=Vy(I,C.path),P=!1;E.has(R)?P=!1:m.includes(R)?P=!0:V&&V.state!=="idle"&&V.data===void 0?P=c:P=YT(M,Qt({currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:B,nextParams:t[t.length-1].params},i,{actionResult:D,defaultShouldRevalidate:c})),P&&F.push({key:R,routeId:C.routeId,path:C.path,matches:I,match:M,controller:new AbortController})}),[re,F]}function $D(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function KA(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function YT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function JT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];je(r,"No route found in manifest");let a={};for(let c in i){let m=r[c]!==void 0&&c!=="hasErrorBoundary";Ur(!m,'Route "'+r.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!m&&!fD.has(c)&&(a[c]=i[c])}Object.assign(r,a),Object.assign(r,Qt({},e(r),{lazy:void 0}))}async function ju(n,e,t,i,r,a,c,h,m){m===void 0&&(m={});let f,g,E,T=U=>{let D,q=new Promise((B,H)=>D=H);return E=()=>D(),e.signal.addEventListener("abort",E),Promise.race([U({request:e,params:t.params,context:m.requestContext}),q])};try{let U=t.route[n];if(t.route.lazy)if(U){let D,q=await Promise.all([T(U).catch(B=>{D=B}),JT(t.route,a,r)]);if(D)throw D;g=q[0]}else if(await JT(t.route,a,r),U=t.route[n],U)g=await T(U);else if(n==="action"){let D=new URL(e.url),q=D.pathname+D.search;throw os(405,{method:e.method,pathname:q,routeId:t.route.id})}else return{type:cn.data,data:void 0};else if(U)g=await T(U);else{let D=new URL(e.url),q=D.pathname+D.search;throw os(404,{pathname:q})}je(g!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(U){f=cn.error,g=U}finally{E&&e.signal.removeEventListener("abort",E)}if(QD(g)){let U=g.status;if(qD.has(U)){let q=g.headers.get("Location");if(je(q,"Redirects returned/thrown from loaders/actions must have a Location header"),!zA.test(q))q=Ly(new URL(e.url),i.slice(0,i.indexOf(t)+1),c,!0,q,h);else if(!m.isStaticRequest){let B=new URL(e.url),H=q.startsWith("//")?new URL(B.protocol+q):new URL(q),ee=bi(H.pathname,c)!=null;H.origin===B.origin&&ee&&(q=H.pathname+H.search+H.hash)}if(m.isStaticRequest)throw g.headers.set("Location",q),g;return{type:cn.redirect,status:U,location:q,revalidate:g.headers.get("X-Remix-Revalidate")!==null,reloadDocument:g.headers.get("X-Remix-Reload-Document")!==null}}if(m.isRouteRequest)throw{type:f===cn.error?cn.error:cn.data,response:g};let D;try{let q=g.headers.get("Content-Type");q&&/\bapplication\/json\b/.test(q)?g.body==null?D=null:D=await g.json():D=await g.text()}catch(q){return{type:cn.error,error:q}}return f===cn.error?{type:f,error:new R0(U,g.statusText,D),headers:g.headers}:{type:cn.data,data:D,statusCode:g.status,headers:g.headers}}if(f===cn.error)return{type:f,error:g};if(JD(g)){var S,N;return{type:cn.deferred,deferredData:g,statusCode:(S=g.init)==null?void 0:S.status,headers:((N=g.init)==null?void 0:N.headers)&&new Headers(g.init.headers)}}return{type:cn.data,data:g}}function Fu(n,e,t,i){let r=n.createURL(YA(e)).toString(),a={signal:t};if(i&&bs(i.formMethod)){let{formMethod:c,formEncType:h}=i;a.method=c.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=Uy(i.formData):a.body=i.formData}return new Request(r,a)}function Uy(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function QT(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function KD(n,e,t,i,r){let a={},c=null,h,m=!1,f={};return t.forEach((g,E)=>{let T=e[E].route.id;if(je(!Va(g),"Cannot handle redirect results in processLoaderData"),Kl(g)){let S=Zu(n,T),N=g.error;i&&(N=Object.values(i)[0],i=void 0),c=c||{},c[S.route.id]==null&&(c[S.route.id]=N),a[T]=void 0,m||(m=!0,h=D0(g.error)?g.error.status:500),g.headers&&(f[T]=g.headers)}else Ua(g)?(r.set(T,g.deferredData),a[T]=g.deferredData.data):a[T]=g.data,g.statusCode!=null&&g.statusCode!==200&&!m&&(h=g.statusCode),g.headers&&(f[T]=g.headers)}),i&&(c=i,a[Object.keys(i)[0]]=void 0),{loaderData:a,errors:c,statusCode:h||200,loaderHeaders:f}}function WT(n,e,t,i,r,a,c,h){let{loaderData:m,errors:f}=KD(e,t,i,r,h);for(let g=0;g<a.length;g++){let{key:E,match:T,controller:S}=a[g];je(c!==void 0&&c[g]!==void 0,"Did not find corresponding fetcher result");let N=c[g];if(!(S&&S.signal.aborted))if(Kl(N)){let U=Zu(n.matches,T==null?void 0:T.route.id);f&&f[U.route.id]||(f=Qt({},f,{[U.route.id]:N.error})),n.fetchers.delete(E)}else if(Va(N))je(!1,"Unhandled fetcher revalidation redirect");else if(Ua(N))je(!1,"Unhandled fetcher deferred data");else{let U=Do(N.data);n.fetchers.set(E,U)}}return{loaderData:m,errors:f}}function XT(n,e,t,i){let r=Qt({},e);for(let a of t){let c=a.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(r[c]=e[c]):n[c]!==void 0&&a.route.loader&&(r[c]=n[c]),i&&i.hasOwnProperty(c))break}return r}function Zu(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ZT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function os(n,e){let{pathname:t,routeId:i,method:r,type:a}=e===void 0?{}:e,c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&t&&i?h="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h='Route "'+i+'" does not match URL "'+t+'"'):n===404?(c="Not Found",h='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",r&&t&&i?h="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(h='Invalid request method "'+r.toUpperCase()+'"')),new R0(n||500,c,new Error(h),!0)}function ew(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Va(t))return{result:t,idx:e}}}function YA(n){let e=typeof n=="string"?hs(n):n;return Rs(Qt({},e,{hash:""}))}function YD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ua(n){return n.type===cn.deferred}function Kl(n){return n.type===cn.error}function Va(n){return(n&&n.type)===cn.redirect}function JD(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function QD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WD(n){return FD.has(n.toLowerCase())}function bs(n){return OD.has(n.toLowerCase())}async function tw(n,e,t,i,r,a){for(let c=0;c<t.length;c++){let h=t[c],m=e[c];if(!m)continue;let f=n.find(E=>E.route.id===m.route.id),g=f!=null&&!KA(f,m)&&(a&&a[m.route.id])!==void 0;if(Ua(h)&&(r||g)){let E=i[c];je(E,"Expected an AbortSignal for revalidating fetcher deferred result"),await JA(h,E,r).then(T=>{T&&(t[c]=T||t[c])})}}}async function JA(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:cn.data,data:n.deferredData.unwrappedData}}catch(r){return{type:cn.error,error:r}}return{type:cn.data,data:n.deferredData.data}}}function k0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Vy(n,e){let t=typeof e=="string"?hs(e).search:e.search;if(n[n.length-1].route.index&&k0(t||""))return n[n.length-1];let i=qA(n);return i[i.length-1]}function nw(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:a,json:c}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function hy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Do(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function eM(n,e){try{let t=n.sessionStorage.getItem($A);if(t){let i=JSON.parse(t);for(let[r,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(r,new Set(a||[]))}}catch{}}function tM(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem($A,JSON.stringify(t))}catch(i){Ur(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bo.apply(this,arguments)}const gc=O.createContext(null),Sd=O.createContext(null),Uf=O.createContext(null),Bi=O.createContext(null),yc=O.createContext(null),Gi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),QA=O.createContext(null);function WA(n,e){let{relative:t}=e===void 0?{}:e;Zo()||je(!1);let{basename:i,navigator:r}=O.useContext(Bi),{hash:a,pathname:c,search:h}=vc(n,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:tr([i,c])),r.createHref({pathname:m,search:h,hash:a})}function Zo(){return O.useContext(yc)!=null}function ks(){return Zo()||je(!1),O.useContext(yc).location}function nM(){return O.useContext(yc).navigationType}function iM(n){Zo()||je(!1);let{pathname:e}=ks();return O.useMemo(()=>ud(n,e),[e,n])}function XA(n){O.useContext(Bi).static||O.useLayoutEffect(n)}function mm(){let{isDataRoute:n}=O.useContext(Gi);return n?vM():sM()}function sM(){Zo()||je(!1);let n=O.useContext(gc),{basename:e,future:t,navigator:i}=O.useContext(Bi),{matches:r}=O.useContext(Gi),{pathname:a}=ks(),c=JSON.stringify(hm(r,t.v7_relativeSplatPath)),h=O.useRef(!1);return XA(()=>{h.current=!0}),O.useCallback(function(f,g){if(g===void 0&&(g={}),!h.current)return;if(typeof f=="number"){i.go(f);return}let E=fm(f,JSON.parse(c),a,g.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,c,a,n])}const ZA=O.createContext(null);function rM(){return O.useContext(ZA)}function eN(n){let e=O.useContext(Gi).outlet;return e&&O.createElement(ZA.Provider,{value:n},e)}function oM(){let{matches:n}=O.useContext(Gi),e=n[n.length-1];return e?e.params:{}}function vc(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=O.useContext(Bi),{matches:r}=O.useContext(Gi),{pathname:a}=ks(),c=JSON.stringify(hm(r,i.v7_relativeSplatPath));return O.useMemo(()=>fm(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function tN(n,e){return nN(n,e)}function nN(n,e,t,i){Zo()||je(!1);let{navigator:r}=O.useContext(Bi),{matches:a}=O.useContext(Gi),c=a[a.length-1],h=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let f=ks(),g;if(e){var E;let D=typeof e=="string"?hs(e):e;m==="/"||(E=D.pathname)!=null&&E.startsWith(m)||je(!1),g=D}else g=f;let T=g.pathname||"/",S=T;if(m!=="/"){let D=m.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=La(n,{pathname:S}),U=iN(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:tr([m,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:tr([m,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,i);return e&&U?O.createElement(yc.Provider,{value:{location:Bo({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ot.Pop}},U):U}function aM(){let n=lN(),e=D0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:r},t):null,null)}const lM=O.createElement(aM,null);class cM extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Gi.Provider,{value:this.props.routeContext},O.createElement(QA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uM(n){let{routeContext:e,match:t,children:i}=n,r=O.useContext(gc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Gi.Provider,{value:e},i)}function iN(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if((a=t)!=null&&a.errors)n=t.matches;else return null}let c=n,h=(r=t)==null?void 0:r.errors;if(h!=null){let g=c.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id]));g>=0||je(!1),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let E=c[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(f=g),E.route.id){let{loaderData:T,errors:S}=t,N=E.route.loader&&T[E.route.id]===void 0&&(!S||S[E.route.id]===void 0);if(E.route.lazy||N){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,E,T)=>{let S,N=!1,U=null,D=null;t&&(S=h&&E.route.id?h[E.route.id]:void 0,U=E.route.errorElement||lM,m&&(f<0&&T===0?(_M("route-fallback"),N=!0,D=null):f===T&&(N=!0,D=E.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,T+1)),B=()=>{let H;return S?H=U:N?H=D:E.route.Component?H=O.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=g,O.createElement(uM,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:H})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?O.createElement(cM,{location:t.location,revalidation:t.revalidation,component:U,error:S,children:B(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):B()},null)}var sN=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(sN||{}),Si=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Si||{});function P0(n){let e=O.useContext(gc);return e||je(!1),e}function ea(n){let e=O.useContext(Sd);return e||je(!1),e}function dM(n){let e=O.useContext(Gi);return e||je(!1),e}function Ad(n){let e=dM(),t=e.matches[e.matches.length-1];return t.route.id||je(!1),t.route.id}function rN(){return Ad(Si.UseRouteId)}function oN(){return ea(Si.UseNavigation).navigation}function hM(){let n=P0(),e=ea(Si.UseRevalidator);return O.useMemo(()=>({revalidate:n.router.revalidate,state:e.revalidation}),[n.router.revalidate,e.revalidation])}function aN(){let{matches:n,loaderData:e}=ea(Si.UseMatches);return O.useMemo(()=>n.map(t=>VA(t,e)),[n,e])}function fM(){let n=ea(Si.UseLoaderData),e=Ad(Si.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function mM(n){return ea(Si.UseRouteLoaderData).loaderData[n]}function pM(){let n=ea(Si.UseActionData),e=Ad(Si.UseLoaderData);return n.actionData?n.actionData[e]:void 0}function lN(){var n;let e=O.useContext(QA),t=ea(Si.UseRouteError),i=Ad(Si.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function cN(){let n=O.useContext(Uf);return n==null?void 0:n._data}function gM(){let n=O.useContext(Uf);return n==null?void 0:n._error}let yM=0;function uN(n){let{router:e,basename:t}=P0(sN.UseBlocker),i=ea(Si.UseBlocker),[r,a]=O.useState(""),c=O.useCallback(h=>{if(typeof n!="function")return!!n;if(t==="/")return n(h);let{currentLocation:m,nextLocation:f,historyAction:g}=h;return n({currentLocation:Bo({},m,{pathname:bi(m.pathname,t)||m.pathname}),nextLocation:Bo({},f,{pathname:bi(f.pathname,t)||f.pathname}),historyAction:g})},[t,n]);return O.useEffect(()=>{let h=String(++yM);return a(h),()=>e.deleteBlocker(h)},[e]),O.useEffect(()=>{r!==""&&e.getBlocker(r,c)},[e,r,c]),r&&i.blockers.has(r)?i.blockers.get(r):Fl}function vM(){let{router:n}=P0(),e=Ad(Si.UseNavigateStable),t=O.useRef(!1);return XA(()=>{t.current=!0}),O.useCallback(function(r,a){a===void 0&&(a={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Bo({fromRouteId:e},a)))},[n,e])}const iw={};function _M(n,e,t){iw[n]||(iw[n]=!0)}const xM="startTransition",sw=C0[xM];function EM(n){let{basename:e,children:t,initialEntries:i,initialIndex:r,future:a}=n,c=O.useRef();c.current==null&&(c.current=kA({initialEntries:i,initialIndex:r,v5Compat:!0}));let h=c.current,[m,f]=O.useState({action:h.action,location:h.location}),{v7_startTransition:g}=a||{},E=O.useCallback(T=>{g&&sw?sw(()=>f(T)):f(T)},[f,g]);return O.useLayoutEffect(()=>h.listen(E),[h,E]),O.createElement(_c,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h,future:a})}function TM(n){let{to:e,replace:t,state:i,relative:r}=n;Zo()||je(!1);let{future:a,static:c}=O.useContext(Bi),{matches:h}=O.useContext(Gi),{pathname:m}=ks(),f=mm(),g=fm(e,hm(h,a.v7_relativeSplatPath),m,r==="path"),E=JSON.stringify(g);return O.useEffect(()=>f(JSON.parse(E),{replace:t,state:i,relative:r}),[f,E,r,t,i]),null}function wM(n){return eN(n.context)}function dN(n){je(!1)}function _c(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ot.Pop,navigator:a,static:c=!1,future:h}=n;Zo()&&je(!1);let m=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:m,navigator:a,static:c,future:Bo({v7_relativeSplatPath:!1},h)}),[m,h,a,c]);typeof i=="string"&&(i=hs(i));let{pathname:g="/",search:E="",hash:T="",state:S=null,key:N="default"}=i,U=O.useMemo(()=>{let D=bi(g,m);return D==null?null:{location:{pathname:D,search:E,hash:T,state:S,key:N},navigationType:r}},[m,g,E,T,S,N,r]);return U==null?null:O.createElement(Bi.Provider,{value:f},O.createElement(yc.Provider,{children:t,value:U}))}function bM(n){let{children:e,location:t}=n;return tN(dd(e),t)}function SM(n){let{children:e,errorElement:t,resolve:i}=n;return O.createElement(NM,{resolve:i,errorElement:t},O.createElement(IM,null,e))}var rs=(function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n})(rs||{});const AM=new Promise(()=>{});class NM extends O.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:i}=this.props,r=null,a=rs.pending;if(!(i instanceof Promise))a=rs.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>i});else if(this.state.error){a=rs.error;let c=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>c})}else i._tracked?(r=i,a=r._error!==void 0?rs.error:r._data!==void 0?rs.success:rs.pending):(a=rs.pending,Object.defineProperty(i,"_tracked",{get:()=>!0}),r=i.then(c=>Object.defineProperty(i,"_data",{get:()=>c}),c=>Object.defineProperty(i,"_error",{get:()=>c})));if(a===rs.error&&r._error instanceof Lf)throw AM;if(a===rs.error&&!t)throw r._error;if(a===rs.error)return O.createElement(Uf.Provider,{value:r,children:t});if(a===rs.success)return O.createElement(Uf.Provider,{value:r,children:e});throw r}}function IM(n){let{children:e}=n,t=cN(),i=typeof e=="function"?e(t):e;return O.createElement(O.Fragment,null,i)}function dd(n,e){e===void 0&&(e=[]);let t=[];return O.Children.forEach(n,(i,r)=>{if(!O.isValidElement(i))return;let a=[...e,r];if(i.type===O.Fragment){t.push.apply(t,dd(i.props.children,a));return}i.type!==dN&&je(!1),!i.props.index||!i.props.children||je(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dd(i.props.children,a)),t.push(c)}),t}function CM(n){return iN(n)}function L0(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:O.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function RM(n,e){return M0({basename:e==null?void 0:e.basename,future:Bo({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:kA({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:n,mapRouteProperties:L0}).initialize()}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wi.apply(this,arguments)}function U0(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}const Tf="get",fy="application/x-www-form-urlencoded";function pm(n){return n!=null&&typeof n.tagName=="string"}function DM(n){return pm(n)&&n.tagName.toLowerCase()==="button"}function MM(n){return pm(n)&&n.tagName.toLowerCase()==="form"}function kM(n){return pm(n)&&n.tagName.toLowerCase()==="input"}function PM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LM(n,e){return n.button===0&&(!e||e==="_self")&&!PM(n)}function Vf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function UM(n,e){let t=Vf(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}let af=null;function VM(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}const OM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function my(n){return n!=null&&!OM.has(n)?null:n}function jM(n,e){let t,i,r,a,c;if(MM(n)){let h=n.getAttribute("action");i=h?bi(h,e):null,t=n.getAttribute("method")||Tf,r=my(n.getAttribute("enctype"))||fy,a=new FormData(n)}else if(DM(n)||kM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(i=m?bi(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Tf,r=my(n.getAttribute("formenctype"))||my(h.getAttribute("enctype"))||fy,a=new FormData(h,n),!VM()){let{name:f,type:g,value:E}=n;if(g==="image"){let T=f?f+".":"";a.append(T+"x","0"),a.append(T+"y","0")}else f&&a.append(f,E)}}else{if(pm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tf,i=null,r=fy,c=n}return a&&r==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:c}}const FM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qM=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],HM=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],BM="6";try{window.__reactRouterVersion=BM}catch{}function GM(n,e){return M0({basename:e==null?void 0:e.basename,future:wi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:PA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hN(),routes:n,mapRouteProperties:L0,window:e==null?void 0:e.window}).initialize()}function zM(n,e){return M0({basename:e==null?void 0:e.basename,future:wi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:LA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hN(),routes:n,mapRouteProperties:L0,window:e==null?void 0:e.window}).initialize()}function hN(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=wi({},e,{errors:$M(e.errors)})),e}function $M(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new R0(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let c=new a(r.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(r.message);a.stack="",t[i]=a}}else t[i]=r;return t}const V0=O.createContext({isTransitioning:!1}),O0=O.createContext(new Map),KM="startTransition",Go=C0[KM],YM="flushSync",rw=dD[YM],JM="useId",ow=C0[JM];function QM(n){Go?Go(n):n()}function Hu(n){rw?rw(n):n()}let WM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function XM(n){let{fallbackElement:e,router:t,future:i}=n,[r,a]=O.useState(t.state),[c,h]=O.useState(),[m,f]=O.useState({isTransitioning:!1}),[g,E]=O.useState(),[T,S]=O.useState(),[N,U]=O.useState(),D=O.useRef(new Map),{v7_startTransition:q}=i||{},B=O.useCallback(C=>{q?QM(C):C()},[q]),H=O.useCallback((C,R)=>{let{deletedFetchers:I,unstable_flushSync:V,unstable_viewTransitionOpts:M}=R;I.forEach(L=>D.current.delete(L)),C.fetchers.forEach((L,pe)=>{L.data!==void 0&&D.current.set(pe,L.data)});let P=t.window==null||typeof t.window.document.startViewTransition!="function";if(!M||P){V?Hu(()=>a(C)):B(()=>a(C));return}if(V){Hu(()=>{T&&(g&&g.resolve(),T.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let L=t.window.document.startViewTransition(()=>{Hu(()=>a(C))});L.finished.finally(()=>{Hu(()=>{E(void 0),S(void 0),h(void 0),f({isTransitioning:!1})})}),Hu(()=>S(L));return}T?(g&&g.resolve(),T.skipTransition(),U({state:C,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(h(C),f({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[t.window,T,g,D,B]);O.useLayoutEffect(()=>t.subscribe(H),[t,H]),O.useEffect(()=>{m.isTransitioning&&!m.flushSync&&E(new WM)},[m]),O.useEffect(()=>{if(g&&c&&t.window){let C=c,R=g.promise,I=t.window.document.startViewTransition(async()=>{B(()=>a(C)),await R});I.finished.finally(()=>{E(void 0),S(void 0),h(void 0),f({isTransitioning:!1})}),S(I)}},[B,c,g,t.window]),O.useEffect(()=>{g&&c&&r.location.key===c.location.key&&g.resolve()},[g,T,r.location,c]),O.useEffect(()=>{!m.isTransitioning&&N&&(h(N.state),f({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),U(void 0))},[m.isTransitioning,N]),O.useEffect(()=>{},[]);let ee=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,R,I)=>t.navigate(C,{state:R,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(C,R,I)=>t.navigate(C,{replace:!0,state:R,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[t]),re=t.basename||"/",F=O.useMemo(()=>({router:t,navigator:ee,static:!1,basename:re}),[t,ee,re]);return O.createElement(O.Fragment,null,O.createElement(gc.Provider,{value:F},O.createElement(Sd.Provider,{value:r},O.createElement(O0.Provider,{value:D.current},O.createElement(V0.Provider,{value:m},O.createElement(_c,{basename:re,location:r.location,navigationType:r.historyAction,navigator:ee,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?O.createElement(ZM,{routes:t.routes,future:t.future,state:r}):e))))),null)}function ZM(n){let{routes:e,future:t,state:i}=n;return nN(e,void 0,i,t)}function ek(n){let{basename:e,children:t,future:i,window:r}=n,a=O.useRef();a.current==null&&(a.current=PA({window:r,v5Compat:!0}));let c=a.current,[h,m]=O.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=O.useCallback(E=>{f&&Go?Go(()=>m(E)):m(E)},[m,f]);return O.useLayoutEffect(()=>c.listen(g),[c,g]),O.createElement(_c,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:i})}function tk(n){let{basename:e,children:t,future:i,window:r}=n,a=O.useRef();a.current==null&&(a.current=LA({window:r,v5Compat:!0}));let c=a.current,[h,m]=O.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=O.useCallback(E=>{f&&Go?Go(()=>m(E)):m(E)},[m,f]);return O.useLayoutEffect(()=>c.listen(g),[c,g]),O.createElement(_c,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:i})}function nk(n){let{basename:e,children:t,future:i,history:r}=n,[a,c]=O.useState({action:r.action,location:r.location}),{v7_startTransition:h}=i||{},m=O.useCallback(f=>{h&&Go?Go(()=>c(f)):c(f)},[c,h]);return O.useLayoutEffect(()=>r.listen(m),[r,m]),O.createElement(_c,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r,future:i})}const ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fN=O.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:a,replace:c,state:h,target:m,to:f,preventScrollReset:g,unstable_viewTransition:E}=e,T=U0(e,FM),{basename:S}=O.useContext(Bi),N,U=!1;if(typeof f=="string"&&sk.test(f)&&(N=f,ik))try{let H=new URL(window.location.href),ee=f.startsWith("//")?new URL(H.protocol+f):new URL(f),re=bi(ee.pathname,S);ee.origin===H.origin&&re!=null?f=re+ee.search+ee.hash:U=!0}catch{}let D=WA(f,{relative:r}),q=pN(f,{replace:c,state:h,target:m,preventScrollReset:g,relative:r,unstable_viewTransition:E});function B(H){i&&i(H),H.defaultPrevented||q(H)}return O.createElement("a",wi({},T,{href:N||D,onClick:U||a?i:B,ref:t,target:m}))}),rk=O.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:a="",end:c=!1,style:h,to:m,unstable_viewTransition:f,children:g}=e,E=U0(e,qM),T=vc(m,{relative:E.relative}),S=ks(),N=O.useContext(Sd),{navigator:U,basename:D}=O.useContext(Bi),q=N!=null&&_N(T)&&f===!0,B=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,H=S.pathname,ee=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(H=H.toLowerCase(),ee=ee?ee.toLowerCase():null,B=B.toLowerCase()),ee&&D&&(ee=bi(ee,D)||ee);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let F=H===B||!c&&H.startsWith(B)&&H.charAt(re)==="/",C=ee!=null&&(ee===B||!c&&ee.startsWith(B)&&ee.charAt(B.length)==="/"),R={isActive:F,isPending:C,isTransitioning:q},I=F?i:void 0,V;typeof a=="function"?V=a(R):V=[a,F?"active":null,C?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof h=="function"?h(R):h;return O.createElement(fN,wi({},E,{"aria-current":I,className:V,ref:t,style:M,to:m,unstable_viewTransition:f}),typeof g=="function"?g(R):g)}),mN=O.forwardRef((n,e)=>{let{fetcherKey:t,navigate:i,reloadDocument:r,replace:a,state:c,method:h=Tf,action:m,onSubmit:f,relative:g,preventScrollReset:E,unstable_viewTransition:T}=n,S=U0(n,HM),N=F0(),U=yN(m,{relative:g}),D=h.toLowerCase()==="get"?"get":"post",q=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let H=B.nativeEvent.submitter,ee=(H==null?void 0:H.getAttribute("formmethod"))||h;N(H||B.currentTarget,{fetcherKey:t,method:ee,navigate:i,replace:a,state:c,relative:g,preventScrollReset:E,unstable_viewTransition:T})};return O.createElement("form",wi({ref:e,method:D,action:U,onSubmit:r?f:q},S))});function ok(n){let{getKey:e,storageKey:t}=n;return vN({getKey:e,storageKey:t}),null}var sc;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sc||(sc={}));var hd;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(hd||(hd={}));function gm(n){let e=O.useContext(gc);return e||je(!1),e}function j0(n){let e=O.useContext(Sd);return e||je(!1),e}function pN(n,e){let{target:t,replace:i,state:r,preventScrollReset:a,relative:c,unstable_viewTransition:h}=e===void 0?{}:e,m=mm(),f=ks(),g=vc(n,{relative:c});return O.useCallback(E=>{if(LM(E,t)){E.preventDefault();let T=i!==void 0?i:Rs(f)===Rs(g);m(n,{replace:T,state:r,preventScrollReset:a,relative:c,unstable_viewTransition:h})}},[f,m,g,i,r,t,n,a,c,h])}function ak(n){let e=O.useRef(Vf(n)),t=O.useRef(!1),i=ks(),r=O.useMemo(()=>UM(i.search,t.current?null:e.current),[i.search]),a=mm(),c=O.useCallback((h,m)=>{const f=Vf(typeof h=="function"?h(r):h);t.current=!0,a("?"+f,m)},[a,r]);return[r,c]}function lk(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let ck=0,gN=()=>"__"+String(++ck)+"__";function F0(){let{router:n}=gm(sc.UseSubmit),{basename:e}=O.useContext(Bi),t=rN();return O.useCallback(function(i,r){r===void 0&&(r={}),lk();let{action:a,method:c,encType:h,formData:m,body:f}=jM(i,e);if(r.navigate===!1){let g=r.fetcherKey||gN();n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||h,unstable_flushSync:r.unstable_flushSync})}else n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,unstable_flushSync:r.unstable_flushSync,unstable_viewTransition:r.unstable_viewTransition})},[n,e,t])}function yN(n,e){let{relative:t}=e===void 0?{}:e,{basename:i}=O.useContext(Bi),r=O.useContext(Gi);r||je(!1);let[a]=r.matches.slice(-1),c=wi({},vc(n||".",{relative:t})),h=ks();if(n==null){c.search=h.search;let m=new URLSearchParams(c.search);m.has("index")&&m.get("index")===""&&(m.delete("index"),c.search=m.toString()?"?"+m.toString():"")}return(!n||n===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:tr([i,c.pathname])),Rs(c)}function uk(n){var e;let{key:t}=n===void 0?{}:n,{router:i}=gm(sc.UseFetcher),r=j0(hd.UseFetcher),a=O.useContext(O0),c=O.useContext(Gi),h=(e=c.matches[c.matches.length-1])==null?void 0:e.route.id;a||je(!1),c||je(!1),h==null&&je(!1);let m=ow?ow():"",[f,g]=O.useState(t||m);t&&t!==f?g(t):f||g(gN()),O.useEffect(()=>(i.getFetcher(f),()=>{i.deleteFetcher(f)}),[i,f]);let E=O.useCallback((B,H)=>{h||je(!1),i.fetch(f,h,B,H)},[f,h,i]),T=F0(),S=O.useCallback((B,H)=>{T(B,wi({},H,{navigate:!1,fetcherKey:f}))},[f,T]),N=O.useMemo(()=>O.forwardRef((H,ee)=>O.createElement(mN,wi({},H,{navigate:!1,fetcherKey:f,ref:ee}))),[f]),U=r.fetchers.get(f)||GA,D=a.get(f);return O.useMemo(()=>wi({Form:N,submit:S,load:E},U,{data:D}),[N,S,E,U,D])}function dk(){let n=j0(hd.UseFetchers);return Array.from(n.fetchers.entries()).map(e=>{let[t,i]=e;return wi({},i,{key:t})})}const aw="react-router-scroll-positions";let lf={};function vN(n){let{getKey:e,storageKey:t}=n===void 0?{}:n,{router:i}=gm(sc.UseScrollRestoration),{restoreScrollPosition:r,preventScrollReset:a}=j0(hd.UseScrollRestoration),{basename:c}=O.useContext(Bi),h=ks(),m=aN(),f=oN();O.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),fk(O.useCallback(()=>{if(f.state==="idle"){let g=(e?e(h,m):null)||h.key;lf[g]=window.scrollY}try{sessionStorage.setItem(t||aw,JSON.stringify(lf))}catch{}window.history.scrollRestoration="auto"},[t,e,f.state,h,m])),typeof document<"u"&&(O.useLayoutEffect(()=>{try{let g=sessionStorage.getItem(t||aw);g&&(lf=JSON.parse(g))}catch{}},[t]),O.useLayoutEffect(()=>{let g=e&&c!=="/"?(T,S)=>e(wi({},T,{pathname:bi(T.pathname,c)||T.pathname}),S):e,E=i==null?void 0:i.enableScrollRestoration(lf,()=>window.scrollY,g);return()=>E&&E()},[i,c,e]),O.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}if(h.hash){let g=document.getElementById(decodeURIComponent(h.hash.slice(1)));if(g){g.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[h,r,a]))}function hk(n,e){let{capture:t}=e||{};O.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("beforeunload",n,i),()=>{window.removeEventListener("beforeunload",n,i)}},[n,t])}function fk(n,e){let{capture:t}={};O.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",n,i),()=>{window.removeEventListener("pagehide",n,i)}},[n,t])}function mk(n){let{when:e,message:t}=n,i=uN(e);O.useEffect(()=>{i.state==="blocked"&&(window.confirm(t)?setTimeout(i.proceed,0):i.reset())},[i,t]),O.useEffect(()=>{i.state==="blocked"&&!e&&i.reset()},[i,e])}function _N(n,e){e===void 0&&(e={});let t=O.useContext(V0);t==null&&je(!1);let{basename:i}=gm(sc.useViewTransitionState),r=vc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ud(r.pathname,c)!=null||ud(r.pathname,a)!=null}const fs=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:Lf,Await:SM,BrowserRouter:ek,Form:mN,HashRouter:tk,Link:fN,MemoryRouter:EM,NavLink:rk,Navigate:TM,get NavigationType(){return Ot},Outlet:wM,Route:dN,Router:_c,RouterProvider:XM,Routes:bM,ScrollRestoration:ok,UNSAFE_DataRouterContext:gc,UNSAFE_DataRouterStateContext:Sd,UNSAFE_FetchersContext:O0,UNSAFE_LocationContext:yc,UNSAFE_NavigationContext:Bi,UNSAFE_RouteContext:Gi,UNSAFE_ViewTransitionContext:V0,UNSAFE_useRouteId:rN,UNSAFE_useScrollRestoration:vN,createBrowserRouter:GM,createHashRouter:zM,createMemoryRouter:RM,createPath:Rs,createRoutesFromChildren:dd,createRoutesFromElements:dd,createSearchParams:Vf,defer:UD,generatePath:SD,isRouteErrorResponse:D0,json:MD,matchPath:ud,matchRoutes:La,parsePath:hs,redirect:HA,redirectDocument:VD,renderMatches:CM,resolvePath:FA,unstable_HistoryRouter:nk,unstable_usePrompt:mk,unstable_useViewTransitionState:_N,useActionData:pM,useAsyncError:gM,useAsyncValue:cN,useBeforeUnload:hk,useBlocker:uN,useFetcher:uk,useFetchers:dk,useFormAction:yN,useHref:WA,useInRouterContext:Zo,useLinkClickHandler:pN,useLoaderData:fM,useLocation:ks,useMatch:iM,useMatches:aN,useNavigate:mm,useNavigation:oN,useNavigationType:nM,useOutlet:eN,useOutletContext:rM,useParams:oM,useResolvedPath:vc,useRevalidator:hM,useRouteError:lN,useRouteLoaderData:mM,useRoutes:tN,useSearchParams:ak,useSubmit:F0},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),lw=n=>{const e=gk(n);return e.charAt(0).toUpperCase()+e.slice(1)},xN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),yk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:c,...h},m)=>O.createElement("svg",{ref:m,...vk,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:xN("lucide",r),...!a&&!yk(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,g])=>O.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(n,e)=>{const t=O.forwardRef(({className:i,...r},a)=>O.createElement(_k,{ref:a,iconNode:e,className:xN(`lucide-${pk(lw(n))}`,`lucide-${n}`,i),...r}));return t.displayName=lw(n),t};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q0=be("arrow-left",xk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ss=be("award",Ek);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],H0=be("brain",Tk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ya=be("briefcase",wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Sk=be("calendar-check",bk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EN=be("calendar",Ak);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ik=be("check",Nk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TN=be("chevron-down",Ck);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ym=be("chevron-left",Rk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vm=be("chevron-right",Dk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kk=be("chevron-up",Mk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xc=be("circle-alert",Pk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],As=be("circle-check-big",Lk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Oy=be("circle-check",Uk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ok=be("circle-question-mark",Vk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],cw=be("circle-user",jk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],uw=be("clipboard-check",Fk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wN=be("clock",qk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Bk=be("code",Hk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zk=be("copy",Gk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Of=be("download",$k);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],py=be("external-link",Kk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bN=be("eye",Yk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Qk=be("file-check",Jk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Xk=be("file-pen",Wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zo=be("file-text",Zk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tP=be("funnel",eP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],dw=be("gift",nP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_m=be("globe",iP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],SN=be("hash",sP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],oP=be("instagram",rP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jy=be("layout-dashboard",aP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cP=be("lightbulb",lP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Fy=be("link",uP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],B0=be("linkedin",dP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xt=be("loader-circle",hP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xm=be("lock",fP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jf=be("log-in",mP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hw=be("log-out",pP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],AN=be("mail-check",gP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M20 14v4",key:"1hm744"}],["path",{d:"M20 22v.01",key:"12bgn6"}]],vP=be("mail-warning",yP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ta=be("mail",_P);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EP=be("map-pin",xP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wP=be("menu",TP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],G0=be("message-square-quote",bP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],NN=be("message-square",SP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],z0=be("pen-line",AP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],IP=be("pen",NP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nd=be("phone",CP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],DP=be("refresh-cw",RP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],kP=be("rocket",MP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Id=be("save",PP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$0=be("search",LP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],VP=be("share-2",UP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jP=be("shield-check",OP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],IN=be("shield",FP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hi=be("sparkles",qP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],BP=be("star-half",HP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wl=be("star",GP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Em=be("target",zP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],KP=be("trash-2",$P);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],JP=be("trending-up",YP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WP=be("triangle-alert",QP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZP=be("trophy",XP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],t4=be("twitter",e4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CN=be("user-check",n4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K0=be("user-plus",i4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ls=be("user",s4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ec=be("users",r4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],RN=be("video",o4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zs=be("x",a4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],c4=be("zap",l4),u4=()=>{};var fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},d4=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],c=n[t++],h=n[t++],m=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},MN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],c=r+1<n.length,h=c?n[r+1]:0,m=r+2<n.length,f=m?n[r+2]:0,g=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|f>>6,S=f&63;m||(S=64,c||(T=64)),i.push(t[g],t[E],t[T],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):d4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const E=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||f==null||E==null)throw new h4;const T=a<<2|h>>4;if(i.push(T),f!==64){const S=h<<4&240|f>>2;if(i.push(S),E!==64){const N=f<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class h4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f4=function(n){const e=DN(n);return MN.encodeByteArray(e,!0)},Ff=function(n){return f4(n).replace(/\./g,"")},kN=function(n){try{return MN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=()=>m4().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof fw>"u")return;const n=fw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kN(n[1]);return e&&JSON.parse(e)},Tm=()=>{try{return u4()||p4()||g4()||y4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PN=n=>{var e,t;return(t=(e=Tm())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},v4=n=>{const e=PN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},LN=()=>{var n;return(n=Tm())==null?void 0:n.config},UN=n=>{var e;return(e=Tm())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VN(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ff(JSON.stringify(t)),Ff(JSON.stringify(c)),""].join(".")}const ed={};function E4(){const n={prod:[],emulator:[]};for(const e of Object.keys(ed))ed[e]?n.emulator.push(e):n.prod.push(e);return n}function T4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let mw=!1;function ON(n,e){if(typeof window>"u"||typeof document>"u"||!Tc(window.location.host)||ed[n]===e||ed[n]||mw)return;ed[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=E4().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function f(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{mw=!0,c()},T}function g(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=T4(i),S=t("text"),N=document.getElementById(S)||document.createElement("span"),U=t("learnmore"),D=document.getElementById(U)||document.createElement("a"),q=t("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;h(H),g(D,U);const ee=f();m(B,q),H.append(B,N,D,ee),document.body.appendChild(H)}a?(N.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function b4(){var e;const n=(e=Tm())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function N4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I4(){const n=ei();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function C4(){return!b4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R4(){try{return typeof indexedDB=="object"}catch{return!1}}function D4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="FirebaseError";class Br extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=M4,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?k4(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Br(r,h,i)}}function k4(n,e){return n.replace(P4,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const P4=/\{\$([^}]+)}/g;function L4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $o(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],c=e[r];if(pw(a)&&pw(c)){if(!$o(a,c))return!1}else if(a!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function pw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function U4(n,e){const t=new V4(n,e);return t.subscribe.bind(t)}class V4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");O4(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=gy),r.error===void 0&&(r.error=gy),r.complete===void 0&&(r.complete=gy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n){return n&&n._delegate?n._delegate:n}class Ba{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new _4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q4(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:F4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F4(n){return n===ka?void 0:n}function q4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const B4={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},G4=dt.INFO,z4={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},$4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=z4[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y0{constructor(e){this.name=e,this._logLevel=G4,this._logHandler=$4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const K4=(n,e)=>e.some(t=>n instanceof t);let gw,yw;function Y4(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J4(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jN=new WeakMap,qy=new WeakMap,FN=new WeakMap,yy=new WeakMap,J0=new WeakMap;function Q4(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Lo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&jN.set(t,n)}).catch(()=>{}),J0.set(e,n),e}function W4(n){if(qy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});qy.set(n,e)}let Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function X4(n){Hy=n(Hy)}function Z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(vy(this),e,...t);return FN.set(i,e.sort?e.sort():[e]),Lo(i)}:J4().includes(n)?function(...e){return n.apply(vy(this),e),Lo(jN.get(this))}:function(...e){return Lo(n.apply(vy(this),e))}}function eL(n){return typeof n=="function"?Z4(n):(n instanceof IDBTransaction&&W4(n),K4(n,Y4())?new Proxy(n,Hy):n)}function Lo(n){if(n instanceof IDBRequest)return Q4(n);if(yy.has(n))return yy.get(n);const e=eL(n);return e!==n&&(yy.set(n,e),J0.set(e,n)),e}const vy=n=>J0.get(n);function tL(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const c=indexedDB.open(n,e),h=Lo(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Lo(c.result),m.oldVersion,m.newVersion,Lo(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),r&&m.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const nL=["get","getKey","getAll","getAllKeys","count"],iL=["put","add","delete","clear"],_y=new Map;function vw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_y.get(e))return _y.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=iL.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nL.includes(t)))return;const a=async function(c,...h){const m=this.transaction(c,r?"readwrite":"readonly");let f=m.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),r&&m.done]))[0]};return _y.set(e,a),a}X4(n=>({...n,get:(e,t,i)=>vw(e,t)||n.get(e,t,i),has:(e,t)=>!!vw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function rL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const By="@firebase/app",_w="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Y0("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",lL="@firebase/analytics",cL="@firebase/app-check-compat",uL="@firebase/app-check",dL="@firebase/auth",hL="@firebase/auth-compat",fL="@firebase/database",mL="@firebase/data-connect",pL="@firebase/database-compat",gL="@firebase/functions",yL="@firebase/functions-compat",vL="@firebase/installations",_L="@firebase/installations-compat",xL="@firebase/messaging",EL="@firebase/messaging-compat",TL="@firebase/performance",wL="@firebase/performance-compat",bL="@firebase/remote-config",SL="@firebase/remote-config-compat",AL="@firebase/storage",NL="@firebase/storage-compat",IL="@firebase/firestore",CL="@firebase/ai",RL="@firebase/firestore-compat",DL="firebase",ML="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",kL={[By]:"fire-core",[oL]:"fire-core-compat",[lL]:"fire-analytics",[aL]:"fire-analytics-compat",[uL]:"fire-app-check",[cL]:"fire-app-check-compat",[dL]:"fire-auth",[hL]:"fire-auth-compat",[fL]:"fire-rtdb",[mL]:"fire-data-connect",[pL]:"fire-rtdb-compat",[gL]:"fire-fn",[yL]:"fire-fn-compat",[vL]:"fire-iid",[_L]:"fire-iid-compat",[xL]:"fire-fcm",[EL]:"fire-fcm-compat",[TL]:"fire-perf",[wL]:"fire-perf-compat",[bL]:"fire-rc",[SL]:"fire-rc-compat",[AL]:"fire-gcs",[NL]:"fire-gcs-compat",[IL]:"fire-fst",[RL]:"fire-fst-compat",[CL]:"fire-vertex","fire-js":"fire-js",[DL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Map,zy=new Map,$y=new Map;function xw(n,e){try{n.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rc(n){const e=n.name;if($y.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,n);for(const t of Ga.values())xw(t,n);for(const t of zy.values())xw(t,n);return!0}function Q0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new Cd("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=ML;function W0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Gy,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Uo.create("bad-app-name",{appName:String(r)});if(t||(t=LN()),!t)throw Uo.create("no-options");const a=Ga.get(r);if(a){if($o(t,a.options)&&$o(i,a.config))return a;throw Uo.create("duplicate-app",{appName:r})}const c=new H4(r);for(const m of $y.values())c.addComponent(m);const h=new LL(t,i,c);return Ga.set(r,h),h}function X0(n=Gy){const e=Ga.get(n);if(!e&&n===Gy&&LN())return W0();if(!e)throw Uo.create("no-app",{appName:n});return e}function UL(){return Array.from(Ga.values())}async function VL(n){let e=!1;const t=n.name;Ga.has(t)?(e=!0,Ga.delete(t)):zy.has(t)&&n.decRefCount()<=0&&(zy.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function Vo(n,e,t){let i=kL[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(c.join(" "));return}rc(new Ba(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebase-heartbeat-database",jL=1,fd="firebase-heartbeat-store";let xy=null;function qN(){return xy||(xy=tL(OL,jL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Uo.create("idb-open",{originalErrorMessage:n.message})})),xy}async function FL(n){try{const t=(await qN()).transaction(fd),i=await t.objectStore(fd).get(HN(n));return await t.done,i}catch(e){if(e instanceof Br)Vr.warn(e.message);else{const t=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(t.message)}}}async function Ew(n,e){try{const i=(await qN()).transaction(fd,"readwrite");await i.objectStore(fd).put(e,HN(n)),await i.done}catch(t){if(t instanceof Br)Vr.warn(t.message);else{const i=Uo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(i.message)}}}function HN(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1024,HL=30;class BL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Tw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>HL){const c=$L(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Vr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tw(),{heartbeatsToSend:i,unsentEntries:r}=GL(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vr.warn(t),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function GL(n,e=qL){const t=[];let i=n.slice();for(const r of n){const a=t.find(c=>c.agent===r.agent);if(a){if(a.dates.push(r.date),ww(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),ww(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R4()?D4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ww(n){return Ff(JSON.stringify({version:2,heartbeats:n})).length}function $L(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n){rc(new Ba("platform-logger",e=>new sL(e),"PRIVATE")),rc(new Ba("heartbeat",e=>new BL(e),"PRIVATE")),Vo(By,_w,n),Vo(By,_w,"esm2020"),Vo("fire-js","")}KL("");var YL="firebase",JL="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(YL,JL,"app");var bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oo,BN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,M,P){for(var L=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)L[pe-2]=arguments[pe];return R.prototype[M].apply(V,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)V[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],M=C.g[2];let P=C.g[3],L;L=R+(P^I&(M^P))+V[0]+3614090360&4294967295,R=I+(L<<7&4294967295|L>>>25),L=P+(M^R&(I^M))+V[1]+3905402710&4294967295,P=R+(L<<12&4294967295|L>>>20),L=M+(I^P&(R^I))+V[2]+606105819&4294967295,M=P+(L<<17&4294967295|L>>>15),L=I+(R^M&(P^R))+V[3]+3250441966&4294967295,I=M+(L<<22&4294967295|L>>>10),L=R+(P^I&(M^P))+V[4]+4118548399&4294967295,R=I+(L<<7&4294967295|L>>>25),L=P+(M^R&(I^M))+V[5]+1200080426&4294967295,P=R+(L<<12&4294967295|L>>>20),L=M+(I^P&(R^I))+V[6]+2821735955&4294967295,M=P+(L<<17&4294967295|L>>>15),L=I+(R^M&(P^R))+V[7]+4249261313&4294967295,I=M+(L<<22&4294967295|L>>>10),L=R+(P^I&(M^P))+V[8]+1770035416&4294967295,R=I+(L<<7&4294967295|L>>>25),L=P+(M^R&(I^M))+V[9]+2336552879&4294967295,P=R+(L<<12&4294967295|L>>>20),L=M+(I^P&(R^I))+V[10]+4294925233&4294967295,M=P+(L<<17&4294967295|L>>>15),L=I+(R^M&(P^R))+V[11]+2304563134&4294967295,I=M+(L<<22&4294967295|L>>>10),L=R+(P^I&(M^P))+V[12]+1804603682&4294967295,R=I+(L<<7&4294967295|L>>>25),L=P+(M^R&(I^M))+V[13]+4254626195&4294967295,P=R+(L<<12&4294967295|L>>>20),L=M+(I^P&(R^I))+V[14]+2792965006&4294967295,M=P+(L<<17&4294967295|L>>>15),L=I+(R^M&(P^R))+V[15]+1236535329&4294967295,I=M+(L<<22&4294967295|L>>>10),L=R+(M^P&(I^M))+V[1]+4129170786&4294967295,R=I+(L<<5&4294967295|L>>>27),L=P+(I^M&(R^I))+V[6]+3225465664&4294967295,P=R+(L<<9&4294967295|L>>>23),L=M+(R^I&(P^R))+V[11]+643717713&4294967295,M=P+(L<<14&4294967295|L>>>18),L=I+(P^R&(M^P))+V[0]+3921069994&4294967295,I=M+(L<<20&4294967295|L>>>12),L=R+(M^P&(I^M))+V[5]+3593408605&4294967295,R=I+(L<<5&4294967295|L>>>27),L=P+(I^M&(R^I))+V[10]+38016083&4294967295,P=R+(L<<9&4294967295|L>>>23),L=M+(R^I&(P^R))+V[15]+3634488961&4294967295,M=P+(L<<14&4294967295|L>>>18),L=I+(P^R&(M^P))+V[4]+3889429448&4294967295,I=M+(L<<20&4294967295|L>>>12),L=R+(M^P&(I^M))+V[9]+568446438&4294967295,R=I+(L<<5&4294967295|L>>>27),L=P+(I^M&(R^I))+V[14]+3275163606&4294967295,P=R+(L<<9&4294967295|L>>>23),L=M+(R^I&(P^R))+V[3]+4107603335&4294967295,M=P+(L<<14&4294967295|L>>>18),L=I+(P^R&(M^P))+V[8]+1163531501&4294967295,I=M+(L<<20&4294967295|L>>>12),L=R+(M^P&(I^M))+V[13]+2850285829&4294967295,R=I+(L<<5&4294967295|L>>>27),L=P+(I^M&(R^I))+V[2]+4243563512&4294967295,P=R+(L<<9&4294967295|L>>>23),L=M+(R^I&(P^R))+V[7]+1735328473&4294967295,M=P+(L<<14&4294967295|L>>>18),L=I+(P^R&(M^P))+V[12]+2368359562&4294967295,I=M+(L<<20&4294967295|L>>>12),L=R+(I^M^P)+V[5]+4294588738&4294967295,R=I+(L<<4&4294967295|L>>>28),L=P+(R^I^M)+V[8]+2272392833&4294967295,P=R+(L<<11&4294967295|L>>>21),L=M+(P^R^I)+V[11]+1839030562&4294967295,M=P+(L<<16&4294967295|L>>>16),L=I+(M^P^R)+V[14]+4259657740&4294967295,I=M+(L<<23&4294967295|L>>>9),L=R+(I^M^P)+V[1]+2763975236&4294967295,R=I+(L<<4&4294967295|L>>>28),L=P+(R^I^M)+V[4]+1272893353&4294967295,P=R+(L<<11&4294967295|L>>>21),L=M+(P^R^I)+V[7]+4139469664&4294967295,M=P+(L<<16&4294967295|L>>>16),L=I+(M^P^R)+V[10]+3200236656&4294967295,I=M+(L<<23&4294967295|L>>>9),L=R+(I^M^P)+V[13]+681279174&4294967295,R=I+(L<<4&4294967295|L>>>28),L=P+(R^I^M)+V[0]+3936430074&4294967295,P=R+(L<<11&4294967295|L>>>21),L=M+(P^R^I)+V[3]+3572445317&4294967295,M=P+(L<<16&4294967295|L>>>16),L=I+(M^P^R)+V[6]+76029189&4294967295,I=M+(L<<23&4294967295|L>>>9),L=R+(I^M^P)+V[9]+3654602809&4294967295,R=I+(L<<4&4294967295|L>>>28),L=P+(R^I^M)+V[12]+3873151461&4294967295,P=R+(L<<11&4294967295|L>>>21),L=M+(P^R^I)+V[15]+530742520&4294967295,M=P+(L<<16&4294967295|L>>>16),L=I+(M^P^R)+V[2]+3299628645&4294967295,I=M+(L<<23&4294967295|L>>>9),L=R+(M^(I|~P))+V[0]+4096336452&4294967295,R=I+(L<<6&4294967295|L>>>26),L=P+(I^(R|~M))+V[7]+1126891415&4294967295,P=R+(L<<10&4294967295|L>>>22),L=M+(R^(P|~I))+V[14]+2878612391&4294967295,M=P+(L<<15&4294967295|L>>>17),L=I+(P^(M|~R))+V[5]+4237533241&4294967295,I=M+(L<<21&4294967295|L>>>11),L=R+(M^(I|~P))+V[12]+1700485571&4294967295,R=I+(L<<6&4294967295|L>>>26),L=P+(I^(R|~M))+V[3]+2399980690&4294967295,P=R+(L<<10&4294967295|L>>>22),L=M+(R^(P|~I))+V[10]+4293915773&4294967295,M=P+(L<<15&4294967295|L>>>17),L=I+(P^(M|~R))+V[1]+2240044497&4294967295,I=M+(L<<21&4294967295|L>>>11),L=R+(M^(I|~P))+V[8]+1873313359&4294967295,R=I+(L<<6&4294967295|L>>>26),L=P+(I^(R|~M))+V[15]+4264355552&4294967295,P=R+(L<<10&4294967295|L>>>22),L=M+(R^(P|~I))+V[6]+2734768916&4294967295,M=P+(L<<15&4294967295|L>>>17),L=I+(P^(M|~R))+V[13]+1309151649&4294967295,I=M+(L<<21&4294967295|L>>>11),L=R+(M^(I|~P))+V[4]+4149444226&4294967295,R=I+(L<<6&4294967295|L>>>26),L=P+(I^(R|~M))+V[11]+3174756917&4294967295,P=R+(L<<10&4294967295|L>>>22),L=M+(R^(P|~I))+V[2]+718787259&4294967295,M=P+(L<<15&4294967295|L>>>17),L=I+(P^(M|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+P&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,V=this.C;let M=this.h,P=0;for(;P<R;){if(M==0)for(;P<=I;)r(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<R;)if(V[M++]=C.charCodeAt(P++),M==this.blockSize){r(this,V),M=0;break}}else for(;P<R;)if(V[M++]=C[P++],M==this.blockSize){r(this,V),M=0;break}}this.h=M,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[R++]=this.g[I]>>>V&255;return C};function a(C,R){var I=h;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function c(C,R){this.h=R;const I=[];let V=!0;for(let M=C.length-1;M>=0;M--){const P=C[M]|0;V&&P==R||(I[M]=P,V=!1)}this.g=I}var h={};function m(C){return-128<=C&&C<128?a(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return D(f(-C));const R=[];let I=1;for(let V=0;C>=I;V++)R[V]=C/I|0,I*=4294967296;return new c(R,0)}function g(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return D(g(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(R,8));let V=E;for(let P=0;P<C.length;P+=8){var M=Math.min(8,C.length-P);const L=parseInt(C.substring(P,P+M),R);M<8?(M=f(Math.pow(R,M)),V=V.j(M).add(f(L))):(V=V.j(I),V=V.add(f(L)))}return V}var E=m(0),T=m(1),S=m(16777216);n=c.prototype,n.m=function(){if(U(this))return-D(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(U(this))return"-"+D(this).toString(C);const R=f(Math.pow(C,6));var I=this;let V="";for(;;){const M=ee(I,R).g;I=q(I,M.j(R));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,N(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function U(C){return C.h==-1}n.l=function(C){return C=q(this,C),U(C)?-1:N(C)?0:1};function D(C){const R=C.g.length,I=[];for(let V=0;V<R;V++)I[V]=~C.g[V];return new c(I,~C.h).add(T)}n.abs=function(){return U(this)?D(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let M=0;M<=R;M++){let P=V+(this.i(M)&65535)+(C.i(M)&65535),L=(P>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=L>>>16,P&=65535,L&=65535,I[M]=L<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function q(C,R){return C.add(D(R))}n.j=function(C){if(N(this)||N(C))return E;if(U(this))return U(C)?D(this).j(D(C)):D(D(this).j(C));if(U(C))return D(this.j(D(C)));if(this.l(S)<0&&C.l(S)<0)return f(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const P=this.i(V)>>>16,L=this.i(V)&65535,pe=C.i(M)>>>16,Ie=C.i(M)&65535;I[2*V+2*M]+=L*Ie,B(I,2*V+2*M),I[2*V+2*M+1]+=P*Ie,B(I,2*V+2*M+1),I[2*V+2*M+1]+=L*pe,B(I,2*V+2*M+1),I[2*V+2*M+2]+=P*pe,B(I,2*V+2*M+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new c(I,0)};function B(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function H(C,R){this.g=C,this.h=R}function ee(C,R){if(N(R))throw Error("division by zero");if(N(C))return new H(E,E);if(U(C))return R=ee(D(C),R),new H(D(R.g),D(R.h));if(U(R))return R=ee(C,D(R)),new H(D(R.g),R.h);if(C.g.length>30){if(U(C)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=R;V.l(C)<=0;)I=re(I),V=re(V);var M=F(I,1),P=F(V,1);for(V=F(V,2),I=F(I,2);!N(V);){var L=P.add(V);L.l(C)<=0&&(M=M.add(I),P=L),V=F(V,1),I=F(I,1)}return R=q(C,M.j(R)),new H(M,R)}for(M=E;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=f(I),L=P.j(R);U(L)||L.l(C)>0;)I-=V,P=f(I),L=P.j(R);N(P)&&(P=T),M=M.add(P),C=q(C,L)}return new H(M,C)}n.B=function(C){return ee(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&C.i(V);return new c(I,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|C.i(V);return new c(I,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^C.i(V);return new c(I,this.h^C.h)};function re(C){const R=C.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(I,C.h)}function F(C,R){const I=R>>5;R%=32;const V=C.g.length-I,M=[];for(let P=0;P<V;P++)M[P]=R>0?C.i(P+I)>>>R|C.i(P+I+1)<<32-R:C.i(P+I);return new c(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,BN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Oo=c}).apply(typeof bw<"u"?bw:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GN,Yu,zN,wf,Ky,$N,KN,YN;(function(){var n,e=Object.defineProperty;function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var w=0;w<v.length;++w){var A=v[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function r(v,w){if(w)e:{var A=i;v=v.split(".");for(var j=0;j<v.length-1;j++){var Q=v[j];if(!(Q in A))break e;A=A[Q]}v=v[v.length-1],j=A[v],w=w(j),w!=j&&w!=null&&e(A,v,{configurable:!0,writable:!0,value:w})}}r("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(v){return v||function(w){var A=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&A.push([j,w[j]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(v){var w=typeof v;return w=="object"&&v!=null||w=="function"}function m(v,w,A){return v.call.apply(v.bind,arguments)}function f(v,w,A){return f=m,f.apply(null,arguments)}function g(v,w){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),v.apply(this,j)}}function E(v,w){function A(){}A.prototype=w.prototype,v.Z=w.prototype,v.prototype=new A,v.prototype.constructor=v,v.Ob=function(j,Q,ne){for(var xe=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)xe[Ze-2]=arguments[Ze];return w.prototype[Q].apply(j,xe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function S(v){const w=v.length;if(w>0){const A=Array(w);for(let j=0;j<w;j++)A[j]=v[j];return A}return[]}function N(v,w){for(let j=1;j<arguments.length;j++){const Q=arguments[j];var A=typeof Q;if(A=A!="object"?A:Q?Array.isArray(Q)?"array":A:"null",A=="array"||A=="object"&&typeof Q.length=="number"){A=v.length||0;const ne=Q.length||0;v.length=A+ne;for(let xe=0;xe<ne;xe++)v[A+xe]=Q[xe]}else v.push(Q)}}class U{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(v){c.setTimeout(()=>{throw v},0)}function q(){var v=C;let w=null;return v.g&&(w=v.g,v.g=v.g.next,v.g||(v.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,A){const j=H.get();j.set(w,A),this.h?this.h.next=j:this.g=j,this.h=j}}var H=new U(()=>new ee,v=>v.reset());class ee{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let re,F=!1,C=new B,R=()=>{const v=Promise.resolve(void 0);re=()=>{v.then(I)}};function I(){for(var v;v=q();){try{v.h.call(v.g)}catch(A){D(A)}var w=H;w.j(v),w.h<100&&(w.h++,v.next=w.g,w.g=v)}F=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(v,w){this.type=v,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,w=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const A=()=>{};c.addEventListener("test",A,w),c.removeEventListener("test",A,w)}catch{}return v})();function L(v){return/^[\s\xa0]*$/.test(v)}function pe(v,w){M.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,w)}E(pe,M),pe.prototype.init=function(v,w){const A=this.type=v.type,j=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=w,w=v.relatedTarget,w||(A=="mouseover"?w=v.fromElement:A=="mouseout"&&(w=v.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ce(v,w,A,j,Q){this.listener=v,this.proxy=null,this.src=w,this.type=A,this.capture=!!j,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function ye(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function se(v,w,A){for(const j in v)w.call(A,v[j],j,v)}function De(v,w){for(const A in v)w.call(void 0,v[A],A,v)}function z(v){const w={};for(const A in v)w[A]=v[A];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(v,w){let A,j;for(let Q=1;Q<arguments.length;Q++){j=arguments[Q];for(A in j)v[A]=j[A];for(let ne=0;ne<ae.length;ne++)A=ae[ne],Object.prototype.hasOwnProperty.call(j,A)&&(v[A]=j[A])}}function Ee(v){this.src=v,this.g={},this.h=0}Ee.prototype.add=function(v,w,A,j,Q){const ne=v.toString();v=this.g[ne],v||(v=this.g[ne]=[],this.h++);const xe=qe(v,w,j,Q);return xe>-1?(w=v[xe],A||(w.fa=!1)):(w=new ce(w,this.src,ne,!!j,Q),w.fa=A,v.push(w)),w};function ke(v,w){const A=w.type;if(A in v.g){var j=v.g[A],Q=Array.prototype.indexOf.call(j,w,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(j,Q,1),ne&&(ye(w),v.g[A].length==0&&(delete v.g[A],v.h--))}}function qe(v,w,A,j){for(let Q=0;Q<v.length;++Q){const ne=v[Q];if(!ne.da&&ne.listener==w&&ne.capture==!!A&&ne.ha==j)return Q}return-1}var tt="closure_lm_"+(Math.random()*1e6|0),Wt={};function We(v,w,A,j,Q){if(Array.isArray(w)){for(let ne=0;ne<w.length;ne++)We(v,w[ne],A,j,Q);return null}return A=dr(A),v&&v[Ie]?v.J(w,A,h(j)?!!j.capture:!1,Q):ms(v,w,A,!1,j,Q)}function ms(v,w,A,j,Q,ne){if(!w)throw Error("Invalid event type");const xe=h(Q)?!!Q.capture:!!Q;let Ze=hi(v);if(Ze||(v[tt]=Ze=new Ee(v)),A=Ze.add(w,A,j,xe,ne),A.proxy)return A;if(j=nn(),A.proxy=j,j.src=v,j.listener=A,v.addEventListener)P||(Q=xe),Q===void 0&&(Q=!1),v.addEventListener(w.toString(),j,Q);else if(v.attachEvent)v.attachEvent(zn(w.toString()),j);else if(v.addListener&&v.removeListener)v.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function nn(){function v(A){return w.call(v.src,v.listener,A)}const w=$n;return v}function di(v,w,A,j,Q){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)di(v,w[ne],A,j,Q);else j=h(j)?!!j.capture:!!j,A=dr(A),v&&v[Ie]?(v=v.i,ne=String(w).toString(),ne in v.g&&(w=v.g[ne],A=qe(w,A,j,Q),A>-1&&(ye(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete v.g[ne],v.h--)))):v&&(v=hi(v))&&(w=v.g[w.toString()],v=-1,w&&(v=qe(w,A,j,Q)),(A=v>-1?w[v]:null)&&zi(A))}function zi(v){if(typeof v!="number"&&v&&!v.da){var w=v.src;if(w&&w[Ie])ke(w.i,v);else{var A=v.type,j=v.proxy;w.removeEventListener?w.removeEventListener(A,j,v.capture):w.detachEvent?w.detachEvent(zn(A),j):w.addListener&&w.removeListener&&w.removeListener(j),(A=hi(w))?(ke(A,v),A.h==0&&(A.src=null,w[tt]=null)):ye(v)}}}function zn(v){return v in Wt?Wt[v]:Wt[v]="on"+v}function $n(v,w){if(v.da)v=!0;else{w=new pe(w,this);const A=v.listener,j=v.ha||v.src;v.fa&&zi(v),v=A.call(j,w)}return v}function hi(v){return v=v[tt],v instanceof Ee?v:null}var Ls="__closure_events_fn_"+(Math.random()*1e9>>>0);function dr(v){return typeof v=="function"?v:(v[Ls]||(v[Ls]=function(w){return v.handleEvent(w)}),v[Ls])}function Lt(){V.call(this),this.i=new Ee(this),this.M=this,this.G=null}E(Lt,V),Lt.prototype[Ie]=!0,Lt.prototype.removeEventListener=function(v,w,A,j){di(this,v,w,A,j)};function Ut(v,w){var A,j=v.G;if(j)for(A=[];j;j=j.G)A.push(j);if(v=v.M,j=w.type||w,typeof w=="string")w=new M(w,v);else if(w instanceof M)w.target=w.target||v;else{var Q=w;w=new M(j,v),ve(w,Q)}Q=!0;let ne,xe;if(A)for(xe=A.length-1;xe>=0;xe--)ne=w.g=A[xe],Q=Ln(ne,j,!0,w)&&Q;if(ne=w.g=v,Q=Ln(ne,j,!0,w)&&Q,Q=Ln(ne,j,!1,w)&&Q,A)for(xe=0;xe<A.length;xe++)ne=w.g=A[xe],Q=Ln(ne,j,!1,w)&&Q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var v=this.i;for(const w in v.g){const A=v.g[w];for(let j=0;j<A.length;j++)ye(A[j]);delete v.g[w],v.h--}}this.G=null},Lt.prototype.J=function(v,w,A,j){return this.i.add(String(v),w,!1,A,j)},Lt.prototype.K=function(v,w,A,j){return this.i.add(String(v),w,!0,A,j)};function Ln(v,w,A,j){if(w=v.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let ne=0;ne<w.length;++ne){const xe=w[ne];if(xe&&!xe.da&&xe.capture==A){const Ze=xe.listener,hn=xe.ha||xe.src;xe.fa&&ke(v.i,xe),Q=Ze.call(hn,j)!==!1&&Q}}return Q&&!j.defaultPrevented}function Yr(v,w){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=f(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(v,w||0)}function me(v){v.g=Yr(()=>{v.g=null,v.i&&(v.i=!1,me(v))},v.l);const w=v.h;v.h=null,v.m.apply(null,w)}class Me extends V{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(v){V.call(this),this.h=v,this.g={}}E(at,V);var Kn=[];function Yn(v){se(v.g,function(w,A){this.g.hasOwnProperty(A)&&zi(w)},v),v.g={}}at.prototype.N=function(){at.Z.N.call(this),Yn(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=c.JSON.stringify,ti=c.JSON.parse,$i=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Ii(){}function Us(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){M.call(this,"d")}E(Xt,M);function gn(){M.call(this,"c")}E(gn,M);var Vt={},Jr=null;function Qr(){return Jr=Jr||new Lt}Vt.Ia="serverreachability";function aa(v){M.call(this,Vt.Ia,v)}E(aa,M);function Ki(v){const w=Qr();Ut(w,new aa(w))}Vt.STAT_EVENT="statevent";function Vs(v,w){M.call(this,Vt.STAT_EVENT,v),this.stat=w}E(Vs,M);function sn(v){const w=Qr();Ut(w,new Vs(w,v))}Vt.Ja="timingevent";function K(v,w){M.call(this,Vt.Ja,v),this.size=w}E(K,M);function Z(v,w){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},w)}function oe(){this.g=!0}oe.prototype.ua=function(){this.g=!1};function _e(v,w,A,j,Q,ne){v.info(function(){if(v.g)if(ne){var xe="",Ze=ne.split("&");for(let Tt=0;Tt<Ze.length;Tt++){var hn=Ze[Tt].split("=");if(hn.length>1){const Yt=hn[0];hn=hn[1];const Qi=Yt.split("_");xe=Qi.length>=2&&Qi[1]=="type"?xe+(Yt+"="+hn+"&"):xe+(Yt+"=redacted&")}}}else xe=null;else xe=ne;return"XMLHTTP REQ ("+j+") [attempt "+Q+"]: "+w+`
`+A+`
`+xe})}function Ae(v,w,A,j,Q,ne,xe){v.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Q+"]: "+w+`
`+A+`
`+ne+" "+xe})}function Be(v,w,A,j){v.info(function(){return"XMLHTTP TEXT ("+w+"): "+Oe(v,A)+(j?" "+j:"")})}function Ue(v,w){v.info(function(){return"TIMEOUT: "+w})}oe.prototype.info=function(){};function Oe(v,w){if(!v.g)return w;if(!w)return null;try{const ne=JSON.parse(w);if(ne){for(v=0;v<ne.length;v++)if(Array.isArray(ne[v])){var A=ne[v];if(!(A.length<2)){var j=A[1];if(Array.isArray(j)&&!(j.length<1)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let xe=1;xe<j.length;xe++)j[xe]=""}}}}return fi(ne)}catch{return w}}var Ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kt;function ze(){}E(ze,Ii),ze.prototype.g=function(){return new XMLHttpRequest},Kt=new ze;function lt(v){return encodeURIComponent(String(v))}function rn(v){var w=1;v=v.split(":");const A=[];for(;w>0&&v.length;)A.push(v.shift()),w--;return v.length&&A.push(v.join(":")),A}function jt(v,w,A,j){this.j=v,this.i=w,this.l=A,this.S=j||1,this.V=new at(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var kt={},on={};function Un(v,w,A){v.M=1,v.A=ca(yn(w)),v.u=A,v.R=!0,ni(v,null)}function ni(v,w){v.F=Date.now(),mi(v),v.B=yn(v.A);var A=v.B,j=v.S;Array.isArray(j)||(j=[String(j)]),nl(A.i,"t",j),v.C=0,A=v.j.L,v.h=new bt,v.g=Zd(v.j,A?w:null,!v.u),v.P>0&&(v.O=new Me(f(v.Y,v,v.g),v.P)),w=v.V,A=v.g,j=v.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Kn[0]=Q.toString()),Q=Kn);for(let ne=0;ne<Q.length;ne++){const xe=We(A,Q[ne],j||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=v.J?z(v.J):{},v.u?(v.v||(v.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,w)):(v.v="GET",v.g.ea(v.B,v.v,null,w)),Ki(),_e(v.i,v.v,v.B,v.l,v.S,v.u)}jt.prototype.ba=function(v){v=v.target;const w=this.O;w&&vs(v)==3?w.j():this.Y(v)},jt.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=vs(this.g),hn=this.g.ya(),Tt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Vn(this.g)))){this.K||Ze!=4||hn==7||(hn==8||Tt<=0?Ki(3):Ki(2)),ii(this);var w=this.g.ca();this.X=w;var A=ps(this);if(this.o=w==200,Ae(this.i,this.v,this.B,this.l,this.S,Ze,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Q=this.g;if((j=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(j)){var ne=j;break t}}ne=null}if(v=ne)Be(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ft(this,v);else{this.o=!1,this.m=3,sn(12),Xe(this),Je(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<A.length;)if(Yt=Os(this,A),Yt==on){Ze==4&&(this.m=4,sn(14),v=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==kt){this.m=4,sn(15),Be(this.i,this.l,A,"[Invalid Chunk]"),v=!1;break}else Be(this.i,this.l,Yt,null),Ft(this,Yt);if(Wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||A.length!=0||this.h.h||(this.m=1,sn(16),v=!1),this.o=this.o&&v,!v)Be(this.i,this.l,A,"[Invalid Chunked Response]"),Xe(this),Je(this);else if(A.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),eu(xe),xe.P=!0,sn(11))}}else Be(this.i,this.l,A,null),Ft(this,A);Ze==4&&Xe(this),this.o&&!this.K&&(Ze==4?Jd(this.j,this):(this.o=!1,mi(this)))}else fr(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Xe(this),Je(this)}}}catch{}finally{}};function ps(v){if(!Wr(v))return v.g.la();const w=Vn(v.g);if(w==="")return"";let A="";const j=w.length,Q=vs(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Xe(v),Je(v),"";v.h.i=new c.TextDecoder}for(let ne=0;ne<j;ne++)v.h.h=!0,A+=v.h.i.decode(w[ne],{stream:!(Q&&ne==j-1)});return w.length=0,v.h.g+=A,v.C=0,v.h.g}function Wr(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Os(v,w){var A=v.C,j=w.indexOf(`
`,A);return j==-1?on:(A=Number(w.substring(A,j)),isNaN(A)?kt:(j+=1,j+A>w.length?on:(w=w.slice(j,j+A),v.C=j+A,w)))}jt.prototype.cancel=function(){this.K=!0,Xe(this)};function mi(v){v.T=Date.now()+v.H,Ci(v,v.H)}function Ci(v,w){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Z(f(v.aa,v),w)}function ii(v){v.D&&(c.clearTimeout(v.D),v.D=null)}jt.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ue(this.i,this.B),this.M!=2&&(Ki(),sn(17)),Xe(this),this.m=2,Je(this)):Ci(this,this.T-v)};function Je(v){v.j.I==0||v.K||Jd(v.j,v)}function Xe(v){ii(v);var w=v.O;w&&typeof w.dispose=="function"&&w.dispose(),v.O=null,Yn(v.V),v.g&&(w=v.g,v.g=null,w.abort(),w.dispose())}function Ft(v,w){try{var A=v.j;if(A.I!=0&&(A.g==v||Fs(A.h,v))){if(!v.L&&Fs(A.h,v)&&A.I==3){try{var j=A.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Q=j;if(Q[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<v.F)al(A),ro(A);else break e;ga(A),sn(18)}}else A.xa=Q[1],0<A.xa-A.K&&Q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Z(f(A.Va,A),6e3));js(A.h)<=1&&A.ta&&(A.ta=void 0)}else $s(A,11)}else if((v.L||A.g==v)&&al(A),!L(w))for(Q=A.Ba.g.parse(w),w=0;w<Q.length;w++){let Tt=Q[w];const Yt=Tt[0];if(!(Yt<=A.K))if(A.K=Yt,Tt=Tt[1],A.I==2)if(Tt[0]=="c"){A.M=Tt[1],A.ba=Tt[2];const Qi=Tt[3];Qi!=null&&(A.ka=Qi,A.j.info("VER="+A.ka));const Ks=Tt[4];Ks!=null&&(A.za=Ks,A.j.info("SVER="+A.za));const _s=Tt[5];_s!=null&&typeof _s=="number"&&_s>0&&(j=1.5*_s,A.O=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const xs=v.g;if(xs){const ya=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var ne=j.h;ne.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Hc(ne,ne.h),ne.h=null))}if(j.G){const ll=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(j.wa=ll,St(j.J,j.G,ll))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-v.F,A.j.info("Handshake RTT: "+A.T+"ms")),j=A;var xe=v;if(j.na=Xd(j,j.L?j.ba:null,j.W),xe.L){Bc(j.h,xe);var Ze=xe,hn=j.O;hn&&(Ze.H=hn),Ze.D&&(ii(Ze),mi(Ze)),j.g=xe}else Kd(j);A.i.length>0&&zs(A)}else Tt[0]!="stop"&&Tt[0]!="close"||$s(A,7);else A.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?$s(A,7):Xc(A):Tt[0]!="noop"&&A.l&&A.l.qa(Tt),A.A=0)}}Ki(4)}catch{}}var qt=class{constructor(v,w){this.g=v,this.map=w}};function la(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function js(v){return v.h?1:v.g?v.g.size:0}function Fs(v,w){return v.h?v.h==w:v.g?v.g.has(w):!1}function Hc(v,w){v.g?v.g.add(w):v.h=w}function Bc(v,w){v.h&&v.h==w?v.h=null:v.g&&v.g.has(w)&&v.g.delete(w)}la.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Gc(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let w=v.i;for(const A of v.g.values())w=w.concat(A.G);return w}return S(v.i)}var qd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(v,w){if(v){v=v.split("&");for(let A=0;A<v.length;A++){const j=v[A].indexOf("=");let Q,ne=null;j>=0?(Q=v[A].substring(0,j),ne=v[A].substring(j+1)):Q=v[A],w(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ri(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;v instanceof Ri?(this.l=v.l,Cn(this,v.j),this.o=v.o,this.g=v.g,Xr(this,v.u),this.h=v.h,zc(this,zd(v.i)),this.m=v.m):v&&(w=String(v).match(qd))?(this.l=!1,Cn(this,w[1]||"",!0),this.o=qs(w[2]||""),this.g=qs(w[3]||"",!0),Xr(this,w[4]),this.h=qs(w[5]||"",!0),zc(this,w[6]||"",!0),this.m=qs(w[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}Ri.prototype.toString=function(){const v=[];var w=this.j;w&&v.push(ua(w,tl,!0),":");var A=this.g;return(A||w=="file")&&(v.push("//"),(w=this.o)&&v.push(ua(w,tl,!0),"@"),v.push(lt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&v.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&v.push("/"),v.push(ua(A,A.charAt(0)=="/"?$c:Hd,!0))),(A=this.i.toString())&&v.push("?",A),(A=this.m)&&v.push("#",ua(A,Bd)),v.join("")},Ri.prototype.resolve=function(v){const w=yn(this);let A=!!v.j;A?Cn(w,v.j):A=!!v.o,A?w.o=v.o:A=!!v.g,A?w.g=v.g:A=v.u!=null;var j=v.h;if(A)Xr(w,v.u);else if(A=!!v.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(j=w.h.slice(0,Q+1)+j)}if(Q=j,Q==".."||Q==".")j="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){j=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let xe=0;xe<Q.length;){const Ze=Q[xe++];Ze=="."?j&&xe==Q.length&&ne.push(""):Ze==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),j&&xe==Q.length&&ne.push("")):(ne.push(Ze),j=!0)}j=ne.join("/")}else j=Q}return A?w.h=j:A=v.i.toString()!=="",A?zc(w,zd(v.i)):A=!!v.m,A&&(w.m=v.m),w};function yn(v){return new Ri(v)}function Cn(v,w,A){v.j=A?qs(w,!0):w,v.j&&(v.j=v.j.replace(/:$/,""))}function Xr(v,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);v.u=w}else v.u=null}function zc(v,w,A){w instanceof eo?(v.i=w,il(v.i,v.l)):(A||(w=ua(w,Zr)),v.i=new eo(w,v.l))}function St(v,w,A){v.i.set(w,A)}function ca(v){return St(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function qs(v,w){return v?w?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ua(v,w,A){return typeof v=="string"?(v=encodeURI(v).replace(w,pi),A&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function pi(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var tl=/[#\/\?@]/g,Hd=/[#\?:]/g,$c=/[#\?]/g,Zr=/[#\?@]/g,Bd=/#/g;function eo(v,w){this.h=this.g=null,this.i=v||null,this.j=!!w}function gi(v){v.g||(v.g=new Map,v.h=0,v.i&&el(v.i,function(w,A){v.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}n=eo.prototype,n.add=function(v,w){gi(this),this.i=null,v=to(this,v);let A=this.g.get(v);return A||this.g.set(v,A=[]),A.push(w),this.h+=1,this};function Gd(v,w){gi(v),w=to(v,w),v.g.has(w)&&(v.i=null,v.h-=v.g.get(w).length,v.g.delete(w))}function Kc(v,w){return gi(v),w=to(v,w),v.g.has(w)}n.forEach=function(v,w){gi(this),this.g.forEach(function(A,j){A.forEach(function(Q){v.call(w,Q,j,this)},this)},this)};function Yc(v,w){gi(v);let A=[];if(typeof w=="string")Kc(v,w)&&(A=A.concat(v.g.get(to(v,w))));else for(v=Array.from(v.g.values()),w=0;w<v.length;w++)A=A.concat(v[w]);return A}n.set=function(v,w){return gi(this),this.i=null,v=to(this,v),Kc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[w]),this.h+=1,this},n.get=function(v,w){return v?(v=Yc(this,v),v.length>0?String(v[0]):w):w};function nl(v,w,A){Gd(v,w),A.length>0&&(v.i=null,v.g.set(to(v,w),S(A)),v.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var A=w[j];const Q=lt(A);A=Yc(this,A);for(let ne=0;ne<A.length;ne++){let xe=Q;A[ne]!==""&&(xe+="="+lt(A[ne])),v.push(xe)}}return this.i=v.join("&")};function zd(v){const w=new eo;return w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),w}function to(v,w){return w=String(w),v.j&&(w=w.toLowerCase()),w}function il(v,w){w&&!v.j&&(gi(v),v.i=null,v.g.forEach(function(A,j){const Q=j.toLowerCase();j!=Q&&(Gd(this,j),nl(this,Q,A))},v)),v.j=w}function gs(v,w){const A=new oe;if(c.Image){const j=new Image;j.onload=g(Yi,A,"TestLoadImage: loaded",!0,w,j),j.onerror=g(Yi,A,"TestLoadImage: error",!1,w,j),j.onabort=g(Yi,A,"TestLoadImage: abort",!1,w,j),j.ontimeout=g(Yi,A,"TestLoadImage: timeout",!1,w,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=v}else w(!1)}function Jc(v,w){const A=new oe,j=new AbortController,Q=setTimeout(()=>{j.abort(),Yi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(v,{signal:j.signal}).then(ne=>{clearTimeout(Q),ne.ok?Yi(A,"TestPingServer: ok",!0,w):Yi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Yi(A,"TestPingServer: error",!1,w)})}function Yi(v,w,A,j,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),j(A)}catch{}}function no(){this.g=new $i}function Hs(v){this.i=v.Sb||null,this.h=v.ab||!1}E(Hs,Ii),Hs.prototype.g=function(){return new da(this.i,this.h)};function da(v,w){Lt.call(this),this.H=v,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(da,Lt),n=da.prototype,n.open=function(v,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=w,this.readyState=1,ys(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(w.body=v),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},n.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function sl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}n.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var w=v.value?v.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!v.done}))&&(this.response=this.responseText+=w)}v.done?io(this):ys(this),this.readyState==3&&sl(this)}},n.Oa=function(v){this.g&&(this.response=this.responseText=v,io(this))},n.Na=function(v){this.g&&(this.response=v,io(this))},n.ga=function(){this.g&&io(this)};function io(v){v.readyState=4,v.l=null,v.j=null,v.B=null,ys(v)}n.setRequestHeader=function(v,w){this.A.append(v,w)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,v.push(A[0]+": "+A[1]),A=w.next();return v.join(`\r
`)};function ys(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ji(v){let w="";return se(v,function(A,j){w+=j,w+=":",w+=A,w+=`\r
`}),w}function ha(v,w,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=Ji(A),typeof v=="string"?A!=null&&lt(A):St(v,w,A))}function It(v){Lt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(It,Lt);var Bs=/^https?$/i,Qc=["POST","PUT"];n=It.prototype,n.Fa=function(v){this.H=v},n.ea=function(v,w,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);w=w?w.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kt.g(),this.g.onreadystatechange=T(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(v),!0),this.B=!1}catch(ne){fa(this,ne);return}if(v=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Q in j)A.set(Q,j[Q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ne of j.keys())A.set(ne,j.get(ne));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(Qc,w,void 0)>=0)||j||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,xe]of A)this.g.setRequestHeader(ne,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ne){fa(this,ne)}};function fa(v,w){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=w,v.o=5,Wc(v),hr(v)}function Wc(v){v.A||(v.A=!0,Ut(v,"complete"),Ut(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ut(this,"complete"),Ut(this,"abort"),hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),It.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},n.Xa=function(){ma(this)};function ma(v){if(v.h&&typeof a<"u"){if(v.v&&vs(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ut(v,"readystatechange"),vs(v)==4){v.h=!1;try{const ne=v.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var j;if(j=ne===0){let xe=String(v.D).match(qd)[1]||null;!xe&&c.self&&c.self.location&&(xe=c.self.location.protocol.slice(0,-1)),j=!Bs.test(xe?xe.toLowerCase():"")}A=j}if(A)Ut(v,"complete"),Ut(v,"success");else{v.o=6;try{var Q=vs(v)>2?v.g.statusText:""}catch{Q=""}v.l=Q+" ["+v.ca()+"]",Wc(v)}}finally{hr(v)}}}}function hr(v,w){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const A=v.g;v.g=null,w||Ut(v,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vs(v){return v.g?v.g.readyState:0}n.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(v){if(this.g){var w=this.g.responseText;return v&&w.indexOf(v)==0&&(w=w.substring(v.length)),ti(w)}};function Vn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(v){const w={};v=(v.g&&vs(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<v.length;j++){if(L(v[j]))continue;var A=rn(v[j]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ne=w[Q]||[];w[Q]=ne,ne.push(A)}De(w,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(v,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[v]||w}function so(v){this.za=0,this.i=[],this.j=new oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gs("baseRetryDelayMs",5e3,v),this.Za=Gs("retryDelaySeedMs",1e4,v),this.Ta=Gs("forwardChannelMaxRetries",2,v),this.va=Gs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new la(v&&v.concurrentRequestLimit),this.Ba=new no,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=so.prototype,n.ka=8,n.I=1,n.connect=function(v,w,A,j){sn(0),this.W=v,this.H=w||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.J=Xd(this,null,this.W),zs(this)};function Xc(v){if(rl(v),v.I==3){var w=v.V++,A=yn(v.J);if(St(A,"SID",v.M),St(A,"RID",w),St(A,"TYPE","terminate"),pa(v,A),w=new jt(v,v.j,w),w.M=2,w.A=ca(yn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=w.A,A=!0),A||(w.g=Zd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),mi(w)}Wd(v)}function ro(v){v.g&&(eu(v),v.g.cancel(),v.g=null)}function rl(v){ro(v),v.v&&(c.clearTimeout(v.v),v.v=null),al(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function zs(v){if(!qc(v.h)&&!v.m){v.m=!0;var w=v.Ea;re||R(),F||(re(),F=!0),C.add(w,v),v.D=0}}function ol(v,w){return js(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=w.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Z(f(v.Ea,v,w),Qd(v,v.D)),v.D++,!0)}n.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const Q=new jt(this,this.j,v);let ne=this.o;if(this.U&&(ne?(ne=z(ne),ve(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=$d(this,Q,w),A=yn(this.J),St(A,"RID",v),St(A,"CVER",22),this.G&&St(A,"X-HTTP-Session-Id",this.G),pa(this,A),ne&&(this.R?w="headers="+lt(Ji(ne))+"&"+w:this.u&&ha(A,this.u,ne)),Hc(this.h,Q),this.Ra&&St(A,"TYPE","init"),this.S?(St(A,"$req",w),St(A,"SID","null"),Q.U=!0,Un(Q,A,null)):Un(Q,A,w),this.I=2}}else this.I==3&&(v?Zc(this,v):this.i.length==0||qc(this.h)||Zc(this))};function Zc(v,w){var A;w?A=w.l:A=v.V++;const j=yn(v.J);St(j,"SID",v.M),St(j,"RID",A),St(j,"AID",v.K),pa(v,j),v.u&&v.o&&ha(j,v.u,v.o),A=new jt(v,v.j,A,v.D+1),v.u===null&&(A.J=v.o),w&&(v.i=w.G.concat(v.i)),w=$d(v,A,1e3),A.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Hc(v.h,A),Un(A,j,w)}function pa(v,w){v.H&&se(v.H,function(A,j){St(w,j,A)}),v.l&&se({},function(A,j){St(w,j,A)})}function $d(v,w,A){A=Math.min(v.i.length,A);const j=v.l?f(v.l.Ka,v.l,v):null;e:{var Q=v.i;let Ze=-1;for(;;){const hn=["count="+A];Ze==-1?A>0?(Ze=Q[0].g,hn.push("ofs="+Ze)):Ze=0:hn.push("ofs="+Ze);let Tt=!0;for(let Yt=0;Yt<A;Yt++){var ne=Q[Yt].g;const Qi=Q[Yt].map;if(ne-=Ze,ne<0)Ze=Math.max(0,Q[Yt].g-100),Tt=!1;else try{ne="req"+ne+"_"||"";try{var xe=Qi instanceof Map?Qi:Object.entries(Qi);for(const[Ks,_s]of xe){let xs=_s;h(_s)&&(xs=fi(_s)),hn.push(ne+Ks+"="+encodeURIComponent(xs))}}catch(Ks){throw hn.push(ne+"type="+encodeURIComponent("_badmap")),Ks}}catch{j&&j(Qi)}}if(Tt){xe=hn.join("&");break e}}xe=void 0}return v=v.i.splice(0,A),w.G=v,xe}function Kd(v){if(!v.g&&!v.v){v.Y=1;var w=v.Da;re||R(),F||(re(),F=!0),C.add(w,v),v.A=0}}function ga(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Z(f(v.Da,v),Qd(v,v.A)),v.A++,!0)}n.Da=function(){if(this.v=null,Yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Z(f(this.Wa,this),v)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),ro(this),Yd(this))};function eu(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function Yd(v){v.g=new jt(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var w=yn(v.na);St(w,"RID","rpc"),St(w,"SID",v.M),St(w,"AID",v.K),St(w,"CI",v.F?"0":"1"),!v.F&&v.ia&&St(w,"TO",v.ia),St(w,"TYPE","xmlhttp"),pa(v,w),v.u&&v.o&&ha(w,v.u,v.o),v.O&&(v.g.H=v.O);var A=v.g;v=v.ba,A.M=1,A.A=ca(yn(w)),A.u=null,A.R=!0,ni(A,v)}n.Va=function(){this.C!=null&&(this.C=null,ro(this),ga(this),sn(19))};function al(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function Jd(v,w){var A=null;if(v.g==w){al(v),eu(v),v.g=null;var j=2}else if(Fs(v.h,w))A=w.G,Bc(v.h,w),j=1;else return;if(v.I!=0){if(w.o)if(j==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var Q=v.D;j=Qr(),Ut(j,new K(j,A)),zs(v)}else Kd(v);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(j==1&&ol(v,w)||j==2&&ga(v)))switch(A&&A.length>0&&(w=v.h,w.i=w.i.concat(A)),Q){case 1:$s(v,5);break;case 4:$s(v,10);break;case 3:$s(v,6);break;default:$s(v,2)}}}function Qd(v,w){let A=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(A*=2),A*w}function $s(v,w){if(v.j.info("Error code "+w),w==2){var A=f(v.bb,v),j=v.Ua;const Q=!j;j=new Ri(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cn(j,"https"),ca(j),Q?gs(j.toString(),A):Jc(j.toString(),A)}else sn(2);v.I=0,v.l&&v.l.pa(w),Wd(v),rl(v)}n.bb=function(v){v?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Wd(v){if(v.I=0,v.ja=[],v.l){const w=Gc(v.h);(w.length!=0||v.i.length!=0)&&(N(v.ja,w),N(v.ja,v.i),v.h.i.length=0,S(v.i),v.i.length=0),v.l.oa()}}function Xd(v,w,A){var j=A instanceof Ri?yn(A):new Ri(A);if(j.g!="")w&&(j.g=w+"."+j.g),Xr(j,j.u);else{var Q=c.location;j=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Ri(null);j&&Cn(ne,j),w&&(ne.g=w),Q&&Xr(ne,Q),A&&(ne.h=A),j=ne}return A=v.G,w=v.wa,A&&w&&St(j,A,w),St(j,"VER",v.ka),pa(v,j),j}function Zd(v,w,A){if(w&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=v.Aa&&!v.ma?new It(new Hs({ab:A})):new It(v.ma),w.Fa(v.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function oo(){}oo.prototype.g=function(v,w){return new si(v,w)};function si(v,w){Lt.call(this),this.g=new so(w),this.l=v,this.h=w&&w.messageUrlParams||null,v=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(v?v["X-WebChannel-Content-Type"]=w.messageContentType:v={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(v?v["X-WebChannel-Client-Profile"]=w.sa:v={"X-WebChannel-Client-Profile":w.sa}),this.g.U=v,(v=w&&w.Qb)&&!L(v)&&(this.g.u=v),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.G=w,v=this.h,v!==null&&w in v&&(v=this.h,w in v&&delete v[w])),this.j=new mr(this)}E(si,Lt),si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Xc(this.g)},si.prototype.o=function(v){var w=this.g;if(typeof v=="string"){var A={};A.__data__=v,v=A}else this.v&&(A={},A.__data__=fi(v),v=A);w.i.push(new qt(w.Ya++,v)),w.I==3&&zs(w)},si.prototype.N=function(){this.g.l=null,delete this.j,Xc(this.g),delete this.g,si.Z.N.call(this)};function th(v){Xt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var w=v.__sm__;if(w){e:{for(const A in w){v=A;break e}v=void 0}(this.i=v)&&(v=this.i,w=w!==null&&v in w?w[v]:void 0),this.data=w}else this.data=v}E(th,Xt);function nh(){gn.call(this),this.status=1}E(nh,gn);function mr(v){this.g=v}E(mr,eh),mr.prototype.ra=function(){Ut(this.g,"a")},mr.prototype.qa=function(v){Ut(this.g,new th(v))},mr.prototype.pa=function(v){Ut(this.g,new nh)},mr.prototype.oa=function(){Ut(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,YN=function(){return new oo},KN=function(){return Qr()},$N=Vt,Ky={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,wf=Ce,nt.COMPLETE="complete",zN=nt,Us.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Yu=Us,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,GN=It}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Y0("@firebase/firestore");function ql(){return za.logLevel}function Se(n,...e){if(za.logLevel<=dt.DEBUG){const t=e.map(Z0);za.debug(`Firestore (${Sc}): ${n}`,...t)}}function Or(n,...e){if(za.logLevel<=dt.ERROR){const t=e.map(Z0);za.error(`Firestore (${Sc}): ${n}`,...t)}}function oc(n,...e){if(za.logLevel<=dt.WARN){const t=e.map(Z0);za.warn(`Firestore (${Sc}): ${n}`,...t)}}function Z0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,JN(n,i,t)}function JN(n,e,t){let i=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Or(i),new Error(i)}function yt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||JN(e,r,i)}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xn.UNAUTHENTICATED)))}shutdown(){}}class WL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class XL{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yt(this.o===void 0,42304);let i=this.i;const r=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let a=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new nr,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},h=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new QN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class ZL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ZL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yt(this.o===void 0,3512);const i=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(yt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Nw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=n5(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function ht(n,e){return n<e?-1:n>e?1:0}function Yy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return Ey(r)===Ey(a)?ht(r,a):Ey(r)?1:-1}return ht(n.length,e.length)}const i5=55296,s5=57343;function Ey(n){const e=n.charCodeAt(0);return e>=i5&&e<=s5}function ac(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__name__";class Xs{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Fe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Xs.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return ht(e.length,t.length)}static compareSegments(e,t){const i=Xs.isNumericId(e),r=Xs.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Xs.extractNumericId(e).compare(Xs.extractNumericId(t)):Yy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oo.fromString(e.substring(4,e.length-2))}}class Mt extends Xs{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new Mt(t)}static emptyPath(){return new Mt([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Xs{construct(e,t,i){return new Bn(e,t,i)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iw}static keyField(){return new Bn([Iw])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(a(),r++)}if(a(),c)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e,t){if(!t)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function o5(n,e,t,i){if(e===!0&&i===!0)throw new Te(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cw(n){if(!Pe.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rw(n){if(Pe.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function wm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wm(n);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rd(n,e){if(!XN(n))throw new Te(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new Te(ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-62135596800,Mw=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Mw);return new Gt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dw)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rd(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Sn("string",Gt._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Gt(0,0))}static max(){return new Ge(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function a5(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ge.fromTimestamp(i===1e9?new Gt(t+1,0):new Gt(t,i));return new Ko(r,Pe.empty(),e)}function l5(n){return new Ko(n.readTime,n.key,md)}class Ko{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ko(Ge.min(),Pe.empty(),md)}static max(){return new Ko(Ge.max(),Pe.empty(),md)}}function c5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:ht(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==u5)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,i)=>{t(e)}))}static reject(e){return new fe(((t,i)=>{i(e)}))}static waitFor(e){return new fe(((t,i)=>{let r=0,a=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++a,c&&a===r&&t()}),(m=>i(m)))})),c=!0,a===r&&t()}))}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next((r=>r?fe.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new fe(((i,r)=>{const a=e.length,c=new Array(a);let h=0;for(let m=0;m<a;m++){const f=m;t(e[f]).next((g=>{c[f]=g,++h,h===a&&i(c)}),(g=>r(g)))}}))}static doWhile(e,t){return new fe(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function h5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-1;function Dd(n){return n==null}function qf(n){return n===0&&1/n==-1/0}function f5(n){return typeof n=="number"&&Number.isInteger(n)&&!qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="";function m5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kw(e)),e=p5(n.get(t),e);return kw(e)}function p5(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case ZN:t+="";break;default:t+=a}}return t}function kw(n){return n+ZN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function na(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function e1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Hn.RED,this.left=r??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Hn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new In(Bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t1("Invalid base64 string: "+a):a}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const g5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(n){if(yt(!!n,39018),typeof n=="string"){let e=0;const t=g5.exec(n);if(yt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jo(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="server_timestamp",i1="__type__",s1="__previous_value__",r1="__local_write_time__";function nv(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[i1])==null?void 0:i.stringValue)===n1}function Sm(n){const e=n.mapValue.fields[s1];return nv(e)?Sm(e):e}function pd(n){const e=Yo(n.mapValue.fields[r1].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t,i,r,a,c,h,m,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=g}}const Hf="(default)";class gd{constructor(e,t){this.projectId=e,this.database=t||Hf}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="__type__",v5="__max__",df={mapValue:{}},a1="__vector__",Bf="value";function Qo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nv(n)?4:x5(n)?9007199254740991:_5(n)?10:11:Fe(28295,{value:n})}function or(n,e){if(n===e)return!0;const t=Qo(n);if(t!==Qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Yo(r.timestampValue),h=Yo(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Jo(r.bytesValue).isEqual(Jo(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return pn(r.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(r.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return pn(r.integerValue)===pn(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=pn(r.doubleValue),h=pn(a.doubleValue);return c===h?qf(c)===qf(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return ac(n.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(r,a){const c=r.mapValue.fields||{},h=a.mapValue.fields||{};if(Pw(c)!==Pw(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!or(c[m],h[m])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function yd(n,e){return(n.values||[]).find((t=>or(t,e)))!==void 0}function lc(n,e){if(n===e)return 0;const t=Qo(n),i=Qo(e);if(t!==i)return ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=pn(a.integerValue||a.doubleValue),m=pn(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return Uw(n.timestampValue,e.timestampValue);case 4:return Uw(pd(n),pd(e));case 5:return Yy(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Jo(a),m=Jo(c);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),m=c.split("/");for(let f=0;f<h.length&&f<m.length;f++){const g=ht(h[f],m[f]);if(g!==0)return g}return ht(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=ht(pn(a.latitude),pn(c.latitude));return h!==0?h:ht(pn(a.longitude),pn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Vw(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var T,S,N,U;const h=a.fields||{},m=c.fields||{},f=(T=h[Bf])==null?void 0:T.arrayValue,g=(S=m[Bf])==null?void 0:S.arrayValue,E=ht(((N=f==null?void 0:f.values)==null?void 0:N.length)||0,((U=g==null?void 0:g.values)==null?void 0:U.length)||0);return E!==0?E:Vw(f,g)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===df.mapValue&&c===df.mapValue)return 0;if(a===df.mapValue)return 1;if(c===df.mapValue)return-1;const h=a.fields||{},m=Object.keys(h),f=c.fields||{},g=Object.keys(f);m.sort(),g.sort();for(let E=0;E<m.length&&E<g.length;++E){const T=Yy(m[E],g[E]);if(T!==0)return T;const S=lc(h[m[E]],f[g[E]]);if(S!==0)return S}return ht(m.length,g.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function Uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ht(n,e);const t=Yo(n),i=Yo(e),r=ht(t.seconds,i.seconds);return r!==0?r:ht(t.nanos,i.nanos)}function Vw(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=lc(t[r],i[r]);if(a)return a}return ht(t.length,i.length)}function cc(n){return Jy(n)}function Jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yo(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Jo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Pe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Jy(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const c of i)a?a=!1:r+=",",r+=`${c}:${Jy(t.fields[c])}`;return r+"}"})(n.mapValue):Fe(61005,{value:n})}function bf(n){switch(Qo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sm(n);return e?16+bf(e):16;case 5:return 2*n.stringValue.length;case 6:return Jo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+bf(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return na(i.fields,((a,c)=>{r+=a.length+bf(c)})),r})(n.mapValue);default:throw Fe(13486,{value:n})}}function Ow(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qy(n){return!!n&&"integerValue"in n}function iv(n){return!!n&&"arrayValue"in n}function jw(n){return!!n&&"nullValue"in n}function Fw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function _5(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[o1])==null?void 0:i.stringValue)===a1}function td(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return na(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=td(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=td(n.arrayValue.values[t]);return e}return{...n}}function x5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===v5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(t)}setAll(e){let t=Bn.emptyPath(),i={},r=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=td(c):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Sf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){na(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new ai(td(this.value))}}function l1(n){const e=[];return na(n.fields,((t,i)=>{const r=new Bn([t]);if(Sf(i)){const a=l1(i.mapValue).fields;if(a.length===0)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)})),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t,i,r,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Mn(e,0,Ge.min(),Ge.min(),Ge.min(),ai.empty(),0)}static newFoundDocument(e,t,i,r){return new Mn(e,1,t,Ge.min(),i,r,0)}static newNoDocument(e,t){return new Mn(e,2,t,Ge.min(),Ge.min(),ai.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,Ge.min(),Ge.min(),ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.position=e,this.inclusive=t}}function qw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(a.field.isKeyField()?i=Pe.comparator(Pe.fromName(c.referenceValue),t.key):i=lc(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t="asc"){this.field=e,this.dir=t}}function E5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class bn extends c1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new w5(e,t,i):t==="array-contains"?new A5(e,i):t==="in"?new N5(e,i):t==="not-in"?new I5(e,i):t==="array-contains-any"?new C5(e,i):new bn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new b5(e,i):new S5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lc(t,this.value)):t!==null&&Qo(this.value)===Qo(t)&&this.matchesComparison(lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends c1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ds(e,t)}matches(e){return u1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u1(n){return n.op==="and"}function d1(n){return T5(n)&&u1(n)}function T5(n){for(const e of n.filters)if(e instanceof Ds)return!1;return!0}function Wy(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(d1(n))return n.filters.map((e=>Wy(e))).join(",");{const e=n.filters.map((t=>Wy(t))).join(",");return`${n.op}(${e})`}}function h1(n,e){return n instanceof bn?(function(i,r){return r instanceof bn&&i.op===r.op&&i.field.isEqual(r.field)&&or(i.value,r.value)})(n,e):n instanceof Ds?(function(i,r){return r instanceof Ds&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,c,h)=>a&&h1(c,r.filters[h])),!0):!1})(n,e):void Fe(19439)}function f1(n){return n instanceof bn?(function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`})(n):n instanceof Ds?(function(t){return t.op.toString()+" {"+t.getFilters().map(f1).join(" ,")+"}"})(n):"Filter"}class w5 extends bn{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class b5 extends bn{constructor(e,t){super(e,"in",t),this.keys=m1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S5 extends bn{constructor(e,t){super(e,"not-in",t),this.keys=m1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function m1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Pe.fromName(i.referenceValue)))}class A5 extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iv(t)&&yd(t.arrayValue,this.value)}}class N5 extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yd(this.value.arrayValue,t)}}class I5 extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yd(this.value.arrayValue,t)}}class C5 extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>yd(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,t=null,i=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function Bw(n,e=null,t=[],i=[],r=null,a=null,c=null){return new R5(n,e,t,i,r,a,c)}function sv(n){const e=Ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Wy(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>cc(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>cc(i))).join(",")),e.Te=t}return e.Te}function rv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!E5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hw(n.startAt,e.startAt)&&Hw(n.endAt,e.endAt)}function Xy(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t=null,i=[],r=[],a=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D5(n,e,t,i,r,a,c,h){return new Ic(n,e,t,i,r,a,c,h)}function Am(n){return new Ic(n)}function Gw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p1(n){return n.collectionGroup!==null}function nd(n){const e=Ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new In(Bn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new vd(a,i))})),t.has(Bn.keyField().canonicalString())||e.Ie.push(new vd(Bn.keyField(),i))}return e.Ie}function ir(n){const e=Ke(n);return e.Ee||(e.Ee=M5(e,nd(n))),e.Ee}function M5(n,e){if(n.limitType==="F")return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new vd(r.field,a)}));const t=n.endAt?new Gf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gf(n.startAt.position,n.startAt.inclusive):null;return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zy(n,e){const t=n.filters.concat([e]);return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function e0(n,e,t){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nm(n,e){return rv(ir(n),ir(e))&&n.limitType===e.limitType}function g1(n){return`${sv(ir(n))}|lt:${n.limitType}`}function Hl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>f1(r))).join(", ")}]`),Dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>cc(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>cc(r))).join(",")),`Target(${i})`})(ir(n))}; limitType=${n.limitType})`}function Im(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Pe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of nd(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(c,h,m){const f=qw(c,h,m);return c.inclusive?f<=0:f<0})(i.startAt,nd(i),r)||i.endAt&&!(function(c,h,m){const f=qw(c,h,m);return c.inclusive?f>=0:f>0})(i.endAt,nd(i),r))})(n,e)}function k5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function y1(n){return(e,t)=>{let i=!1;for(const r of nd(n)){const a=P5(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function P5(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):(function(a,c,h){const m=c.data.field(a),f=h.data.field(a);return m!==null&&f!==null?lc(m,f):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return e1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new tn(Pe.comparator);function jr(){return L5}const v1=new tn(Pe.comparator);function Ju(...n){let e=v1;for(const t of n)e=e.insert(t.key,t);return e}function _1(n){let e=v1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Oa(){return id()}function x1(){return id()}function id(){return new Ja((n=>n.toString()),((n,e)=>n.isEqual(e)))}const U5=new tn(Pe.comparator),V5=new In(Pe.comparator);function ft(...n){let e=V5;for(const t of n)e=e.add(t);return e}const O5=new In(ht);function j5(){return O5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function E1(n){return{integerValue:""+n}}function F5(n,e){return f5(e)?E1(e):ov(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function q5(n,e,t){return n instanceof _d?(function(r,a){const c={fields:{[i1]:{stringValue:n1},[r1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&nv(a)&&(a=Sm(a)),a&&(c.fields[s1]=a),{mapValue:c}})(t,e):n instanceof uc?w1(n,e):n instanceof xd?b1(n,e):(function(r,a){const c=T1(r,a),h=zw(c)+zw(r.Ae);return Qy(c)&&Qy(r.Ae)?E1(h):ov(r.serializer,h)})(n,e)}function H5(n,e,t){return n instanceof uc?w1(n,e):n instanceof xd?b1(n,e):t}function T1(n,e){return n instanceof zf?(function(i){return Qy(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class _d extends Cm{}class uc extends Cm{constructor(e){super(),this.elements=e}}function w1(n,e){const t=S1(e);for(const i of n.elements)t.some((r=>or(r,i)))||t.push(i);return{arrayValue:{values:t}}}class xd extends Cm{constructor(e){super(),this.elements=e}}function b1(n,e){let t=S1(e);for(const i of n.elements)t=t.filter((r=>!or(r,i)));return{arrayValue:{values:t}}}class zf extends Cm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zw(n){return pn(n.integerValue||n.doubleValue)}function S1(n){return iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.field=e,this.transform=t}}function B5(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof uc&&r instanceof uc||i instanceof xd&&r instanceof xd?ac(i.elements,r.elements,or):i instanceof zf&&r instanceof zf?or(i.Ae,r.Ae):i instanceof _d&&r instanceof _d})(n.transform,e.transform)}class G5{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rm{}function N1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dm(n.key,Nn.none()):new Md(n.key,n.data,Nn.none());{const t=n.data,i=ai.empty();let r=new In(Bn.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),r=r.add(a)}return new ia(n.key,i,new Fi(r.toArray()),Nn.none())}}function z5(n,e,t){n instanceof Md?(function(r,a,c){const h=r.value.clone(),m=Kw(r.fieldTransforms,a,c.transformResults);h.setAll(m),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ia?(function(r,a,c){if(!Af(r.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Kw(r.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(I1(r)),m.setAll(h),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(r,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function sd(n,e,t,i){return n instanceof Md?(function(a,c,h,m){if(!Af(a.precondition,c))return h;const f=a.value.clone(),g=Yw(a.fieldTransforms,m,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof ia?(function(a,c,h,m){if(!Af(a.precondition,c))return h;const f=Yw(a.fieldTransforms,m,c),g=c.data;return g.setAll(I1(a)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,c,h){return Af(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function $5(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=T1(i.transform,r||null);a!=null&&(t===null&&(t=ai.empty()),t.set(i.field,a))}return t||null}function $w(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ac(i,r,((a,c)=>B5(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Md extends Rm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ia extends Rm{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function I1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Kw(n,e,t){const i=new Map;yt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,h=e.data.field(a.field);i.set(a.field,H5(c,h,t[r]))}return i}function Yw(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,q5(a,c,e))}return i}class Dm extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C1 extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&z5(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=x1();return this.mutations.forEach((r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(r.key)?null:h;const m=N1(c,h);m!==null&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ft())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,((t,i)=>$w(t,i)))&&ac(this.baseMutations,e.baseMutations,((t,i)=>$w(t,i)))}}class av{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){yt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return U5})();const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new av(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,gt;function R1(n){switch(n){case ue.OK:return Fe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function D1(n){if(n===void 0)return Or("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Tn.OK:return ue.OK;case Tn.CANCELLED:return ue.CANCELLED;case Tn.UNKNOWN:return ue.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ue.INTERNAL;case Tn.UNAVAILABLE:return ue.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ue.NOT_FOUND;case Tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Tn.ABORTED:return ue.ABORTED;case Tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Tn.DATA_LOSS:return ue.DATA_LOSS;default:return Fe(39323,{code:n})}}(gt=Tn||(Tn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new Oo([4294967295,4294967295],0);function Jw(n){const e=Q5().encode(n),t=new BN;return t.update(e),new Uint8Array(t.digest())}function Qw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oo([t,i],0),new Oo([r,a],0)]}class lv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(i<0)throw new Qu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Oo.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Oo.fromNumber(i)));return r.compare(W5)===1&&(r=new Oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Jw(e),[i,r]=Qw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,r,a);if(!this.we(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new lv(a,r,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Jw(e),[i,r]=Qw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,r,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mm(Ge.min(),r,new tn(ht),jr(),ft())}}class kd{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kd(i,t,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class M1{constructor(e,t){this.targetId=e,this.Ce=t}}class k1{constructor(e,t,i=Gn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ww{constructor(){this.ve=0,this.Fe=Xw(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),t=ft(),i=ft();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Fe(38017,{changeType:a})}})),new kd(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Xw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X5{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=hf(),this.He=hf(),this.Ye=new tn(ht)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Xy(a))if(i===0){const c=new Pe(a.path);this.et(t,c,Mn.newNoDocument(c,Ge.min()))}else yt(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(t);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let c,h;try{c=Jo(i).toUint8Array()}catch(m){if(m instanceof t1)return oc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new lv(c,r,a)}catch(m){return oc(m instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Xy(h.target)){const m=new Pe(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Mn.newNoDocument(m,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let i=ft();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const r=new Mm(e,t,this.Ye,this.je,i);return this.je=jr(),this.Je=hf(),this.He=hf(),this.Ye=new tn(ht),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ww,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new In(ht),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new In(ht),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hf(){return new tn(Pe.comparator)}function Xw(){return new tn(Pe.comparator)}const Z5={asc:"ASCENDING",desc:"DESCENDING"},eU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tU={and:"AND",or:"OR"};class nU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function t0(n,e){return n.useProto3Json||Dd(e)?e:{value:e}}function $f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iU(n,e){return $f(n,e.toTimestamp())}function qi(n){return yt(!!n,49232),Ge.fromTimestamp((function(t){const i=Yo(t);return new Gt(i.seconds,i.nanos)})(n))}function cv(n,e){return n0(n,e).canonicalString()}function n0(n,e){const t=(function(r){return new Mt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function L1(n){const e=Mt.fromString(n);return yt(q1(e),10190,{key:e.toString()}),e}function Kf(n,e){return cv(n.databaseId,e.path)}function rd(n,e){const t=L1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(V1(t))}function U1(n,e){return cv(n.databaseId,e)}function sU(n){const e=L1(n);return e.length===4?Mt.emptyPath():V1(e)}function i0(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V1(n){return yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zw(n,e,t){return{name:Kf(n,e),fields:t.value.mapValue.fields}}function rU(n,e){return"found"in e?(function(i,r){yt(!!r.found,43571),r.found.name,r.found.updateTime;const a=rd(i,r.found.name),c=qi(r.found.updateTime),h=r.found.createTime?qi(r.found.createTime):Ge.min(),m=new ai({mapValue:{fields:r.found.fields}});return Mn.newFoundDocument(a,c,h,m)})(n,e):"missing"in e?(function(i,r){yt(!!r.missing,3894),yt(!!r.readTime,22933);const a=rd(i,r.missing),c=qi(r.readTime);return Mn.newNoDocument(a,c)})(n,e):Fe(7234,{result:e})}function oU(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(yt(g===void 0||typeof g=="string",58123),Gn.fromBase64String(g||"")):(yt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const g=f.code===void 0?ue.UNKNOWN:D1(f.code);return new Te(g,f.message||"")})(c);t=new k1(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=rd(n,i.document.name),a=qi(i.document.updateTime),c=i.document.createTime?qi(i.document.createTime):Ge.min(),h=new ai({mapValue:{fields:i.document.fields}}),m=Mn.newFoundDocument(r,a,c,h),f=i.targetIds||[],g=i.removedTargetIds||[];t=new Nf(f,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=rd(n,i.document),a=i.readTime?qi(i.readTime):Ge.min(),c=Mn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new Nf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=rd(n,i.document),a=i.removedTargetIds||[];t=new Nf([],a,r,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,c=new J5(r,a),h=i.targetId;t=new M1(h,c)}}return t}function O1(n,e){let t;if(e instanceof Md)t={update:Zw(n,e.key,e.value)};else if(e instanceof Dm)t={delete:Kf(n,e.key)};else if(e instanceof ia)t={update:Zw(n,e.key,e.data),updateMask:pU(e.fieldMask)};else{if(!(e instanceof C1))return Fe(16599,{Vt:e.type});t={verify:Kf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof _d)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:iU(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function aU(n,e){return n&&n.length>0?(yt(e!==void 0,14353),n.map((t=>(function(r,a){let c=r.updateTime?qi(r.updateTime):qi(a);return c.isEqual(Ge.min())&&(c=qi(a)),new G5(c,r.transformResults||[])})(t,e)))):[]}function lU(n,e){return{documents:[U1(n,e.path)]}}function cU(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=U1(n,r);const a=(function(f){if(f.length!==0)return F1(Ds.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(f){if(f.length!==0)return f.map((g=>(function(T){return{field:Bl(T.field),direction:hU(T.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=t0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function uU(n){let e=sU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){yt(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(E){const T=j1(E);return T instanceof Ds&&d1(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(N){return new vd(Gl(N.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(E){let T;return T=typeof E=="object"?E.value:E,Dd(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(E){const T=!!E.before,S=E.values||[];return new Gf(S,T)})(t.startAt));let f=null;return t.endAt&&(f=(function(E){const T=!E.before,S=E.values||[];return new Gf(S,T)})(t.endAt)),D5(e,r,c,a,h,"F",m,f)}function dU(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Gl(t.unaryFilter.field);return bn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gl(t.unaryFilter.field);return bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gl(t.unaryFilter.field);return bn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Gl(t.unaryFilter.field);return bn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return bn.create(Gl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ds.create(t.compositeFilter.filters.map((i=>j1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function hU(n){return Z5[n]}function fU(n){return eU[n]}function mU(n){return tU[n]}function Bl(n){return{fieldPath:n.canonicalString()}}function Gl(n){return Bn.fromServerFormat(n.fieldPath)}function F1(n){return n instanceof bn?(function(t){if(t.op==="=="){if(Fw(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NAN"}};if(jw(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fw(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NAN"}};if(jw(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(t.field),op:fU(t.op),value:t.value}}})(n):n instanceof Ds?(function(t){const i=t.getFilters().map((r=>F1(r)));return i.length===1?i[0]:{compositeFilter:{op:mU(t.op),filters:i}}})(n):Fe(54877,{filter:n})}function pU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,i,r,a=Ge.min(),c=Ge.min(),h=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.yt=e}}function yU(n){const e=uU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?e0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.Cn=new _U}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ko.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class _U{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(Mt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class Ti{static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(H1,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dc(0)}static cr(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="LruGarbageCollector",xU=1048576;function nb([n,e],[t,i]){const r=ht(n,t);return r===0?ht(e,i):r}class EU{constructor(e){this.Ir=e,this.buffer=new In(nb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nc(t)?Se(tb,"Ignoring IndexedDB error during garbage collection: ",t):await Ac(t)}await this.Vr(3e5)}))}}class wU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(bm.ce);const i=new EU(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(eb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,c,h,m,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(e,r)))).next((E=>(i=E,h=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(f=Date.now(),ql()<=dt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${a} targets in `+(m-h)+`ms
	Removed ${E} documents in `+(f-m)+`ms
Total Duration: ${f-g}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:E}))))}}function bU(n,e){return new wU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.changes=new Ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&sd(i.mutation,r,Fi.empty(),Gt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ft()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ft()){const r=Oa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let c=Ju();return a.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ft())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,r){let a=jr();const c=id(),h=(function(){return id()})();return t.forEach(((m,f)=>{const g=i.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof ia)?a=a.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),sd(g.mutation,f,g.mutation.getFieldMask(),Gt.now())):c.set(f.key,Fi.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>h.set(f,new AU(g,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=id();let r=new tn(((c,h)=>c-h)),a=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((m=>{const f=t.get(m);if(f===null)return;let g=i.get(m)||Fi.empty();g=h.applyToLocalView(f,g),i.set(m,g);const E=(r.get(h.batchId)||ft()).add(m);r=r.insert(h.batchId,E)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),f=m.key,g=m.value,E=x1();g.forEach((T=>{if(!a.has(T)){const S=N1(t.get(T),i.get(T));S!==null&&E.set(T,S),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,E))}return fe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):fe.resolve(Oa());let h=md,m=a;return c.next((f=>fe.forEach(f,((g,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next((T=>{m=m.insert(g,T)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,m,f,ft()))).next((g=>({batchId:h,changes:_1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next((i=>{let r=Ju();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let c=Ju();return this.indexManager.getCollectionParents(e,a).next((h=>fe.forEach(h,(m=>{const f=(function(E,T){return new Ic(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next((g=>{g.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((c=>{a.forEach(((m,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Mn.newInvalidDocument(g)))}));let h=Ju();return c.forEach(((m,f)=>{const g=a.get(m);g!==void 0&&sd(g.mutation,f,Fi.empty(),Gt.now()),Im(t,f)&&(h=h.insert(m,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:qi(r.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:yU(r.bundledQuery),readTime:qi(r.readTime)}})(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.overlays=new tn(Pe.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return fe.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),fe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const r=Oa(),a=t.length+1,c=new Pe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,f=m.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&m.largestBatchId>i&&r.set(m.getKey(),m)}return fe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new tn(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=a.get(f.largestBatchId);g===null&&(g=Oa(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Oa(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=r)););return fe.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Y5(t,i));let a=this.qr.get(t);a===void 0&&(a=ft(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Qr=new In(Dn.$r),this.Ur=new In(Dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Dn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Dn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Pe(new Mt([])),i=new Dn(t,e),r=new Dn(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Pe(new Mt([])),i=new Dn(t,e),r=new Dn(t,e+1);let a=ft();return this.Ur.forEachInRange([i,r],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Dn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Pe.comparator(e.key,t.key)||ht(e.Yr,t.Yr)}static Kr(e,t){return ht(e.Yr,t.Yr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new In(Dn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new K5(a,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Dn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?tv:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dn(t,0),r=new Dn(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);a.push(h)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(ht);return t.forEach((r=>{const a=new Dn(r,0),c=new Dn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{i=i.add(h.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Pe.isDocumentKey(a)||(a=a.child(""));const c=new Dn(new Pe(a),0);let h=new In(ht);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(h=h.add(m.Yr)),!0)}),c),fe.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){yt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(t.mutations,(r=>{const a=new Dn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Dn(t,0),r=this.Zr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.ri=e,this.docs=(function(){return new tn(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Mn.newInvalidDocument(r))})),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=jr();const c=t.path,h=new Pe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:f,value:{document:g}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||c5(l5(g),i)<=0||(r.has(g.key)||Im(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Fe(9500)}ii(e,t){return fe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new kU(this)}getSize(e){return fe.resolve(this.size)}}class kU extends SU{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.persistence=e,this.si=new Ja((t=>sv(t)),rv),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new uv,this.targetCount=0,this.ai=dc.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),fe.waitFor(a).next((()=>r))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((c=>{a.push(r.markPotentiallyOrphaned(e,c))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.ui={},this.overlays={},this.ci=new bm(0),this.li=!1,this.li=!0,this.hi=new RU,this.referenceDelegate=e(this),this.Pi=new PU(this),this.indexManager=new vU,this.remoteDocumentCache=(function(r){return new MU(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new gU(t),this.Ii=new IU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new DU(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const r=new LU(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class LU extends d5{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new uv,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const r=Pe.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,Ge.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new Ja((i=>m5(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=bU(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return fe.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?fe.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((h=>{h||(i++,a.removeEntry(c,Ge.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}br(e,t,i){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return fe.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=ft(),r=ft();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new hv(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C4()?8:h5(ei())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new UU;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(ql()<=dt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(ql()<=dt.DEBUG&&Se("QueryEngine","Query:",Hl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ql()<=dt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):fe.resolve())}ys(e,t){if(Gw(t))return fe.resolve(null);let i=ir(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=e0(t,null,"F"),i=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=ft(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const f=this.Ds(t,h);return this.Cs(t,f,c,m.readTime)?this.ys(e,e0(t,null,"F")):this.vs(e,f,t,m)}))))})))))}ws(e,t,i,r){return Gw(t)||r.isEqual(Ge.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,i,r)?fe.resolve(null):(ql()<=dt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hl(t)),this.vs(e,c,t,a5(r,md)).next((h=>h)))}))}Ds(e,t){let i=new In(y1(e));return t.forEach(((r,a)=>{Im(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return ql()<=dt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.ps.getDocumentsMatchingQuery(e,t,Ko.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LocalStore",OU=3e8;class jU{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new tn(ht),this.xs=new Ja((a=>sv(a)),rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function FU(n,e,t,i){return new jU(n,e,t,i)}async function G1(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let m=ft();for(const f of r){c.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}for(const f of a){h.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}return t.localDocuments.getDocuments(i,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function qU(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,f,g){const E=f.batch,T=E.keys();let S=fe.resolve();return T.forEach((N=>{S=S.next((()=>g.getEntry(m,N))).next((U=>{const D=f.docVersions.get(N);yt(D!==null,48541),U.version.compareTo(D)<0&&(E.applyToRemoteDocument(U,f),U.isValidDocument()&&(U.setReadTime(f.commitVersion),g.addEntry(U)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=ft();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(m=m.add(h.batch.mutations[f].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function z1(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function HU(n,e){const t=Ke(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,E)=>{const T=r.get(E);if(!T)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,E))));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(Gn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),r=r.insert(E,S),(function(U,D,q){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=OU?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(T,S,g)&&h.push(t.Pi.updateTargetData(a,S))}));let m=jr(),f=ft();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(BU(a,c,e.documentUpdates).next((g=>{m=g.ks,f=g.qs}))),!i.isEqual(Ge.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return fe.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,m,f))).next((()=>m))})).then((a=>(t.Ms=r,a)))}function BU(n,e,t){let i=ft(),r=ft();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=jr();return t.forEach(((h,m)=>{const f=a.get(h);m.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Ge.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Se(fv,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:r}}))}function GU(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=tv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function zU(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,fe.resolve(r)):t.Pi.allocateTargetId(i).next((c=>(r=new Mo(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function s0(n,e,t){const i=Ke(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Nc(c))throw c;Se(fv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function ib(n,e,t){const i=Ke(n);let r=Ge.min(),a=ft();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,g){const E=Ke(m),T=E.xs.get(g);return T!==void 0?fe.resolve(E.Ms.get(T)):E.Pi.getTargetData(f,g)})(i,c,ir(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{a=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?r:Ge.min(),t?a:ft()))).next((h=>($U(i,k5(e),h),{documents:h,Qs:a})))))}function $U(n,e,t){let i=n.Os.get(e)||Ge.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class sb{constructor(){this.activeTargetIds=j5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KU{constructor(){this.Mo=new sb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="ConnectivityMonitor";class ob{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(rb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function r0(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="RestConnection",JU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Hf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const c=r0(),h=this.zo(e,t.toUriEncodedString());Se(Ty,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,a);const{host:f}=new URL(h),g=Tc(f);return this.Jo(e,h,m,i,g).then((E=>(Se(Ty,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw oc(Ty,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E}))}Ho(e,t,i,r,a,c){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=JU[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class XU extends QU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const c=r0();return new Promise(((h,m)=>{const f=new GN;f.setWithCredentials(!0),f.listenOnce(zN.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case wf.NO_ERROR:const E=f.getResponseJson();Se(Wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case wf.TIMEOUT:Se(Wn,`RPC '${e}' ${c} timed out`),m(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const T=f.getStatus();if(Se(Wn,`RPC '${e}' ${c} failed with status:`,T,"response text:",f.getResponseText()),T>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const U=(function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(B)>=0?B:ue.UNKNOWN})(N.status);m(new Te(U,N.message))}else m(new Te(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(Wn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(r);Se(Wn,`RPC '${e}' ${c} sending request:`,r),f.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=r0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YN(),h=KN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const g=a.join("");Se(Wn,`Creating RPC '${e}' stream ${r}: ${g}`,m);const E=c.createWebChannel(g,m);this.I_(E);let T=!1,S=!1;const N=new WU({Yo:D=>{S?Se(Wn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(T||(Se(Wn,`Opening RPC '${e}' stream ${r} transport.`),E.open(),T=!0),Se(Wn,`RPC '${e}' stream ${r} sending:`,D),E.send(D))},Zo:()=>E.close()}),U=(D,q,B)=>{D.listen(q,(H=>{try{B(H)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return U(E,Yu.EventType.OPEN,(()=>{S||(Se(Wn,`RPC '${e}' stream ${r} transport opened.`),N.o_())})),U(E,Yu.EventType.CLOSE,(()=>{S||(S=!0,Se(Wn,`RPC '${e}' stream ${r} transport closed`),N.a_(),this.E_(E))})),U(E,Yu.EventType.ERROR,(D=>{S||(S=!0,oc(Wn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),N.a_(new Te(ue.UNAVAILABLE,"The operation could not be completed")))})),U(E,Yu.EventType.MESSAGE,(D=>{var q;if(!S){const B=D.data[0];yt(!!B,16349);const H=B,ee=(H==null?void 0:H.error)||((q=H[0])==null?void 0:q.error);if(ee){Se(Wn,`RPC '${e}' stream ${r} received error:`,ee);const re=ee.status;let F=(function(I){const V=Tn[I];if(V!==void 0)return D1(V)})(re),C=ee.message;F===void 0&&(F=ue.INTERNAL,C="Unknown error status: "+re+" with message "+ee.message),S=!0,N.a_(new Te(F,C)),E.close()}else Se(Wn,`RPC '${e}' stream ${r} received:`,B),N.u_(B)}})),U(h,$N.STAT_EVENT,(D=>{D.stat===Ky.PROXY?Se(Wn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Ky.NOPROXY&&Se(Wn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n){return new nU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&Se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="PersistentStream";class $1{constructor(e,t,i,r,a,c,h,m){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new Te(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(ab,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Se(ab,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZU extends $1{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oU(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ge.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?qi(c.readTime):Ge.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=i0(this.serializer),t.addTarget=(function(a,c){let h;const m=c.target;if(h=Xy(m)?{documents:lU(a,m)}:{query:cU(a,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=P1(a,c.resumeToken);const f=t0(a,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(Ge.min())>0){h.readTime=$f(a,c.snapshotVersion.toTimestamp());const f=t0(a,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const i=dU(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=i0(this.serializer),t.removeTarget=e,this.q_(t)}}class e3 extends $1{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aU(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=i0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>O1(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{}class n3 extends t3{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,n0(t,i),r,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ue.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,n0(t,i),r,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class i3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class s3{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Qa(this)&&(Se($a,"Restarting streams for network reachability change."),await(async function(m){const f=Ke(m);f.Ea.add(4),await Pd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Pm(f)})(this))}))})),this.Ra=new i3(i,r)}}async function Pm(n){if(Qa(n))for(const e of n.da)await e(!0)}async function Pd(n){for(const e of n.da)await e(!1)}function K1(n,e){const t=Ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vv(t)?yv(t):Cc(t).O_()&&gv(t,e))}function pv(n,e){const t=Ke(n),i=Cc(t);t.Ia.delete(e),i.O_()&&Y1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Qa(t)&&t.Ra.set("Unknown"))}function gv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cc(n).Y_(e)}function Y1(n,e){n.Va.Ue(e),Cc(n).Z_(e)}function yv(n){n.Va=new X5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Cc(n).start(),n.Ra.ua()}function vv(n){return Qa(n)&&!Cc(n).x_()&&n.Ia.size>0}function Qa(n){return Ke(n).Ea.size===0}function J1(n){n.Va=void 0}async function r3(n){n.Ra.set("Online")}async function o3(n){n.Ia.forEach(((e,t)=>{gv(n,e)}))}async function a3(n,e){J1(n),vv(n)?(n.Ra.ha(e),yv(n)):n.Ra.set("Unknown")}async function l3(n,e,t){if(n.Ra.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(r,a){const c=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){Se($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jf(n,i)}else if(e instanceof Nf?n.Va.Ze(e):e instanceof M1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ge.min()))try{const i=await z1(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,f)=>{const g=a.Ia.get(m);if(!g)return;a.Ia.set(m,g.withResumeToken(Gn.EMPTY_BYTE_STRING,g.snapshotVersion)),Y1(a,m);const E=new Mo(g.target,m,f,g.sequenceNumber);gv(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){Se($a,"Failed to raise snapshot:",i),await Jf(n,i)}}async function Jf(n,e,t){if(!Nc(e))throw e;n.Ea.add(1),await Pd(n),n.Ra.set("Offline"),t||(t=()=>z1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Se($a,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pm(n)}))}function Q1(n,e){return e().catch((t=>Jf(n,t,e)))}async function Lm(n){const e=Ke(n),t=Wo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tv;for(;c3(e);)try{const r=await GU(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,u3(e,r)}catch(r){await Jf(e,r)}W1(e)&&X1(e)}function c3(n){return Qa(n)&&n.Ta.length<10}function u3(n,e){n.Ta.push(e);const t=Wo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function W1(n){return Qa(n)&&!Wo(n).x_()&&n.Ta.length>0}function X1(n){Wo(n).start()}async function d3(n){Wo(n).ra()}async function h3(n){const e=Wo(n);for(const t of n.Ta)e.ea(t.mutations)}async function f3(n,e,t){const i=n.Ta.shift(),r=av.from(i,e,t);await Q1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Lm(n)}async function m3(n,e){e&&Wo(n).X_&&await(async function(i,r){if((function(c){return R1(c)&&c!==ue.ABORTED})(r.code)){const a=i.Ta.shift();Wo(i).B_(),await Q1(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Lm(i)}})(n,e),W1(n)&&X1(n)}async function lb(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Se($a,"RemoteStore received new credentials");const i=Qa(t);t.Ea.add(3),await Pd(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pm(t)}async function p3(n,e){const t=Ke(n);e?(t.Ea.delete(2),await Pm(t)):e||(t.Ea.add(2),await Pd(t),t.Ra.set("Unknown"))}function Cc(n){return n.ma||(n.ma=(function(t,i,r){const a=Ke(t);return a.sa(),new ZU(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:r3.bind(null,n),t_:o3.bind(null,n),r_:a3.bind(null,n),H_:l3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),vv(n)?yv(n):n.Ra.set("Unknown")):(await n.ma.stop(),J1(n))}))),n.ma}function Wo(n){return n.fa||(n.fa=(function(t,i,r){const a=Ke(t);return a.sa(),new e3(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:d3.bind(null,n),r_:m3.bind(null,n),ta:h3.bind(null,n),na:f3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Lm(n)):(await n.fa.stop(),n.Ta.length>0&&(Se($a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,h=new _v(e,t,c,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(n,e){if(Or("AsyncQueue",`${e}: ${n}`),Nc(n))return new Te(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=Ju(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.ga=new tn(Pe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class hc{constructor(e,t,i,r,a,c,h,m,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new hc(e,t,Xl.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y3{constructor(){this.queries=ub(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ke(t),a=r.queries;r.queries=ub(),a.forEach(((c,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new Te(ue.ABORTED,"Firestore shutting down"))}}function ub(){return new Ja((n=>g1(n)),Nm)}async function Ev(n,e){const t=Ke(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new g3,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=xv(c,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&wv(t)}async function Tv(n,e){const t=Ke(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function v3(n,e){const t=Ke(n);let i=!1;for(const r of e){const a=r.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&wv(t)}function _3(n,e,t){const i=Ke(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function wv(n){n.Ca.forEach((e=>{e.next()}))}var o0,db;(db=o0||(o0={})).Ma="default",db.Cache="cache";class bv{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new hc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class x3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=y1(e),this.tu=new Xl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new cb,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,E)=>{const T=r.get(g),S=Im(this.query,E)?E:null,N=!!T&&this.mutatedKeys.has(T.key),U=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;T&&S?T.data.isEqual(S.data)?N!==U&&(i.track({type:3,doc:S}),D=!0):this.su(T,S)||(i.track({type:2,doc:S}),D=!0,(m&&this.eu(S,m)>0||f&&this.eu(S,f)<0)&&(h=!0)):!T&&S?(i.track({type:0,doc:S}),D=!0):T&&!S&&(i.track({type:1,doc:T}),D=!0,(m||f)&&(h=!0)),D&&(S?(c=c.add(S),a=U?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,E)=>(function(S,N){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:D})}};return U(S)-U(N)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],m=this.Xa.size===0&&this.current&&!r?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new hc(this.query,e.tu,a,c,e.mutatedKeys,m===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new eI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new Z1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sv="SyncEngine";class E3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T3{constructor(e){this.key=e,this.hu=!1}}class w3{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ja((h=>g1(h)),Nm),this.Iu=new Map,this.Eu=new Set,this.du=new tn(Pe.comparator),this.Au=new Map,this.Ru=new uv,this.Vu={},this.mu=new Map,this.fu=dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b3(n,e,t=!0){const i=oI(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await tI(i,e,t,!0),r}async function S3(n,e){const t=oI(n);await tI(t,e,!0,!1)}async function tI(n,e,t,i){const r=await zU(n.localStore,ir(e)),a=r.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await A3(n,e,a,c==="current",r.resumeToken)),n.isPrimaryClient&&t&&K1(n.remoteStore,r),h}async function A3(n,e,t,i,r){n.pu=(E,T,S)=>(async function(U,D,q,B){let H=D.view.ru(q);H.Cs&&(H=await ib(U.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,H))));const ee=B&&B.targetChanges.get(D.targetId),re=B&&B.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(H,U.isPrimaryClient,ee,re);return fb(U,D.targetId,F.au),F.snapshot})(n,E,T,S);const a=await ib(n.localStore,e,!0),c=new x3(e,a.Qs),h=c.ru(a.documents),m=kd.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=c.applyChanges(h,n.isPrimaryClient,m);fb(n,t,f.au);const g=new E3(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function N3(n,e,t){const i=Ke(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((c=>!Nm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await s0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&pv(i.remoteStore,r.targetId),a0(i,r.targetId)})).catch(Ac)):(a0(i,r.targetId),await s0(i.localStore,r.targetId,!0))}async function I3(n,e){const t=Ke(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),pv(t.remoteStore,i.targetId))}async function C3(n,e,t){const i=U3(n);try{const r=await(function(c,h){const m=Ke(c),f=Gt.now(),g=h.reduce(((S,N)=>S.add(N.key)),ft());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=jr(),U=ft();return m.Ns.getEntries(S,g).next((D=>{N=D,N.forEach(((q,B)=>{B.isValidDocument()||(U=U.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((D=>{E=D;const q=[];for(const B of h){const H=$5(B,E.get(B.key).overlayedDocument);H!=null&&q.push(new ia(B.key,H,l1(H.value.mapValue),Nn.exists(!0)))}return m.mutationQueue.addMutationBatch(S,f,q,h)})).next((D=>{T=D;const q=D.applyToLocalDocumentSet(E,U);return m.documentOverlayCache.saveOverlays(S,D.batchId,q)}))})).then((()=>({batchId:T.batchId,changes:_1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new tn(ht)),f=f.insert(h,m),c.Vu[c.currentUser.toKey()]=f})(i,r.batchId,t),await Ld(i,r.changes),await Lm(i.remoteStore)}catch(r){const a=xv(r,"Failed to persist write");t.reject(a)}}async function nI(n,e){const t=Ke(n);try{const i=await HU(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const c=t.Au.get(a);c&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?yt(c.hu,14607):r.removedDocuments.size>0&&(yt(c.hu,42227),c.hu=!1))})),await Ld(t,i,e)}catch(i){await Ac(i)}}function hb(n,e,t){const i=Ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const m=Ke(c);m.onlineState=h;let f=!1;m.queries.forEach(((g,E)=>{for(const T of E.Sa)T.va(h)&&(f=!0)})),f&&wv(m)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R3(n,e,t){const i=Ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let c=new tn(Pe.comparator);c=c.insert(a,Mn.newNoDocument(a,Ge.min()));const h=ft().add(a),m=new Mm(Ge.min(),new Map,new tn(ht),c,h);await nI(i,m),i.du=i.du.remove(a),i.Au.delete(e),Av(i)}else await s0(i.localStore,e,!1).then((()=>a0(i,e,t))).catch(Ac)}async function D3(n,e){const t=Ke(n),i=e.batch.batchId;try{const r=await qU(t.localStore,e);sI(t,i,null),iI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ld(t,r)}catch(r){await Ac(r)}}async function M3(n,e,t){const i=Ke(n);try{const r=await(function(c,h){const m=Ke(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return m.mutationQueue.lookupMutationBatch(f,h).next((E=>(yt(E!==null,37113),g=E.keys(),m.mutationQueue.removeMutationBatch(f,E)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>m.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);sI(i,e,t),iI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ld(i,r)}catch(r){await Ac(r)}}function iI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function sI(n,e,t){const i=Ke(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function a0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||rI(n,i)}))}function rI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Av(n))}function fb(n,e,t){for(const i of t)i instanceof Z1?(n.Ru.addReference(i.key,e),k3(n,i)):i instanceof eI?(Se(Sv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||rI(n,i.key)):Fe(19791,{wu:i})}function k3(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Se(Sv,"New document in limbo: "+t),n.Eu.add(i),Av(n))}function Av(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Pe(Mt.fromString(e)),i=n.fu.next();n.Au.set(i,new T3(t)),n.du=n.du.insert(t,i),K1(n.remoteStore,new Mo(ir(Am(t.path)),i,"TargetPurposeLimboResolution",bm.ce))}}async function Ld(n,e,t){const i=Ke(n),r=[],a=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,t).then((f=>{var g;if((f||t)&&i.isPrimaryClient){const E=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(f){r.push(f);const E=hv.As(m.targetId,f);a.push(E)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(m,f){const g=Ke(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>fe.forEach(f,(T=>fe.forEach(T.Es,(S=>g.persistence.referenceDelegate.addReference(E,T.targetId,S))).next((()=>fe.forEach(T.ds,(S=>g.persistence.referenceDelegate.removeReference(E,T.targetId,S)))))))))}catch(E){if(!Nc(E))throw E;Se(fv,"Failed to update sequence numbers: "+E)}for(const E of f){const T=E.targetId;if(!E.fromCache){const S=g.Ms.get(T),N=S.snapshotVersion,U=S.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(T,U)}}})(i.localStore,a))}async function P3(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Se(Sv,"User change. New user:",e.toKey());const i=await G1(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((m=>{m.reject(new Te(ue.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ld(t,i.Ls)}}function L3(n,e){const t=Ke(n),i=t.Au.get(e);if(i&&i.hu)return ft().add(i.key);{let r=ft();const a=t.Iu.get(e);if(!a)return r;for(const c of a){const h=t.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function oI(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R3.bind(null,e),e.Pu.H_=v3.bind(null,e.eventManager),e.Pu.yu=_3.bind(null,e.eventManager),e}function U3(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M3.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return FU(this.persistence,new VU,e.initialUser,this.serializer)}Cu(e){return new B1(dv.mi,this.serializer)}Du(e){return new KU}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class V3 extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){yt(this.persistence.referenceDelegate instanceof Yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TU(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new B1((i=>Yf.mi(i,t)),this.serializer)}}class l0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P3.bind(null,this.syncEngine),await p3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y3})()}createDatastore(e){const t=km(e.databaseInfo.databaseId),i=(function(a){return new XU(a)})(e.databaseInfo);return(function(a,c,h,m){return new n3(a,c,h,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,c,h){return new s3(i,r,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>hb(this.syncEngine,t,0)),(function(){return ob.v()?new ob:new YU})())}createSyncEngine(e,t){return(function(r,a,c,h,m,f,g){const E=new w3(r,a,c,h,m,f);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const a=Ke(r);Se($a,"RemoteStore shutting down."),a.Ea.add(5),await Pd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}l0.provider={build:()=>new l0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Te(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(r,a){const c=Ke(r),h={documents:a.map((E=>Kf(c.serializer,E)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Mt.emptyPath(),h,a.length),f=new Map;m.forEach((E=>{const T=rU(c.serializer,E);f.set(T.key.toString(),T)}));const g=[];return a.forEach((E=>{const T=f.get(E.toString());yt(!!T,55234,{key:E}),g.push(T)})),g})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const r=Pe.fromPath(i);this.mutations.push(new C1(r,this.precondition(r)))})),await(async function(i,r){const a=Ke(i),c={writes:r.map((h=>O1(a.serializer,h)))};await a.Go("Commit",a.serializer.databaseId,Mt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fe(50498,{Gu:e.constructor.name});t=Ge.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Te(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ge.min())?Nn.exists(!1):Nn.updateTime(t):Nn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ge.min()))throw new Te(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(t)}return Nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.zu=i.maxAttempts,this.M_=new mv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new O3(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((r=>{this.Yu(r)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Dd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!R1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="FirestoreClient";class F3{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xn.UNAUTHENTICATED,this.clientId=ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{Se(Xo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Se(Xo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=xv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function by(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Xo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await G1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function mb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await q3(n);Se(Xo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>lb(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>lb(e.remoteStore,r))),n._onlineComponents=e}async function q3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Xo,"Using user provided OfflineComponentProvider");try{await by(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ue.FAILED_PRECONDITION||r.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await by(n,new Qf)}}else Se(Xo,"Using default OfflineComponentProvider"),await by(n,new V3(void 0));return n._offlineComponents}async function Iv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Xo,"Using user provided OnlineComponentProvider"),await mb(n,n._uninitializedComponentsProvider._online)):(Se(Xo,"Using default OnlineComponentProvider"),await mb(n,new l0))),n._onlineComponents}function H3(n){return Iv(n).then((e=>e.syncEngine))}function B3(n){return Iv(n).then((e=>e.datastore))}async function Wf(n){const e=await Iv(n),t=e.eventManager;return t.onListen=b3.bind(null,e.syncEngine),t.onUnlisten=N3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I3.bind(null,e.syncEngine),t}function G3(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,m,f){const g=new Nv({next:T=>{g.Nu(),c.enqueueAndForget((()=>Tv(a,E)));const S=T.docs.has(h);!S&&T.fromCache?f.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&m&&m.source==="server"?f.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new bv(Am(h.path),g,{includeMetadataChanges:!0,qa:!0});return Ev(a,E)})(await Wf(n),n.asyncQueue,e,t,i))),i.promise}function z3(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,m,f){const g=new Nv({next:T=>{g.Nu(),c.enqueueAndForget((()=>Tv(a,E))),T.fromCache&&m.source==="server"?f.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new bv(h,g,{includeMetadataChanges:!0,qa:!0});return Ev(a,E)})(await Wf(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firestore.googleapis.com",gb=!0;class yb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lI,this.ssl=gb}else this.host=e.host,this.ssl=e.ssl??gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xU)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Um{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new QL;switch(i.type){case"firstParty":return new e5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=pb.get(t);i&&(Se("ComponentProvider","Removing Datastore"),pb.delete(t),i.terminate())})(this),Promise.resolve()}}function $3(n,e,t,i={}){var f;n=li(n,Um);const r=Tc(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(VN(`https://${h}`),ON("Firestore",!0)),a.host!==lI&&a.host!==h&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:h,ssl:r,emulatorOptions:i};if(!$o(m,c)&&(n._setSettings(m),i.mockUserToken)){let g,E;if(typeof i.mockUserToken=="string")g=i.mockUserToken,E=Xn.MOCK_USER;else{g=x4(i.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xn(T)}n._authCredentials=new WL(new QN(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class en{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Rd(t,en._jsonSchema))return new en(e,i||null,new Pe(Mt.fromString(t.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Sn("string",en._jsonSchemaVersion),referencePath:Sn("string")};class jo extends sa{constructor(e,t,i){super(e,t,Am(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Pe(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function cs(n,e,...t){if(n=Ve(n),WN("collection","path",e),n instanceof Um){const i=Mt.fromString(e,...t);return Rw(i),new jo(n,null,i)}{if(!(n instanceof en||n instanceof jo))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return Rw(i),new jo(n.firestore,null,i)}}function un(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=ev.newId()),WN("doc","path",e),n instanceof Um){const i=Mt.fromString(e,...t);return Cw(i),new en(n,null,new Pe(i))}{if(!(n instanceof en||n instanceof jo))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return Cw(i),new en(n.firestore,n instanceof jo?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="AsyncQueue";class _b{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mv(this,"async_queue_retry"),this._c=()=>{const i=wy();i&&Se(vb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=wy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=wy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nc(e))throw e;Se(vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",xb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=_v.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Fe(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class ar extends Um{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new _b,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _b(e),this._firestoreClient=void 0,await e}}}function K3(n,e){const t=typeof n=="object"?n:X0(),i=typeof n=="string"?n:Hf,r=Q0(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=v4("firestore");a&&$3(r,...a)}return r}function Rc(n){if(n._terminated)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y3(n),n._firestoreClient}function Y3(n){var i,r,a;const e=n._freezeSettings(),t=(function(h,m,f,g){return new y5(h,m,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new F3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ji(Gn.fromBase64String(e))}catch(t){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ji(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rd(e,ji._jsonSchema))return ji.fromBase64String(e.bytes)}}ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:Sn("string",ji._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sr._jsonSchemaVersion}}static fromJSON(e){if(Rd(e,sr._jsonSchema))return new sr(e.latitude,e.longitude)}}sr._jsonSchemaVersion="firestore/geoPoint/1.0",sr._jsonSchema={type:Sn("string",sr._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rd(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rr(e.vectorValues);throw new Te(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Sn("string",rr._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^__.*__$/;class Q3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Md(e,this.data,t,this.fieldTransforms)}}class cI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class Vm{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uI(this.Ac)&&J3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||km(e)}Cc(e,t,i,r=!1){return new Vm({Ac:e,methodName:t,Dc:i,path:Bn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(n){const e=n._freezeSettings(),t=km(n._databaseId);return new W3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Om(n,e,t,i,r,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);kv("Data must be an object, but it was:",c,i);const h=dI(i,c);let m,f;if(a.merge)m=new Fi(c.fieldMask),f=c.fieldTransforms;else if(a.mergeFields){const g=[];for(const E of a.mergeFields){const T=c0(e,E,t);if(!c.contains(T))throw new Te(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);fI(g,T)||g.push(T)}m=new Fi(g),f=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,f=c.fieldTransforms;return new Q3(new ai(h),m,f)}class jm extends Ud{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}function X3(n,e,t){return new Vm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cv extends Ud{_toFieldTransform(e){return new A1(e.path,new _d)}isEqual(e){return e instanceof Cv}}class Rv extends Ud{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=X3(this,e,!0),i=this.vc.map((a=>kc(a,t))),r=new uc(i);return new A1(e.path,r)}isEqual(e){return e instanceof Rv&&$o(this.vc,e.vc)}}function Dv(n,e,t,i){const r=n.Cc(1,e,t);kv("Data must be an object, but it was:",r,i);const a=[],c=ai.empty();na(i,((m,f)=>{const g=Pv(e,m,t);f=Ve(f);const E=r.yc(g);if(f instanceof jm)a.push(g);else{const T=kc(f,E);T!=null&&(a.push(g),c.set(g,T))}}));const h=new Fi(a);return new cI(c,h,r.fieldTransforms)}function Mv(n,e,t,i,r,a){const c=n.Cc(1,e,t),h=[c0(e,i,t)],m=[r];if(a.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(c0(e,a[T])),m.push(a[T+1]);const f=[],g=ai.empty();for(let T=h.length-1;T>=0;--T)if(!fI(f,h[T])){const S=h[T];let N=m[T];N=Ve(N);const U=c.yc(S);if(N instanceof jm)f.push(S);else{const D=kc(N,U);D!=null&&(f.push(S),g.set(S,D))}}const E=new Fi(f);return new cI(g,E,c.fieldTransforms)}function Z3(n,e,t,i=!1){return kc(t,n.Cc(i?4:3,e))}function kc(n,e){if(hI(n=Ve(n)))return kv("Unsupported field value:",e,n),dI(n,e);if(n instanceof Ud)return(function(i,r){if(!uI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let c=0;for(const h of i){let m=kc(h,r.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return F5(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Gt.fromDate(i);return{timestampValue:$f(r.serializer,a)}}if(i instanceof Gt){const a=new Gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$f(r.serializer,a)}}if(i instanceof sr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ji)return{bytesValue:P1(r.serializer,i._byteString)};if(i instanceof en){const a=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rr)return(function(c,h){return{mapValue:{fields:{[o1]:{stringValue:a1},[Bf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return ov(h.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${wm(i)}`)})(n,e)}function dI(n,e){const t={};return e1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(n,((i,r)=>{const a=kc(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function hI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof sr||n instanceof ji||n instanceof en||n instanceof Ud||n instanceof rr)}function kv(n,e,t){if(!hI(t)||!XN(t)){const i=wm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function c0(n,e,t){if((e=Ve(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return Pv(n,e);throw Xf("Field path arguments must be of type string or ",n,!1,void 0,t)}const eV=new RegExp("[~\\*/\\[\\]]");function Pv(n,e,t){if(e.search(eV)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dc(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xf(n,e,t,i,r){const a=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new Te(ue.INVALID_ARGUMENT,h+n+m)}function fI(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tV extends Zf{data(){return super.data()}}function Fm(n,e){return typeof e=="string"?Pv(n,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{}class pI extends Lv{}function lr(n,e,...t){let i=[];e instanceof Lv&&i.push(e),i=i.concat(t),(function(a){const c=a.filter((m=>m instanceof Uv)).length,h=a.filter((m=>m instanceof qm)).length;if(c>1||c>0&&h>0)throw new Te(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class qm extends pI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qm(e,t,i)}_apply(e){const t=this._parse(e);return yI(e._query,t),new sa(e.firestore,e.converter,Zy(e._query,t))}_parse(e){const t=Mc(e.firestore);return(function(a,c,h,m,f,g,E){let T;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){wb(E,g);const N=[];for(const U of E)N.push(Tb(m,a,U));T={arrayValue:{values:N}}}else T=Tb(m,a,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||wb(E,g),T=Z3(h,c,E,g==="in"||g==="not-in");return bn.create(f,g,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Wa(n,e,t){const i=e,r=Fm("where",n);return qm._create(r,i,t)}class Uv extends Lv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ds.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let c=r;const h=a.getFlattenedFilters();for(const m of h)yI(c,m),c=Zy(c,m)})(e._query,t),new sa(e.firestore,e.converter,Zy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vv extends pI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vv(e,t)}_apply(e){const t=(function(r,a,c){if(r.startAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vd(a,c)})(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,(function(r,a){const c=r.explicitOrderBy.concat([a]);return new Ic(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function gI(n,e="asc"){const t=e,i=Fm("orderBy",n);return Vv._create(i,t)}function Tb(n,e,t){if(typeof(t=Ve(t))=="string"){if(t==="")throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(e)&&t.indexOf("/")!==-1)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!Pe.isDocumentKey(i))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ow(n,new Pe(i))}if(t instanceof en)return Ow(n,t._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(t)}.`)}function wb(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yI(n,e){const t=(function(r,a){for(const c of r)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vI{convertValue(e,t="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return na(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){var i,r,a;const t=(a=(r=(i=e.fields)==null?void 0:i[Bf].arrayValue)==null?void 0:r.values)==null?void 0:a.map((c=>pn(c.doubleValue)));return new rr(t)}convertGeoPoint(e){return new sr(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=Yo(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);yt(q1(i),9688,{name:e});const r=new gd(i.get(1),i.get(3)),a=new Pe(i.popFirst(5));return r.isEqual(t)||Or(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class nV extends vI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}class Yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends Zf{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Fm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:Sn("string",Fo._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class If extends Fo{data(e={}){return super.data(e)}}class Fa{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new If(this._firestore,this._userDataWriter,i.key,i,new Yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const m=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Yl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const m=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Yl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:iV(h.type),doc:m,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n){n=li(n,en);const e=li(n.firestore,ar);return G3(Rc(e),n._key).then((t=>xI(e,n,t)))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Sn("string",Fa._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Bm extends vI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}function fc(n){n=li(n,sa);const e=li(n.firestore,ar),t=Rc(e),i=new Bm(e);return mI(n._query),z3(t,n._query).then((r=>new Fa(e,i,n,r)))}function Gm(n,e,t){n=li(n,en);const i=li(n.firestore,ar),r=Hm(n.converter,e,t);return $m(i,[Om(Mc(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Nn.none())])}function Ka(n,e,t,...i){n=li(n,en);const r=li(n.firestore,ar),a=Mc(r);let c;return c=typeof(e=Ve(e))=="string"||e instanceof Dc?Mv(a,"updateDoc",n._key,e,t,i):Dv(a,"updateDoc",n._key,e),$m(r,[c.toMutation(n._key,Nn.exists(!0))])}function _I(n,e){const t=li(n.firestore,ar),i=un(n),r=Hm(n.converter,e);return $m(t,[Om(Mc(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Nn.exists(!1))]).then((()=>i))}function zm(n,...e){var m,f,g;n=Ve(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Eb(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Eb(e[i])){const E=e[i];e[i]=(m=E.next)==null?void 0:m.bind(E),e[i+1]=(f=E.error)==null?void 0:f.bind(E),e[i+2]=(g=E.complete)==null?void 0:g.bind(E)}let a,c,h;if(n instanceof en)c=li(n.firestore,ar),h=Am(n._key.path),a={next:E=>{e[i]&&e[i](xI(c,n,E))},error:e[i+1],complete:e[i+2]};else{const E=li(n,sa);c=li(E.firestore,ar),h=E._query;const T=new Bm(c);a={next:S=>{e[i]&&e[i](new Fa(c,T,E,S))},error:e[i+1],complete:e[i+2]},mI(n._query)}return(function(T,S,N,U){const D=new Nv(U),q=new bv(S,D,N);return T.asyncQueue.enqueueAndForget((async()=>Ev(await Wf(T),q))),()=>{D.Nu(),T.asyncQueue.enqueueAndForget((async()=>Tv(await Wf(T),q)))}})(Rc(c),h,r,a)}function $m(n,e){return(function(i,r){const a=new nr;return i.asyncQueue.enqueueAndForget((async()=>C3(await H3(i),r,a))),a.promise})(Rc(n),e)}function xI(n,e,t){const i=t.docs.get(e._key),r=new Bm(n);return new Fo(n,r,e._key,i,new Yl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,t,i){this._verifyNotCommitted();const r=ko(e,this._firestore),a=Hm(r.converter,t,i),c=Om(this._dataReader,"WriteBatch.set",r._key,a,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,Nn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=ko(e,this._firestore);let c;return c=typeof(t=Ve(t))=="string"||t instanceof Dc?Mv(this._dataReader,"WriteBatch.update",a._key,t,i,r):Dv(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ko(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(t._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ko(n,e){if((n=Ve(n)).firestore!==e)throw new Te(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mc(e)}get(e){const t=ko(e,this._firestore),i=new nV(this._firestore);return this._transaction.lookup([t._key]).then((r=>{if(!r||r.length!==1)return Fe(24041);const a=r[0];if(a.isFoundDocument())return new Zf(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Zf(this._firestore,i,t._key,null,t.converter);throw Fe(18433,{doc:a})}))}set(e,t,i){const r=ko(e,this._firestore),a=Hm(r.converter,t,i),c=Om(this._dataReader,"Transaction.set",r._key,a,r.converter!==null,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=ko(e,this._firestore);let c;return c=typeof(t=Ve(t))=="string"||t instanceof Dc?Mv(this._dataReader,"Transaction.update",a._key,t,i,r):Dv(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=ko(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV extends oV{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ko(e,this._firestore),i=new Bm(this._firestore);return super.get(e).then((r=>new Fo(this._firestore,i,t._key,r._document,new Yl(!1,!1),t.converter)))}}function lV(n,e,t){n=li(n,ar);const i={...sV,...t};return(function(a){if(a.maxAttempts<1)throw new Te(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(a,c,h){const m=new nr;return a.asyncQueue.enqueueAndForget((async()=>{const f=await B3(a);new j3(a.asyncQueue,f,h,c,m).ju()})),m.promise})(Rc(n),(r=>e(new aV(n,r))),i)}function ur(){return new Cv("serverTimestamp")}function cV(...n){return new Rv("arrayUnion",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n){return Rc(n=li(n,ar)),new rV(n,(e=>$m(n,e)))}(function(e,t=!0){(function(r){Sc=r})(bc),rc(new Ba("firestore",((i,{instanceIdentifier:r,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new ar(new XL(i.getProvider("auth-internal")),new t5(c,i.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(f.options.projectId,g)})(c,r),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Vo(Sw,Aw,e),Vo(Sw,Aw,"esm2020")})();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={PHONE:"phone",TOTP:"totp"},hV={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fV={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},mV={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},pV={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function EI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yV=gV,TI=EI,wI=new Cd("auth","Firebase",EI()),vV={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Y0("@firebase/auth");function _V(n,...e){em.logLevel<=dt.WARN&&em.warn(`Auth (${bc}): ${n}`,...e)}function Cf(n,...e){em.logLevel<=dt.ERROR&&em.error(`Auth (${bc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,...e){throw jv(n,...e)}function ci(n,...e){return jv(n,...e)}function Ov(n,e,t){const i={...TI(),[e]:t};return new Cd("auth","Firebase",i).create(e,{appName:n.name})}function kn(n){return Ov(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pc(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ai(n,"argument-error"),Ov(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wI.create(n,...e)}function ge(n,e,...t){if(!n)throw jv(e,...t)}function er(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cf(e),new Error(e)}function Fr(n,e){n||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Fv(){return bb()==="http:"||bb()==="https:"}function bb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fv()||A4()||"connection"in navigator)?navigator.onLine:!0}function EV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=w4()||N4()}get(){return xV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e){Fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bV=new Vd(3e4,6e4);function zt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $t(n,e,t,i,r={}){return SI(n,r,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=wc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:m,...a};return S4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Tc(n.emulatorConfig.host)&&(f.credentials="include"),bI.fetch()(await AI(n,n.config.apiHost,t,h),f)})}async function SI(n,e,t){n._canInitEmulator=!1;const i={...TV,...e};try{const r=new AV(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Wu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[m,f]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Wu(n,"user-disabled",c);const g=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ov(n,g,f);Ai(n,g)}}catch(r){if(r instanceof Br)throw r;Ai(n,"network-request-failed",{message:String(r)})}}async function Gr(n,e,t,i,r={}){const a=await $t(n,e,t,i,r);return"mfaPendingCredential"in a&&Ai(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function AI(n,e,t,i){const r=`${e}${t}?${i}`,a=n,c=a.config.emulator?qv(n.config,r):`${n.config.apiScheme}://${r}`;return wV.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function SV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ci(this.auth,"network-request-failed")),bV.get())})}}function Wu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ci(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n){return n!==void 0&&n.getResponse!==void 0}function Ab(n){return n!==void 0&&n.enterprise!==void 0}class NI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function II(n,e){return $t(n,"GET","/v2/recaptchaConfig",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function CV(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function tm(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n,e=!1){return Ve(n).getIdToken(e)}async function CI(n,e=!1){const t=Ve(n),i=await t.getIdToken(e),r=Km(i);ge(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:od(Sy(r.auth_time)),issuedAtTime:od(Sy(r.iat)),expirationTime:od(Sy(r.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Sy(n){return Number(n)*1e3}function Km(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const r=kN(t);return r?JSON.parse(r):(Cf("Failed to decode base64 JWT payload"),null)}catch(r){return Cf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Nb(n){const e=Km(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Br&&DV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n){var E;const e=n.auth,t=await n.getIdToken(),i=await qr(n,tm(e,{idToken:t}));ge(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=(E=r.providerUserInfo)!=null&&E.length?DI(r.providerUserInfo):[],c=kV(n.providerData,a),h=n.isAnonymous,m=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),f=h?m:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new u0(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function RI(n){const e=Ve(n);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kV(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function DI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(n,e){const t=await SI(n,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,c=await AI(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return n.emulatorConfig&&Tc(n.emulatorConfig.host)&&(m.credentials="include"),bI.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LV(n,e){return $t(n,"POST","/v2/accounts:revokeToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=Nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await PV(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,c=new Zl;return i&&(ge(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(ge(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),a&&(ge(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new MV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new u0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await qr(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await qr(this,IV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:S,providerData:N,stsTokenManager:U}=t;ge(E&&U,e,"internal-error");const D=Zl.fromJSON(this.name,U);ge(typeof E=="string",e,"internal-error"),Ro(i,e.name),Ro(r,e.name),ge(typeof T=="boolean",e,"internal-error"),ge(typeof S=="boolean",e,"internal-error"),Ro(a,e.name),Ro(c,e.name),Ro(h,e.name),Ro(m,e.name),Ro(f,e.name),Ro(g,e.name);const q=new Ns({uid:E,auth:e,email:r,emailVerified:T,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:D,createdAt:f,lastLoginAt:g});return N&&Array.isArray(N)&&(q.providerData=N.map(B=>({...B}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,t,i=!1){const r=new Zl;r.updateFromServerResponse(t);const a=new Ns({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Td(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];ge(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?DI(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),h=new Zl;h.updateFromIdToken(i);const m=new Ns({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new u0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function kr(n){Fr(n instanceof Function,"Expected a class definition");let e=Ib.get(n);return e?(Fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ib.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MI.type="NONE";const d0=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e,t){return`firebase:${n}:${e}:${t}`}class ec{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Rf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Rf("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tm(this.auth,{idToken:e}).catch(()=>{});return t?Ns._fromGetAccountInfoResponse(this.auth,t,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ec(kr(d0),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||kr(d0);const c=Rf(i,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(c);if(g){let E;if(typeof g=="string"){const T=await tm(e,{idToken:g}).catch(()=>{});if(!T)break;E=await Ns._fromGetAccountInfoResponse(e,T,g)}else E=Ns._fromJSON(e,g);f!==a&&(h=E),a=f;break}}catch{}const m=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new ec(a,e,i):(a=m[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(c)}catch{}})),new ec(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OI(e))return"Blackberry";if(jI(e))return"Webos";if(PI(e))return"Safari";if((e.includes("chrome/")||LI(e))&&!e.includes("edge/"))return"Chrome";if(VI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kI(n=ei()){return/firefox\//i.test(n)}function PI(n=ei()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LI(n=ei()){return/crios\//i.test(n)}function UI(n=ei()){return/iemobile/i.test(n)}function VI(n=ei()){return/android/i.test(n)}function OI(n=ei()){return/blackberry/i.test(n)}function jI(n=ei()){return/webos/i.test(n)}function Hv(n=ei()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UV(n=ei()){var e;return Hv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function VV(){return I4()&&document.documentMode===10}function FI(n=ei()){return Hv(n)||VI(n)||jI(n)||OI(n)||/windows phone/i.test(n)||UI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n,e=[]){let t;switch(n){case"Browser":t=Cb(ei());break;case"Worker":t=`${Cb(ei())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const m=e(a);c(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(n,e={}){return $t(n,"GET","/v2/passwordPolicy",zt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=6;class qV{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new OV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tm(this,{idToken:e}),i=await Ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Zt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(a=this.redirectUser)==null?void 0:a._redirectEventId,h=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(i=m.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(kn(this));const t=e?Ve(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jV(this),t=new qV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cd("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await LV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,r);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&_V(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function dn(n){return Ve(n)}class Rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=U4(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BV(n){Od=n}function Bv(n){return Od.loadJS(n)}function GV(){return Od.recaptchaV2Script}function zV(){return Od.recaptchaEnterpriseScript}function $V(){return Od.gapiScript}function HI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=500,YV=6e4,mf=1e12;class JV{constructor(e){this.auth=e,this.counter=mf,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new XV(e,this.auth.name,t||{})),this.counter++,i}reset(e){var i;const t=e||mf;(i=this._widgets.get(t))==null||i.delete(),this._widgets.delete(t)}getResponse(e){var i;const t=e||mf;return((i=this._widgets.get(t))==null?void 0:i.getResponse())||""}async execute(e){var i;const t=e||mf;return(i=this._widgets.get(t))==null||i.execute(),""}}class QV{constructor(){this.enterprise=new WV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XV{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;ge(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=ZV(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},YV)},KV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ZV(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const e6="recaptcha-enterprise",ad="NO_RECAPTCHA";class BI{constructor(e){this.type=e6,this.auth=dn(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{II(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new NI(m);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}}).catch(m=>{h(m)})})}function r(a,c,h){const m=window.grecaptcha;Ab(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(ad)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QV().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&Ab(window.grecaptcha))r(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=zV();m.length!==0&&(m+=h),Bv(m).then(()=>{r(h,a,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function Bu(n,e,t,i=!1,r=!1){const a=new BI(n);let c;if(r)c=ad;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qo(n,e,t,i,r){var a,c;if(r==="EMAIL_PASSWORD_PROVIDER")if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Bu(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Bu(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(h)});else if(r==="PHONE_PROVIDER")if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const h=await Bu(n,e,t);return i(n,h).catch(async m=>{var f;if(((f=n._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(m.code==="auth/missing-recaptcha-token"||m.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Bu(n,e,t,!1,!0);return i(n,g)}return Promise.reject(m)})}else{const h=await Bu(n,e,t,!1,!0);return i(n,h)}else return Promise.reject(r+" provider is not supported.")}async function GI(n){const e=dn(n),t=await II(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new NI(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new BI(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,e){const t=Q0(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if($o(a,e??{}))return r;Ai(r,"already-initialized")}return t.initialize({options:e})}function t6(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $I(n,e,t){const i=dn(n);ge(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),a=KI(e),{host:c,port:h}=n6(e),m=h===null?"":`:${h}`,f={url:`${a}//${c}${m}/`},g=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ge(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ge($o(f,i.config.emulator)&&$o(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Tc(c)?(VN(`${a}//${c}${m}`),ON("Auth",!0)):r||i6()}function KI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n6(n){const e=KI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:Db(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Db(c)}}}function Db(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function i6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return $t(n,"POST","/v1/accounts:resetPassword",zt(n,e))}async function s6(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function r6(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function o6(n,e){return $t(n,"POST","/v1/accounts:update",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(n,e){return Gr(n,"POST","/v1/accounts:signInWithPassword",zt(n,e))}async function Ym(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",zt(n,e))}async function l6(n,e){return Ym(n,e)}async function c6(n,e){return Ym(n,e)}async function u6(n,e){return Ym(n,e)}async function d6(n,e){return Ym(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(n,e){return Gr(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}async function f6(n,e){return Gr(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Lc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new mc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new mc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,t,"signInWithPassword",a6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h6(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,i,"signUpPassword",r6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return f6(e,{idToken:t,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lr(n,e){return Gr(n,"POST","/v1/accounts:signInWithIdp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="http://localhost";class cr extends Lc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const c=new cr(i,r);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Lr(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lr(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lr(e,t)}buildRequest(){const e={requestUri:m6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",zt(n,e))}async function p6(n,e){return Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e))}async function g6(n,e){const t=await Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e));if(t.temporaryProof)throw Wu(n,"account-exists-with-different-credential",t);return t}const y6={USER_NOT_FOUND:"user-not-found"};async function v6(n,e){const t={...e,operation:"REAUTH"};return Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,t),y6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Lc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ho({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ho({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return p6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return g6(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return v6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:a}=e;return!i&&!t&&!r&&!a?null:new Ho({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x6(n){const e=$u(Ku(n)).link,t=e?$u(Ku(e)).deep_link_id:null,i=$u(Ku(n)).deep_link_id;return(i?$u(Ku(i)).link:null)||i||t||e||n}class Uc{constructor(e){const t=$u(Ku(e)),i=t.apiKey??null,r=t.oobCode??null,a=_6(t.mode??null);ge(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=x6(e);try{return new Uc(t)}catch{return null}}}function E6(n){return Uc.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,t){return mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Uc.parseLink(t);return ge(i,"argument-error"),mc._fromEmailAndCode(e,i.code,i.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ld extends Vc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),cr._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),cr._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ld.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ld.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:a,nonce:c,providerId:h}=e;if(!i&&!r&&!t&&!a||!h)return null;try{return new ld(h)._credential({idToken:t,accessToken:i,nonce:c,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Vc{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv=class zl extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cr._fromParams({providerId:zl.PROVIDER_ID,signInMethod:zl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zl.credentialFromTaggedObject(e)}static credentialFromError(e){return zl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return zl.credential(t,i)}catch{return null}}};Gv.GOOGLE_SIGN_IN_METHOD="google.com";Gv.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Vc{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="http://localhost";class wd extends Lc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Lr(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lr(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:a}=t;return!i||!r||!a||i!==r?null:new wd(i,a)}static _create(e,t){return new wd(e,t)}buildRequest(){return{requestUri:T6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="saml.";class nm extends zr{constructor(e){ge(e.startsWith(w6),"argument-error"),super(e)}static credentialFromResult(e){return nm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return nm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wd.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return wd._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Vc{constructor(){super("twitter.com")}static credential(e,t){return cr._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Mr.credential(t,i)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(n,e){return Gr(n,"POST","/v1/accounts:signUp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ns._fromIdTokenResponse(e,i,r),c=kb(i);return new us({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=kb(i);return new us({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function kb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(n){var r;if(Zt(n.app))return Promise.reject(kn(n));const e=dn(n);if(await e._initializationPromise,(r=e.currentUser)!=null&&r.isAnonymous)return new us({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await JI(e,{returnSecureToken:!0}),i=await us._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Br{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new im(e,t,i,r)}}function QI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(n,a,e,i):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(n,e){const t=Ve(n);await Jm(!0,t,e);const{providerUserInfo:i}=await CV(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),r=WI(i||[]);return t.providerData=t.providerData.filter(a=>r.has(a.providerId)),r.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function zv(n,e,t=!1){const i=await qr(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return us._forOperation(n,"link",i)}async function Jm(n,e,t){await Td(e);const i=WI(e.providerData),r=n===!1?"provider-already-linked":"no-such-provider";ge(i.has(t)===n,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(n,e,t=!1){const{auth:i}=n;if(Zt(i.app))return Promise.reject(kn(i));const r="reauthenticate";try{const a=await qr(n,QI(i,r,e,n),t);ge(a.idToken,i,"internal-error");const c=Km(a.idToken);ge(c,i,"internal-error");const{sub:h}=c;return ge(n.uid===h,i,"user-mismatch"),us._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ai(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,e,t=!1){if(Zt(n.app))return Promise.reject(kn(n));const i="signIn",r=await QI(n,i,e),a=await us._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function Qm(n,e){return ZI(dn(n),e)}async function eC(n,e){const t=Ve(n);return await Jm(!1,t,e.providerId),zv(t,e)}async function tC(n,e){return XI(Ve(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(n,e){return Gr(n,"POST","/v1/accounts:signInWithCustomToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(n,e){if(Zt(n.app))return Promise.reject(kn(n));const t=dn(n),i=await A6(t,{token:e,returnSecureToken:!0}),r=await us._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$v._fromServerResponse(e,t):"totpInfo"in t?Kv._fromServerResponse(e,t):Ai(e,"internal-error")}}class $v extends jd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $v(t)}}class Kv extends jd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Kv(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e,t){var i;ge(((i=t.url)==null?void 0:i.length)>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(n){const e=dn(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I6(n,e,t){const i=dn(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Wm(i,r,t),await qo(i,r,"getOobCode",c6,"EMAIL_PASSWORD_PROVIDER")}async function C6(n,e,t){await YI(Ve(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yv(n),i})}async function R6(n,e){await o6(Ve(n),{oobCode:e})}async function nC(n,e){const t=Ve(n),i=await YI(t,{oobCode:e}),r=i.requestType;switch(ge(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(i.mfaInfo,t,"internal-error");default:ge(i.email,t,"internal-error")}let a=null;return i.mfaInfo&&(a=jd._fromServerResponse(dn(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:a},operation:r}}async function D6(n,e){const{data:t}=await nC(Ve(n),e);return t.email}async function M6(n,e,t){if(Zt(n.app))return Promise.reject(kn(n));const i=dn(n),c=await qo(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JI,"EMAIL_PASSWORD_PROVIDER").catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Yv(n),m}),h=await us._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function k6(n,e,t){return Zt(n.app)?Promise.reject(kn(n)):Qm(Ve(n),ra.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yv(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(n,e,t){const i=dn(n),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(c,h){ge(h.handleCodeInApp,i,"argument-error"),h&&Wm(i,c,h)}a(r,t),await qo(i,r,"getOobCode",u6,"EMAIL_PASSWORD_PROVIDER")}function L6(n,e){const t=Uc.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function U6(n,e,t){if(Zt(n.app))return Promise.reject(kn(n));const i=Ve(n),r=ra.credentialWithLink(e,t||Ed());return ge(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Qm(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(n,e){const t=Fv()?Ed():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await V6(Ve(n),i);return r||[]}async function j6(n,e){const t=Ve(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Wm(t.auth,r,e);const{email:a}=await l6(t.auth,r);a!==n.email&&await n.reload()}async function F6(n,e,t){const i=Ve(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Wm(i.auth,a,t);const{email:c}=await d6(i.auth,a);c!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ve(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await qr(i,q6(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function B6(n,e){const t=Ve(n);return Zt(t.auth.app)?Promise.reject(kn(t.auth)):iC(t,e,null)}function G6(n,e){return iC(Ve(n),null,e)}async function iC(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const c=await qr(n,s6(i,a));await n._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(n){var r,a;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const c=(a=(r=Km(n.idToken))==null?void 0:r.firebase)==null?void 0:a.sign_in_provider;if(c){const h=c!=="anonymous"&&c!=="custom"?c:null;return new tc(i,h)}}if(!e)return null;switch(e){case"facebook.com":return new $6(i,t);case"github.com":return new K6(i,t);case"google.com":return new Y6(i,t);case"twitter.com":return new J6(i,t,n.screenName||null);case"custom":case"anonymous":return new tc(i,null);default:return new tc(i,e,t)}}class tc{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class sC extends tc{constructor(e,t,i,r){super(e,t,i),this.username=r}}class $6 extends tc{constructor(e,t){super(e,"facebook.com",t)}}class K6 extends sC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class Y6 extends tc{constructor(e,t){super(e,"google.com",t)}}class J6 extends sC{constructor(e,t,i){super(e,"twitter.com",t,i)}}function Q6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:z6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n,e){return Ve(n).setPersistence(e)}function X6(n){return GI(n)}async function Z6(n,e){return dn(n).validatePassword(e)}function rC(n,e,t,i){return Ve(n).onIdTokenChanged(e,t,i)}function oC(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function eO(n,e,t,i){return Ve(n).onAuthStateChanged(e,t,i)}function tO(n){Ve(n).useDeviceLanguage()}function nO(n,e){return Ve(n).updateCurrentUser(e)}function iO(n){return Ve(n).signOut()}function sO(n,e){return dn(n).revokeAccessToken(e)}async function rO(n){return Ve(n).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new ja("enroll",e,t)}static _fromMfaPendingCredential(e){return new ja("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return ja._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((i=e.multiFactorSession)!=null&&i.idToken)return ja._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=dn(e),r=t.customData._serverResponse,a=(r.mfaInfo||[]).map(h=>jd._fromServerResponse(i,h));ge(r.mfaPendingCredential,i,"internal-error");const c=ja._fromMfaPendingCredential(r.mfaPendingCredential);return new Jv(c,a,async h=>{const m=await h._process(i,c);delete r.mfaInfo,delete r.mfaPendingCredential;const f={...r,idToken:m.idToken,refreshToken:m.refreshToken};switch(t.operationType){case"signIn":const g=await us._fromIdTokenResponse(i,t.operationType,f);return await i._updateCurrentUser(g.user),g;case"reauthenticate":return ge(t.user,i,"internal-error"),us._forOperation(t.user,t.operationType,f);default:Ai(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function oO(n,e){var r;const t=Ve(n),i=e;return ge(e.customData.operationType,t,"argument-error"),ge((r=i.customData._serverResponse)==null?void 0:r.mfaPendingCredential,t,"argument-error"),Jv._fromError(t,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function aO(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function lO(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function cO(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function uO(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(n,e))}class Qv{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>jd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new Qv(e)}async getSession(){return ja._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,r=await this.getSession(),a=await qr(this.user,i._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const r=await qr(this.user,uO(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const Ay=new WeakMap;function dO(n){const e=Ve(n);return Ay.has(e)||Ay.set(e,Qv._fromUser(e)),Ay.get(e)}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1e3,fO=10;class lC extends aC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);VV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,fO):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const cC=lC;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e3;function Ny(n){var i;const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return((i=document.cookie.match(t))==null?void 0:i[1])??null}function Iy(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class uC{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Iy(e);if(window.cookieStore){const i=await window.cookieStore.get(t);return i==null?void 0:i.value}return Ny(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const i=Iy(e);document.cookie=`${i}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const i=Iy(e);if(window.cookieStore){const h=(f=>{const g=f.changed.find(T=>T.name===i);g&&t(g.value),f.deleted.find(T=>T.name===i)&&t(null)}),m=()=>window.cookieStore.removeEventListener("change",h);return this.listenerUnsubscribes.set(t,m),window.cookieStore.addEventListener("change",h)}let r=Ny(i);const a=setInterval(()=>{const h=Ny(i);h!==r&&(t(h),r=h)},mO),c=()=>clearInterval(a);this.listenerUnsubscribes.set(t,c)}_removeListener(e,t){const i=this.listenerUnsubscribes.get(t);i&&(i(),this.listenerUnsubscribes.delete(t))}}uC.type="COOKIE";const pO=uC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends aC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dC.type="SESSION";const Wv=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Xm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async f=>f(t.origin,a)),m=await gO(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,c;return new Promise((h,m)=>{const f=Zm("",20);r.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(E){const T=E;if(T.data.eventId===f)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(g),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function vO(n){wn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function _O(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function EO(){return Xv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebaseLocalStorageDb",TO=1,rm="firebaseLocalStorage",fC="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ep(n,e){return n.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function wO(){const n=indexedDB.deleteDatabase(hC);return new Fd(n).toPromise()}function h0(){const n=indexedDB.open(hC,TO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(rm,{keyPath:fC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(rm)?e(i):(i.close(),await wO(),e(await h0()))})})}async function Lb(n,e,t){const i=ep(n,!0).put({[fC]:e,value:t});return new Fd(i).toPromise()}async function bO(n,e){const t=ep(n,!1).get(e),i=await new Fd(t).toPromise();return i===void 0?null:i.value}function Ub(n,e){const t=ep(n,!0).delete(e);return new Fd(t).toPromise()}const SO=800,AO=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>AO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xm._getInstance(EO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await _O(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h0();return await Lb(e,sm,"1"),await Ub(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>bO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ub(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=ep(r,!1).getAll();return new Fd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const pC=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",zt(n,e))}function NO(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}function IO(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=HI("rcb"),CO=new Vd(3e4,6e4);class RO{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=wn().grecaptcha)!=null&&e.render)}load(e,t=""){return ge(DO(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Sb(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((i,r)=>{const a=wn().setTimeout(()=>{r(ci(e,"network-request-failed"))},CO.get());wn()[Cy]=()=>{wn().clearTimeout(a),delete wn()[Cy];const h=wn().grecaptcha;if(!h||!Sb(h)){r(ci(e,"internal-error"));return}const m=h.render;h.render=(f,g)=>{const E=m(f,g);return this.counter++,E},this.hostLanguage=t,i(h)};const c=`${GV()}?${wc({onload:Cy,render:"explicit",hl:t})}`;Bv(c).catch(()=>{clearTimeout(a),r(ci(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=wn().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function DO(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class MO{async load(e){return new JV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="recaptcha",kO={theme:"light",type:"image"};class PO{constructor(e,t,i={...kO}){this.parameters=i,this.type=cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof t=="string"?document.getElementById(t):t;ge(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MO:new RO,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(r=>{const a=c=>{c&&(this.tokenChangeListeners.delete(a),r(c))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=wn()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(Fv()&&!Xv(),this.auth,"internal-error"),await LO(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await NV(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function LO(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ho._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function UO(n,e,t){if(Zt(n.app))return Promise.reject(kn(n));const i=dn(n),r=await tp(i,e,Ve(t));return new Zv(r,a=>Qm(i,a))}async function VO(n,e,t){const i=Ve(n);await Jm(!1,i,"phone");const r=await tp(i.auth,e,Ve(t));return new Zv(r,a=>eC(i,a))}async function OO(n,e,t){const i=Ve(n);if(Zt(i.auth.app))return Promise.reject(kn(i.auth));const r=await tp(i.auth,e,Ve(t));return new Zv(r,a=>tC(i,a))}async function tp(n,e,t){var i;if(!n._getRecaptchaConfig())try{await GI(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r){ge(a.type==="enroll",n,"internal-error");const c={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,c,"mfaSmsEnrollment",async(g,E)=>{if(E.phoneEnrollmentInfo.captchaResponse===ad){ge((t==null?void 0:t.type)===cd,g,"argument-error");const T=await Ry(g,E,t);return Pb(g,T)}return Pb(g,E)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ge(a.type==="signin",n,"internal-error");const c=((i=r.multiFactorHint)==null?void 0:i.uid)||r.multiFactorUid;ge(c,n,"missing-multi-factor-info");const h={mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,h,"mfaSmsSignIn",async(E,T)=>{if(T.phoneSignInInfo.captchaResponse===ad){ge((t==null?void 0:t.type)===cd,E,"argument-error");const S=await Ry(E,T,t);return Vb(E,S)}return Vb(E,T)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await qo(n,a,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===ad){ge((t==null?void 0:t.type)===cd,f,"argument-error");const E=await Ry(f,g,t);return Mb(f,E)}return Mb(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function jO(n,e){const t=Ve(n);if(Zt(t.auth.app))return Promise.reject(kn(t.auth));await zv(t,e)}async function Ry(n,e,t){ge(t.type===cd,n,"argument-error");const i=await t.verify();ge(typeof i=="string",n,"argument-error");const r={...e};if("phoneEnrollmentInfo"in r){const a=r.phoneEnrollmentInfo.phoneNumber,c=r.phoneEnrollmentInfo.captchaResponse,h=r.phoneEnrollmentInfo.clientType,m=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:i,captchaResponse:c,clientType:h,recaptchaVersion:m}}),r}else if("phoneSignInInfo"in r){const a=r.phoneSignInInfo.captchaResponse,c=r.phoneSignInInfo.clientType,h=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:a,clientType:c,recaptchaVersion:h}}),r}else return Object.assign(r,{recaptchaToken:i}),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.providerId=qa.PROVIDER_ID,this.auth=dn(e)}verifyPhoneNumber(e,t){return tp(this.auth,e,Ve(t))}static credential(e,t){return Ho._fromVerification(e,t)}static credentialFromResult(e){const t=e;return qa.credentialFromTaggedObject(t)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?Ho._fromTokenResponse(t,i):null}}qa.PROVIDER_ID="phone";qa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n,e){return e?kr(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends Lc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FO(n){return ZI(n.auth,new e_(n),n.bypassAuthState)}function qO(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),XI(t,new e_(n),n.bypassAuthState)}async function HO(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),zv(t,new e_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FO;case"linkViaPopup":case"linkViaRedirect":return HO;case"reauthViaPopup":case"reauthViaRedirect":return qO;default:Ai(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Vd(2e3,1e4);async function GO(n,e,t){if(Zt(n.app))return Promise.reject(ci(n,"operation-not-supported-in-this-environment"));const i=dn(n);Pc(n,e,zr);const r=Xa(i,t);return new Pr(i,"signInViaPopup",e,r).executeNotNull()}async function zO(n,e,t){const i=Ve(n);if(Zt(i.auth.app))return Promise.reject(ci(i.auth,"operation-not-supported-in-this-environment"));Pc(i.auth,e,zr);const r=Xa(i.auth,t);return new Pr(i.auth,"reauthViaPopup",e,r,i).executeNotNull()}async function $O(n,e,t){const i=Ve(n);Pc(i.auth,e,zr);const r=Xa(i.auth,t);return new Pr(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class Pr extends gC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BO.get())};e()}}Pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="pendingRedirect",Df=new Map;class YO extends gC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const i=await JO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JO(n,e){const t=vC(e),i=yC(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}async function t_(n,e){return yC(n)._set(vC(e),"true")}function QO(n,e){Df.set(n._key(),e)}function yC(n){return kr(n._redirectPersistence)}function vC(n){return Rf(KO,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n,e,t){return XO(n,e,t)}async function XO(n,e,t){if(Zt(n.app))return Promise.reject(kn(n));const i=dn(n);Pc(n,e,zr),await i._initializationPromise;const r=Xa(i,t);return await t_(r,i),r._openRedirect(i,e,"signInViaRedirect")}function ZO(n,e,t){return ej(n,e,t)}async function ej(n,e,t){const i=Ve(n);if(Pc(i.auth,e,zr),Zt(i.auth.app))return Promise.reject(kn(i.auth));await i.auth._initializationPromise;const r=Xa(i.auth,t);await t_(r,i.auth);const a=await xC(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",a)}function tj(n,e,t){return nj(n,e,t)}async function nj(n,e,t){const i=Ve(n);Pc(i.auth,e,zr),await i.auth._initializationPromise;const r=Xa(i.auth,t);await Jm(!1,i,e.providerId),await t_(r,i.auth);const a=await xC(i);return r._openRedirect(i.auth,e,"linkViaRedirect",a)}async function ij(n,e){return await dn(n)._initializationPromise,_C(n,e,!1)}async function _C(n,e,t=!1){if(Zt(n.app))return Promise.reject(kn(n));const i=dn(n),r=Xa(i,e),c=await new YO(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}async function xC(n){const e=Zm(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=600*1e3;class rj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!EC(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function EC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cj=/^https?/;async function uj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aj(n);for(const t of e)try{if(dj(t))return}catch{}Ai(n,"unauthorized-domain")}function dj(n){const e=Ed(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!cj.test(t))return!1;if(lj.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Vd(3e4,6e4);function jb(){const n=wn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fj(n){return new Promise((e,t)=>{var r,a,c;function i(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),t(ci(n,"network-request-failed"))},timeout:hj.get()})}if((a=(r=wn().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((c=wn().gapi)!=null&&c.load)i();else{const h=HI("iframefcb");return wn()[h]=()=>{gapi.load?i():t(ci(n,"network-request-failed"))},Bv(`${$V()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function mj(n){return Mf=Mf||fj(n),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Vd(5e3,15e3),gj="__/auth/iframe",yj="emulator/auth/iframe",vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xj(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qv(e,yj):`https://${n.config.authDomain}/${gj}`,i={apiKey:e.apiKey,appName:n.name,v:bc},r=_j.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${wc(i).slice(1)}`}async function Ej(n){const e=await mj(n),t=wn().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:xj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vj,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const c=ci(n,"network-request-failed"),h=wn().setTimeout(()=>{a(c)},pj.get());function m(){wn().clearTimeout(h),r(i)}i.ping(m).then(m,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wj=500,bj=600,Sj="_blank",Aj="http://localhost";class Fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nj(n,e,t,i=wj,r=bj){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...Tj,width:i.toString(),height:r.toString(),top:a,left:c},f=ei().toLowerCase();t&&(h=LI(f)?Sj:t),kI(f)&&(e=e||Aj,m.scrollbars="yes");const g=Object.entries(m).reduce((T,[S,N])=>`${T}${S}=${N},`,"");if(UV(f)&&h!=="_self")return Ij(e||"",h),new Fb(null);const E=window.open(e||"",h,g);ge(E,n,"popup-blocked");try{E.focus()}catch{}return new Fb(E)}function Ij(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="__/auth/handler",Rj="emulator/auth/handler",Dj=encodeURIComponent("fac");async function qb(n,e,t,i,r,a){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:bc,eventId:r};if(e instanceof zr){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",L4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))c[g]=E}if(e instanceof Vc){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const m=await n._getAppCheckToken(),f=m?`#${Dj}=${encodeURIComponent(m)}`:"";return`${Mj(n)}?${wc(h).slice(1)}${f}`}function Mj({config:n}){return n.emulator?qv(n,Rj):`https://${n.authDomain}/${Cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="webStorageSupport";class kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=_C,this._overrideRedirectResult=QO}async _openPopup(e,t,i,r){var c;Fr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const a=await qb(e,t,i,Ed(),r);return Nj(e,a,Zm())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await qb(e,t,i,Ed(),r);return vO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Fr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Ej(e),i=new rj(e);return t.register("authEvent",r=>(ge(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dy,{type:Dy},r=>{var c;const a=(c=r==null?void 0:r[0])==null?void 0:c[Dy];a!==void 0&&t(!!a),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FI()||PI()||Hv()}}const TC=kj;class wC{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return er("unexpected MultiFactorSessionType")}}}class n_ extends wC{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n_(e)}_finalizeEnroll(e,t,i){return aO(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return NO(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class bC{constructor(){}static assertion(e){return n_._fromCredential(e)}}bC.FACTOR_ID="phone";class SC{static assertionForEnrollment(e,t){return bd._fromSecret(e,t)}static assertionForSignIn(e,t){return bd._fromEnrollmentId(e,t)}static async generateSecret(e){var r;const t=e;ge(typeof((r=t.user)==null?void 0:r.auth)<"u","internal-error");const i=await lO(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return np._fromStartTotpMfaEnrollmentResponse(i,t.user.auth)}}SC.FACTOR_ID="totp";class bd extends wC{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new bd(t,void 0,e)}static _fromEnrollmentId(e,t){return new bd(t,e)}async _finalizeEnroll(e,t,i){return ge(typeof this.secret<"u",e,"argument-error"),cO(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ge(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const i={verificationCode:this.otp};return IO(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i})}}class np{constructor(e,t,i,r,a,c,h){this.sessionInfo=c,this.auth=h,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new np(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(pf(e)||pf(t))&&(i=!0),i&&(pf(e)&&(e=((r=this.auth.currentUser)==null?void 0:r.email)||"unknownuser"),pf(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function pf(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var Hb="@firebase/auth",Bb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uj(n){rc(new Ba("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ge(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(n)},f=new HV(i,r,a,m);return t6(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),rc(new Ba("auth-internal",e=>{const t=dn(e.getProvider("auth").getImmediate());return(i=>new Pj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(Hb,Bb,Lj(n)),Vo(Hb,Bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=300,Oj=UN("authIdTokenMaxAge")||Vj;let Gb=null;const jj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Oj)return;const r=t==null?void 0:t.token;Gb!==r&&(Gb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Fj(n=X0()){const e=Q0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zI(n,{popupRedirectResolver:TC,persistence:[pC,cC,Wv]}),i=UN("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=jj(a.toString());oC(t,c,()=>c(t.currentUser)),rC(t,h=>c(h))}}const r=PN("auth");return r&&$I(t,`http://${r}`),t}function qj(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}BV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ci("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",qj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uj("Browser");const Ni=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:pV,ActionCodeURL:Uc,AuthCredential:Lc,AuthErrorCodes:vV,EmailAuthCredential:mc,EmailAuthProvider:ra,FacebookAuthProvider:Rr,FactorId:dV,GithubAuthProvider:Dr,GoogleAuthProvider:Gv,OAuthCredential:cr,OAuthProvider:ld,OperationType:mV,PhoneAuthCredential:Ho,PhoneAuthProvider:qa,PhoneMultiFactorGenerator:bC,ProviderId:hV,RecaptchaVerifier:PO,SAMLAuthProvider:nm,SignInMethod:fV,TotpMultiFactorGenerator:SC,TotpSecret:np,TwitterAuthProvider:Mr,applyActionCode:R6,beforeAuthStateChanged:oC,browserCookiePersistence:pO,browserLocalPersistence:cC,browserPopupRedirectResolver:TC,browserSessionPersistence:Wv,checkActionCode:nC,confirmPasswordReset:C6,connectAuthEmulator:$I,createUserWithEmailAndPassword:M6,debugErrorMap:yV,deleteUser:rO,fetchSignInMethodsForEmail:O6,getAdditionalUserInfo:Q6,getAuth:Fj,getIdToken:RV,getIdTokenResult:CI,getMultiFactorResolver:oO,getRedirectResult:ij,inMemoryPersistence:d0,indexedDBLocalPersistence:pC,initializeAuth:zI,initializeRecaptchaConfig:X6,isSignInWithEmailLink:L6,linkWithCredential:eC,linkWithPhoneNumber:VO,linkWithPopup:$O,linkWithRedirect:tj,multiFactor:dO,onAuthStateChanged:eO,onIdTokenChanged:rC,parseActionCodeURL:E6,prodErrorMap:TI,reauthenticateWithCredential:tC,reauthenticateWithPhoneNumber:OO,reauthenticateWithPopup:zO,reauthenticateWithRedirect:ZO,reload:RI,revokeAccessToken:sO,sendEmailVerification:j6,sendPasswordResetEmail:I6,sendSignInLinkToEmail:P6,setPersistence:W6,signInAnonymously:b6,signInWithCredential:Qm,signInWithCustomToken:N6,signInWithEmailAndPassword:k6,signInWithEmailLink:U6,signInWithPhoneNumber:UO,signInWithPopup:GO,signInWithRedirect:WO,signOut:iO,unlink:S6,updateCurrentUser:nO,updateEmail:B6,updatePassword:G6,updatePhoneNumber:jO,updateProfile:H6,useDeviceLanguage:tO,validatePassword:Z6,verifyBeforeUpdateEmail:F6,verifyPasswordResetCode:D6},Symbol.toStringTag,{value:"Module"})),Hj={VITE_FIREBASE_API_KEY:"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",VITE_FIREBASE_APP_ID:"1:1043628401179:web:85f8c5b0a3d7e2d8f6b4c5",VITE_FIREBASE_AUTH_DOMAIN:"moqabala-9257a.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1043628401179",VITE_FIREBASE_PROJECT_ID:"moqabala-9257a",VITE_FIREBASE_STORAGE_BUCKET:"moqabala-9257a.appspot.com"},{getAuth:Bj,GoogleAuthProvider:Gj}=Ni,Ol=Hj||{},zj={apiKey:Ol.VITE_FIREBASE_API_KEY||"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",authDomain:Ol.VITE_FIREBASE_AUTH_DOMAIN||"moqabala-9257a.firebaseapp.com",projectId:Ol.VITE_FIREBASE_PROJECT_ID||"moqabala-9257a",storageBucket:Ol.VITE_FIREBASE_STORAGE_BUCKET||"moqabala-9257a.appspot.com",messagingSenderId:Ol.VITE_FIREBASE_MESSAGING_SENDER_ID||"1038709573170",appId:Ol.VITE_FIREBASE_APP_ID||"1:1038709573170:web:15b220fd2e40bb719b5e2b",measurementId:"G-W48GY1FMT4"},AC=UL().length?X0():W0(zj),pt=K3(AC),st=Bj(AC),NC=new Gj,$e=({children:n,variant:e="primary",onClick:t,className:i="",disabled:r=!1,type:a="button"})=>{const c="px-6 py-3 rounded-lg font-bold transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",m={primary:"bg-accent text-white hover:bg-accentHover shadow-lg hover:shadow-accent/50 focus:ring-accent",outline:"border-2 border-accent text-accent hover:bg-accent hover:text-white focus:ring-accent",white:"bg-white text-primary hover:bg-gray-100 shadow-lg focus:ring-white"}[e];return u.jsx("button",{type:a,onClick:t,disabled:r,className:`${c} ${m} ${i}`,children:n})},{onAuthStateChanged:$j,signOut:Kj,sendEmailVerification:Yj}=Ni,{useNavigate:Jj,useLocation:Qj,Link:jl}=fs,zb=[{id:"home",label:""},{id:"about",label:" "},{id:"how-it-works",label:" "},{id:"pricing",label:""},{id:"team",label:" ",isPage:!0},{id:"vision",label:""},{id:"contact",label:" "}],Wj=()=>{var M;const[n,e]=O.useState(!1),[t,i]=O.useState(!1),[r,a]=O.useState(null),[c,h]=O.useState(!1),[m,f]=O.useState(!1),[g,E]=O.useState(!1),[T,S]=O.useState(!1),[N,U]=O.useState(!1),[D,q]=O.useState(!1),B=Jj(),H=Qj(),ee=O.useRef(null),re=H.pathname==="/",F=H.pathname==="/team";O.useEffect(()=>{const P=()=>{i(window.scrollY>20)};window.addEventListener("scroll",P);let L=null;const pe=$j(st,async Y=>{if(a(Y),Y){try{const se=(await Ms(un(pt,"users",Y.uid))).data(),De=se==null?void 0:se.role;f(De==="admin"||De==="maintainer"||De==="interviewer")}catch{f(!1)}S(!Y.emailVerified);const ce=lr(cs(pt,"registrations"),Wa("userId","==",Y.uid));L=zm(ce,ye=>{const se=ye.docs.some(De=>{const z=De.data().status||"pending";return["pending","reviewing","approved"].includes(z)});E(se)})}else f(!1),E(!1),S(!1),L&&L()}),Ie=Y=>{ee.current&&!ee.current.contains(Y.target)&&h(!1)};return document.addEventListener("mousedown",Ie),()=>{window.removeEventListener("scroll",P),document.removeEventListener("mousedown",Ie),pe(),L&&L()}},[]),O.useEffect(()=>{e(!1),h(!1)},[H]);const C=P=>{if(e(!1),P.isPage){B(`/${P.id}`);return}if(!re)B("/"),setTimeout(()=>{const L=document.getElementById(P.id);L&&L.scrollIntoView({behavior:"smooth"})},100);else{const L=document.getElementById(P.id);L?L.scrollIntoView({behavior:"smooth"}):P.id==="home"&&window.scrollTo({top:0,behavior:"smooth"})}},R=async()=>{if(r&&!D){q(!0);try{await Yj(r),U(!0)}catch{alert(" .   .")}finally{q(!1)}}},I=async()=>{try{await Kj(st),h(!1),B("/")}catch(P){console.error("Logout Error",P)}},V=()=>{B(r?"/request-meeting":"/login")};return u.jsxs(u.Fragment,{children:[T&&u.jsxs("div",{className:"bg-amber-500 text-white text-xs md:text-sm py-2 px-4 text-center flex items-center justify-center gap-3 fixed top-0 left-0 right-0 z-[60] animate-in slide-in-from-top duration-500",children:[u.jsx(WP,{className:"w-4 h-4"}),u.jsx("span",{children:"   .       ."}),u.jsx("button",{onClick:R,disabled:D,className:`bg-white/20 hover:bg-white/30 px-2 py-1 rounded font-bold underline transition-colors ${D?"opacity-50 cursor-not-allowed":""}`,children:D?" ...":"  "})]}),u.jsxs("header",{className:`fixed ${T?"top-8 md:top-9":"top-0"} left-0 right-0 z-50 transition-all duration-300 ${t||!re?"bg-white/95 backdrop-blur-md shadow-md py-3":"bg-transparent py-5"}`,children:[u.jsx("div",{className:"container mx-auto px-4 md:px-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>B("/"),children:[u.jsx("div",{className:"bg-accent p-2 rounded-lg",children:u.jsx("img",{src:"./logo-new.png",alt:"Logo",className:"w-8 h-8"})}),u.jsx("span",{className:`text-2xl font-bold ${t||!re?"text-primary":"text-white"}`,children:" "})]}),u.jsx("nav",{className:"hidden md:flex items-center gap-6 lg:gap-8",children:zb.map(P=>u.jsx("button",{onClick:()=>C(P),className:`text-base lg:text-lg font-medium transition-colors ${P.id==="team"&&F?"text-accent":t||!re?"text-gray-600 hover:text-accent":"text-gray-200 hover:text-white"}`,children:P.label},P.id))}),u.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r?u.jsxs("div",{className:"relative",ref:ee,children:[u.jsxs("button",{onClick:()=>h(!c),className:`flex items-center gap-2 font-medium px-3 py-2 rounded-lg transition-all ${t||!re?"text-gray-600 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center",children:u.jsx(ls,{className:`w-5 h-5 ${t||!re?"text-accent":"text-white"}`})}),u.jsx("span",{className:"max-w-[100px] truncate",children:((M=r.displayName)==null?void 0:M.split(" ")[0])||""}),u.jsx(TN,{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top-left",children:[u.jsxs("div",{className:"p-4 border-b border-gray-50 bg-gray-50/50 text-right",children:[u.jsx("p",{className:"text-xs text-gray-500",children:" "}),u.jsx("p",{className:"font-bold text-gray-900 truncate",children:r.displayName||r.email})]}),u.jsxs("div",{className:"p-2 text-right",children:[m&&u.jsxs(jl,{to:"/dashboard",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(jy,{className:"w-4 h-4"})," "]}),u.jsxs(jl,{to:"/profile",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(cw,{className:"w-4 h-4"}),""]}),u.jsxs(jl,{to:"/my-requests",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(zo,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full text-right",children:[u.jsx(hw,{className:"w-4 h-4"})," "]})]})]})]}):u.jsxs("button",{onClick:()=>B("/login"),className:`flex items-center gap-2 font-medium transition-colors ${t||!re?"text-gray-600 hover:text-accent":"text-white hover:text-gray-200"}`,children:[u.jsx(jf,{className:"w-5 h-5"})," "]}),(!r||m||!g)&&u.jsx($e,{variant:t||!re?"primary":"white",onClick:V,children:" "})]}),u.jsx("button",{className:"md:hidden p-2",onClick:()=>e(!n),children:n?u.jsx(Zs,{className:`w-8 h-8 ${t||!re?"text-primary":"text-white"}`}):u.jsx(wP,{className:`w-8 h-8 ${t||!re?"text-primary":"text-white"}`})})]})}),u.jsx("div",{className:`md:hidden absolute top-full left-0 right-0 bg-white border-t border-gray-100 shadow-xl transition-all duration-300 origin-top transform ${n?"opacity-100 scale-y-100 visible":"opacity-0 scale-y-0 invisible"}`,children:u.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[zb.map(P=>u.jsx("button",{onClick:()=>C(P),className:"text-right font-medium text-lg py-3 border-b border-gray-50 px-2 rounded hover:bg-gray-50 text-gray-700",children:P.label},P.id)),r&&u.jsxs(u.Fragment,{children:[u.jsxs(jl,{to:"/profile",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(cw,{className:"w-5 h-5 text-accent"}),""]}),u.jsxs(jl,{to:"/my-requests",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(zo,{className:"w-5 h-5 text-accent"}),""]}),m&&u.jsxs(jl,{to:"/dashboard",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(jy,{className:"w-5 h-5 text-accent"})," "]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[(!r||m||!g)&&u.jsx($e,{onClick:V,className:"w-full justify-center",children:" "}),r?u.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 p-3 text-red-600 font-bold border border-red-100 rounded-lg bg-red-50",children:[u.jsx(hw,{className:"w-5 h-5"})," "]}):u.jsxs("button",{onClick:()=>B("/login"),className:"flex items-center justify-center gap-2 p-3 text-gray-600 font-bold border border-gray-100 rounded-lg bg-gray-50",children:[u.jsx(jf,{className:"w-5 h-5"})," "]})]})]})})]}),N&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 max-w-md w-full text-center shadow-2xl animate-in zoom-in-95 duration-300 border border-gray-100",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:u.jsx(AN,{className:"w-12 h-12"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-4",children:"  !"}),u.jsxs("p",{className:"text-gray-600 mb-10 leading-relaxed text-lg",children:["    .     ",u.jsx("span",{className:"font-bold text-accent",children:"(  Spam)"}),"."]}),u.jsx($e,{variant:"primary",className:"w-full py-4 text-lg rounded-2xl shadow-accent/20",onClick:()=>U(!1),children:" "})]})})]})},{onAuthStateChanged:Xj}=Ni,{useNavigate:Zj}=fs,eF=()=>{const n=Zj(),[e,t]=O.useState(null),[i,r]=O.useState(!1),[a,c]=O.useState(!1);O.useEffect(()=>{let m=null;const f=Xj(st,async g=>{if(t(g),g){try{const S=(await Ms(un(pt,"users",g.uid))).data(),N=S==null?void 0:S.role;c(N==="admin"||N==="maintainer"||N==="interviewer")}catch{c(!1)}const E=lr(cs(pt,"registrations"),Wa("userId","==",g.uid));m=zm(E,T=>{const S=T.docs.some(N=>{const U=N.data().status||"pending";return["pending","reviewing","approved"].includes(U)});r(S)})}else r(!1),c(!1),m&&m()});return()=>{f(),m&&m()}},[]);const h=()=>{if(e){if(i&&!a)return;n("/request-meeting")}else n("/login")};return u.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center pt-28 pb-20 md:pt-20 md:pb-32 lg:pt-40 overflow-hidden bg-gradient-to-br from-secondary via-primary to-slate-800",children:[u.jsxs("div",{className:"absolute inset-0 bg-transparent z-0",children:[u.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-20 left-20 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl"})]}),u.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-16",children:[u.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-right",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/20 border border-accent/30 text-accent mb-6 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-700",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-accent"})]}),u.jsx("span",{className:"text-sm font-semibold text-white",children:"   "})]}),u.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-5xl xl:text-7xl font-bold text-white leading-tight mb-6 animate-in fade-in slide-in-from-bottom-5 delay-100 duration-700",children:[u.jsx("span",{className:"block mb-2",children:" "}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-teal-400 to-emerald-400",children:" "})]}),u.jsx("p",{className:"text-lg md:text-xl lg:text-lg xl:text-xl text-gray-300 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed animate-in fade-in slide-in-from-bottom-6 delay-200 duration-700",children:"    .                ."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-in fade-in slide-in-from-bottom-7 delay-300 duration-700",children:[(!e||a||!i)&&u.jsx($e,{variant:"primary",onClick:h,children:"  "}),u.jsxs($e,{variant:"outline",className:"text-white border-white hover:bg-white hover:!text-slate-900",onClick:()=>n("/team"),children:["  ",u.jsx(q0,{className:"mr-2 w-5 h-5 inline-block"})]})]})]}),u.jsx("div",{className:"w-full lg:w-1/2 relative mt-8 lg:mt-0",children:u.jsxs("div",{className:"relative mx-auto max-w-xs lg:max-w-[18rem] xl:max-w-sm",children:[u.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-4 border-white/5 animate-in fade-in zoom-in-95 duration-700 bg-slate-800",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/30 to-transparent z-10 pointer-none"}),u.jsx("img",{src:"./interview.jpg",alt:"Professional Interview Success",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-700"})]}),u.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-white rounded-xl shadow-xl p-4 w-56 lg:w-64 border border-gray-100 z-20 animate-in slide-in-from-bottom-8 delay-500 duration-700 hidden sm:block scale-90 lg:scale-[0.85] xl:scale-100 origin-bottom-left",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-2 mb-2",children:[u.jsx("div",{className:"bg-accent/10 p-1.5 rounded-lg",children:u.jsx(NN,{className:"w-4 h-4 text-accent"})}),u.jsx("span",{className:"font-bold text-gray-800 text-sm",children:" "})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:" "}),u.jsx("span",{className:"font-bold text-green-600",children:""})]}),u.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-green-500 h-full rounded-full",style:{width:"95%"}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:" "}),u.jsx("span",{className:"font-bold text-accent",children:"9.5/10"})]}),u.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-accent h-full rounded-full",style:{width:"92%"}})})]})]})]}),u.jsxs("div",{className:"absolute -top-6 -right-6 bg-slate-800/90 backdrop-blur-md rounded-xl shadow-lg p-3 border border-slate-700 z-20 animate-in slide-in-from-top-8 delay-700 duration-700 flex items-center gap-3 transform hover:scale-105 transition-transform scale-90 lg:scale-[0.85] xl:scale-100 origin-top-right",children:[u.jsx("div",{className:"bg-green-500 p-2 rounded-lg shadow-lg shadow-green-500/20",children:u.jsx(Ya,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-bold text-base",children:" !"}),u.jsx("p",{className:"text-xs text-gray-400",children:" "})]})]})]})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 text-gray-50 z-0",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full h-auto",children:u.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,160C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})},tF=[{title:" ",description:"             .",Icon:RN},{title:"  ",description:"                .",Icon:zo},{title:" ",description:"              .",Icon:JP},{title:"   ",description:"    (Referrers)   .        .",Icon:Ss},{title:"  ",description:"               .",Icon:NN},{title:"  ",description:"  .                .",Icon:Ec}],nF=()=>u.jsx("section",{id:"about",className:"py-20 md:py-32 bg-gray-50 overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"text-center mb-16 max-w-4xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block animate-in fade-in slide-in-from-bottom-2",children:" "}),u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 animate-in fade-in slide-in-from-bottom-3",children:["   ",u.jsx("span",{className:"text-accent",children:""}),"  "]}),u.jsx("p",{className:"text-gray-600 text-xl font-medium mb-4 animate-in fade-in slide-in-from-bottom-4 leading-relaxed",children:"             ."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:tF.map((n,e)=>u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 group transform hover:-translate-y-2",children:[u.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-2xl flex items-center justify-center mb-6 group-hover:bg-accent transition-colors duration-300 shadow-sm",children:u.jsx(n.Icon,{className:"w-8 h-8 text-accent group-hover:text-white transition-colors duration-300"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 group-hover:text-accent transition-colors",children:n.title}),u.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:n.description})]},e))})]})}),$b=[{title:" ",description:"           .",Icon:Xk},{title:" ",description:"       24        .",Icon:wN},{title:" ",description:"                 .",Icon:Sk}],iF=()=>u.jsx("section",{id:"how-it-works",className:"py-20 bg-white relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:[u.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block",children:" "}),u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6",children:["  ",u.jsx("span",{className:"text-accent",children:""})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"      .          ."})]}),u.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-3 gap-12 max-w-5xl mx-auto",children:[u.jsx("div",{className:"hidden lg:block absolute top-12 left-0 right-0 h-1 bg-gray-100 -z-10 translate-y-1/2 w-2/3 mx-auto"}),$b.map((n,e)=>u.jsxs("div",{className:"relative flex flex-col items-center text-center group",children:[u.jsxs("div",{className:"w-24 h-24 bg-white rounded-full border-4 border-gray-50 flex items-center justify-center mb-6 shadow-sm group-hover:border-accent/20 group-hover:shadow-lg transition-all duration-300 relative z-10",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center group-hover:bg-accent group-hover:text-white transition-colors duration-300",children:u.jsx(n.Icon,{className:"w-8 h-8 text-gray-400 group-hover:text-white transition-colors duration-300"})}),u.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md border-2 border-white",children:e+1})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-accent transition-colors duration-300",children:n.title}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed px-4",children:n.description}),e<$b.length-1&&u.jsx("div",{className:"lg:hidden mt-8 text-gray-200",children:u.jsx(q0,{className:"w-6 h-6 rotate-[-90deg]"})})]},e))]})]})}),{onAuthStateChanged:sF}=Ni,{useNavigate:rF}=fs,oF=()=>{const n=rF(),[e,t]=O.useState(null),[i,r]=O.useState(!1),[a,c]=O.useState(!1),[h,m]=O.useState(!0);O.useEffect(()=>{let E=null;const T=sF(st,async S=>{var N;if(t(S),S){try{const D=await Ms(un(pt,"users",S.uid));if(D.exists()){const q=(N=D.data())==null?void 0:N.role;c(q==="admin"||q==="maintainer"||q==="interviewer")}}catch{}const U=lr(cs(pt,"registrations"),Wa("userId","==",S.uid));E=zm(U,D=>{const q=D.docs.some(B=>{const H=B.data().status||"pending";return["pending","reviewing","approved"].includes(H)});r(q)})}else r(!1),c(!1),E&&E()});return()=>{T(),E&&E()}},[]);const f=E=>{if(!e)n("/login");else if(E==="referral")n("/profile");else{if(i&&!a)return;n("/request-meeting")}},g=[{id:"referral",title:" ",level:"Community & Referrals",price:"",period:"  15 ",description:"         .",features:["   (40-45 )","       "],highlight:!0,highlightText:" ",icon:dw},{id:"junior",title:" ",level:"Fresh / Junior",price:h?"$14.99":"$9.99",description:h?"      .":"      .",features:["   (40-45 )",...h?["  (20-25 )"]:[],"       ",...h?["   "]:[]],popular:h,icon:Hi},{id:"senior",title:" ",level:"Mid-Senior / Senior",price:h?"$24.9":"$19.9",description:"        .",features:["   (40-45 )",...h?["  (20-25 )"]:[],"       ",...h?["   "]:[]],icon:c4},{id:"staff",title:" ",level:"Staff / Tech Lead",price:h?"$34.9":"$29.9",description:"       .",features:["   (40-45 )",...h?["  (20-25 )"]:[],"       ",...h?["   "]:[]],icon:Ec}];return u.jsx("section",{id:"pricing",className:"py-24 bg-white relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-accent font-black tracking-[0.2em] uppercase mb-3 block",children:" "}),u.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-primary mb-6",children:["  ",u.jsx("span",{className:"text-accent",children:""})]}),u.jsx("div",{className:"max-w-2xl mx-auto mb-10 animate-in fade-in slide-in-from-bottom-4",children:u.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded-2xl p-6 shadow-sm",children:u.jsxs("p",{className:"text-gray-800 text-lg leading-relaxed",children:[u.jsx("span",{className:"font-black text-accent block mb-2",children:"     "}),"            ."]})})}),u.jsx("div",{className:"flex items-center justify-center mb-6",children:u.jsxs("div",{className:"bg-gray-100 p-1.5 rounded-[1.5rem] flex items-center shadow-inner border border-gray-200",children:[u.jsx("button",{onClick:()=>m(!1),className:`px-10 py-3 rounded-2xl text-sm font-black transition-all duration-300 ${h?"text-gray-400 hover:text-gray-600":"bg-white text-primary shadow-md"}`,children:""}),u.jsxs("button",{onClick:()=>m(!0),className:`px-10 py-3 rounded-2xl text-sm font-black transition-all duration-300 flex items-center gap-2 ${h?"bg-accent text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:["",u.jsx(Hi,{className:`w-4 h-4 ${h?"text-white":"text-gray-300"}`})]})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(E=>u.jsxs("div",{className:`relative flex flex-col p-8 rounded-[2.5rem] transition-all duration-500 group border ${E.popular?"bg-slate-900 border-primary shadow-2xl scale-105 z-10 text-white":"bg-white border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-2"} ${i&&!a&&E.id!=="referral"?"opacity-75":""}`,children:[(E.highlight||E.id==="junior"&&h)&&u.jsxs("div",{className:`absolute -top-5 left-1/2 -translate-x-1/2 px-6 py-2 rounded-full text-xs font-black shadow-lg flex items-center gap-2 whitespace-nowrap ${E.id==="referral"?"bg-purple-600 text-white":"bg-accent text-white"}`,children:[E.id==="referral"?u.jsx(dw,{className:"w-3 h-3"}):u.jsx(Wl,{className:"w-3 h-3"}),E.id==="referral"?" ":" "]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-6 shadow-inner ${E.popular?"bg-white/10 text-accent":"bg-gray-50 text-accent"}`,children:u.jsx(E.icon,{className:"w-7 h-7"})}),u.jsx("h3",{className:`text-xl font-black mb-1 ${E.popular?"text-white":"text-gray-900"}`,children:E.title}),u.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${E.popular?"text-gray-400":"text-gray-500"}`,children:E.level})]}),u.jsx("div",{className:"flex items-baseline gap-1 mb-6",children:u.jsx("span",{className:`text-4xl font-black transition-all duration-300 ${E.popular?"text-white":"text-gray-900"}`,children:E.price})}),u.jsx("div",{className:"space-y-4 mb-10",children:E.features.map((T,S)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Ik,{className:"w-4 h-4 text-accent mt-1 shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:T})]},S))}),u.jsx("div",{className:"mt-auto pt-4",children:u.jsx($e,{onClick:()=>f(E.id),disabled:i&&!a&&E.id!=="referral",className:`w-full py-4 rounded-2xl shadow-xl transition-all font-black text-sm ${E.id==="referral"?"bg-purple-600 hover:bg-purple-700":E.popular?"bg-accent hover:bg-accentHover text-white":"bg-primary hover:bg-secondary text-white"}`,children:i&&!a&&E.id!=="referral"?"  ":E.id==="referral"?" ":" "})})]},E.id))})]})})},aF=[{title:"",description:"     .",Icon:kP},{title:"",description:"     .",Icon:Ss},{title:"",description:"     .",Icon:Em},{title:"",description:"      .",Icon:_m}],lF=()=>u.jsx("section",{id:"vision",className:"py-20 bg-gray-50",children:u.jsx("div",{className:"container mx-auto px-4 md:px-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[u.jsxs("div",{className:"w-full md:w-1/3",children:[u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 relative inline-block",children:["",u.jsx("span",{className:"absolute bottom-2 left-0 w-full h-3 bg-accent/20 -z-10"})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-8",children:"          .           ."}),u.jsx("div",{className:"h-1 w-20 bg-accent rounded-full"})]}),u.jsx("div",{className:"w-full md:w-2/3",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:aF.map((n,e)=>u.jsxs("div",{className:"flex items-start gap-4 p-6 rounded-xl bg-white hover:bg-gray-50 border border-transparent hover:border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("div",{className:"shrink-0 bg-gray-50 p-3 rounded-full shadow-sm group-hover:bg-white",children:u.jsx(n.Icon,{className:"w-6 h-6 text-accent"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:n.title}),u.jsx("p",{className:"text-gray-500 text-sm",children:n.description})]})]},e))})})]})})}),cF=()=>u.jsxs(u.Fragment,{children:[u.jsx(eF,{}),u.jsx(nF,{}),u.jsx(iF,{}),u.jsx(oF,{}),u.jsx(lF,{})]}),IC="service_w3s333b",CC="ZjvVZ6fPn30HS4LdG",uF=async n=>{const e="template_ugepp1a";try{return{success:(await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:IC,template_id:e,user_id:CC,template_params:{recipient_email:n.to_email,user_name:n.from_name,user_email:n.user_email,user_phone:n.user_phone,field:n.field,level:n.level,tech_stack:n.tech_stack,expectations:n.expectations}})})).ok}}catch(t){return console.error("Admin Notification Failed:",t),{success:!1,error:t}}},ip=async n=>{const e="template_ugepp1a",t={pending:" ",reviewing:" ",approved:" (  )",completed:" (  )",canceled:""};try{return{success:(await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:IC,template_id:e,user_id:CC,template_params:{recipient_email:n.to_email,user_name:n.user_name,request_number:n.request_number,status_label:t[n.new_status]||n.new_status,message:` ${n.user_name}          (${n.request_number})   : ${t[n.new_status]||n.new_status}`}})})).ok}}catch(i){return console.error("User Notification Failed:",i),{success:!1,error:i}}},{onAuthStateChanged:dF,sendEmailVerification:hF}=Ni,{useNavigate:fF}=fs,mF="m.attia@outlook.sa",pF=()=>{const n=fF(),[e,t]=O.useState(1),[i,r]=O.useState(!1),[a,c]=O.useState(!0),[h,m]=O.useState(!1),[f,g]=O.useState(null),[E,T]=O.useState(!1),[S,N]=O.useState(!1),[U,D]=O.useState(null),[q,B]=O.useState(!1),[H,ee]=O.useState({fullName:"",email:"",country:"",whatsapp:"",linkedin:"",field:"",techStack:"",experience:0,level:"fresh",goals:[],hasInterviewExperience:"no",upcomingInterview:"no",preferredTime:"",expectations:"",planName:" ",termsAccepted:!1}),re=async se=>{se?se.emailVerified?(m(!1),D(se),se.email&&!H.email&&ee(De=>({...De,email:se.email})),se.displayName&&!H.fullName&&ee(De=>({...De,fullName:se.displayName}))):m(!0):n("/login"),c(!1)};O.useEffect(()=>{const se=dF(st,De=>{re(De)});return()=>se()},[n]);const F=async()=>{c(!0),st.currentUser&&(await st.currentUser.reload(),re(st.currentUser))},C=async()=>{if(st.currentUser&&!q){B(!0);try{await hF(st.currentUser),alert("      .")}catch{alert(" .   .")}finally{B(!1)}}},R=(se,De)=>{ee(z=>({...z,[se]:De})),g(null)},I=se=>{const De=H.goals;De.includes(se)?R("goals",De.filter(z=>z!==se)):R("goals",[...De,se])},V=se=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se),M=se=>/^\+?[0-9]{8,15}$/.test(se),P=se=>se.includes("linkedin.com/"),L=()=>H.fullName.trim().length>3&&V(H.email)&&H.country.trim().length>2&&M(H.whatsapp)&&P(H.linkedin),pe=()=>H.field!==""&&H.techStack.trim().length>0&&!isNaN(H.experience)&&H.experience>=0,Ie=()=>H.goals.length>0&&H.preferredTime!==""&&H.expectations.trim().length>=10&&H.planName!==""&&H.termsAccepted===!0,Y=()=>{e===1?L()?(t(2),g(null)):g("         (    LinkedIn)."):e===2&&(pe()?(t(3),g(null)):g("         ."))},ce=async()=>{if(!i){if(!Ie()){g("       .");return}if(!U){g("    .");return}r(!0),g(null);try{const se=`MQ-${Math.floor(1e5+Math.random()*9e5)}`;await _I(cs(pt,"registrations"),{...H,userId:U.uid,submittedAt:ur(),status:"pending",requestNumber:se}),await uF({to_email:mF,from_name:H.fullName,user_email:H.email,user_phone:H.whatsapp,field:H.field,level:H.level,tech_stack:H.techStack,expectations:H.expectations}),T(!0)}catch(se){console.error("Error submitting form: ",se),g("    .    .")}finally{r(!1)}}};if(a)return u.jsx("div",{className:"min-h-screen pt-32 flex flex-col items-center justify-center",children:u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin"})});if(h)return u.jsx("div",{className:"min-h-screen bg-gray-50 pt-32 pb-12 px-4 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] p-10 shadow-xl border border-gray-100 text-center animate-in fade-in zoom-in duration-500",children:[u.jsx("div",{className:"w-20 h-20 bg-amber-50 text-amber-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:u.jsx(vP,{className:"w-10 h-10"})}),u.jsx("h2",{className:"text-2xl font-black text-primary mb-4",children:"  "}),u.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"         .      ."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs($e,{onClick:F,className:"w-full flex items-center justify-center gap-2 py-4",children:[u.jsx(DP,{className:"w-5 h-5"}),"   "]}),u.jsx("button",{onClick:C,disabled:q,className:"text-sm font-bold text-gray-500 hover:text-accent transition-colors underline",children:q?" ...":"    "})]})]})});const ye="block w-full border rounded-lg focus:ring-accent focus:border-accent border-gray-300";return u.jsxs("div",{className:"min-h-screen bg-gray-50 pt-32 pb-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:[u.jsxs("div",{className:"max-w-3xl w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"  "}),u.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"      ."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-200 -z-10 rounded"}),u.jsx("div",{className:"absolute top-1/2 right-0 h-1 bg-accent -z-10 rounded transition-all duration-500",style:{width:`${(e-1)/2*100}%`}}),u.jsx("div",{className:"flex justify-between",children:[1,2,3].map(se=>u.jsxs("div",{className:`flex flex-col items-center bg-gray-50 px-2 ${e>=se?"text-accent":"text-gray-400"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors duration-300 ${e>=se?"border-accent bg-accent text-white":"border-gray-300 bg-white"}`,children:e>se?u.jsx(As,{className:"w-5 h-5"}):se}),u.jsx("span",{className:"text-xs font-bold mt-1",children:se===1?"":se===2?"":""})]},se))})]}),u.jsxs("div",{className:"bg-white py-8 px-6 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"  "}),u.jsx("p",{className:"text-sm text-gray-500",children:"      ."})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(ls,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:H.fullName,onChange:se=>R("fullName",se.target.value),className:`${ye} pr-10 py-3`,placeholder:":  "})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(ta,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"email",value:H.email,onChange:se=>R("email",se.target.value),className:`${ye} pr-10 py-3`,placeholder:"email@example.com"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(Nd,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"tel",value:H.whatsapp,onChange:se=>R("whatsapp",se.target.value),className:`${ye} pr-10 py-3 dir-ltr text-right`,placeholder:"+1234567890"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(_m,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:H.country,onChange:se=>R("country",se.target.value),className:`${ye} pr-10 py-3`,placeholder:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" LinkedIn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(B0,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:H.linkedin,onChange:se=>R("linkedin",se.target.value),className:`${ye} pr-10 py-3 dir-ltr text-left`,placeholder:"linkedin.com/in/username"})]})]})]})]})]}),e===2&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"    "}),u.jsx("p",{className:"text-sm text-gray-500",children:"      ."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["Frontend","Backend","Full Stack","Mobile App","UX Design","QA Testing"].map(se=>u.jsx("div",{onClick:()=>R("field",se),className:`cursor-pointer border rounded-lg p-3 text-center transition-all ${H.field===se?"border-accent bg-accent/5 text-accent font-bold ring-1 ring-accent":"border-gray-200 hover:border-gray-300 text-gray-600 text-sm"}`,children:se},se))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-3 top-3 pointer-events-none",children:u.jsx(Bk,{className:"h-5 w-5 text-gray-400"})}),u.jsx("textarea",{value:H.techStack,onChange:se=>R("techStack",se.target.value),className:`${ye} pr-10 py-3 min-h-[100px]`,placeholder:": React, Node.js, TypeScript, PostgreSQL..."})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",min:"0",value:H.experience,onChange:se=>R("experience",parseInt(se.target.value)),className:`${ye} py-3 px-4`})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:H.level,onChange:se=>R("level",se.target.value),className:`${ye} py-3 px-4`,children:[u.jsx("option",{value:"fresh",children:" (fresh)"}),u.jsx("option",{value:"junior",children:" (junior)"}),u.jsx("option",{value:"mid-senior",children:"  (mid/senior)"}),u.jsx("option",{value:"lead-staff",children:" (lead/staff)"})]})]})]})]}),e===3&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"   "}),u.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),u.jsxs("div",{className:"p-4 bg-accent/5 rounded-2xl border border-accent/20",children:[u.jsxs("label",{className:"block text-sm font-black text-accent mb-3 flex items-center gap-2",children:[u.jsx(Hi,{className:"w-4 h-4"}),"    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:[" "," "].map(se=>u.jsx("div",{onClick:()=>R("planName",se),className:`cursor-pointer border-2 rounded-xl p-3 text-center transition-all ${H.planName===se?"border-accent bg-white shadow-md text-accent font-black scale-[1.02]":"border-gray-200 bg-white text-gray-500 text-sm font-bold"}`,children:se},se))}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold px-1",children:H.planName===" "?"     ":"     "})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"space-y-2",children:["  ","    ","    ","    ","   (Referral)"].map(se=>u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:H.goals.includes(se),onChange:()=>I(se),className:"w-5 h-5 text-accent rounded focus:ring-accent"}),u.jsx("span",{className:"text-gray-700 text-sm",children:se})]},se))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:H.preferredTime,onChange:se=>R("preferredTime",se.target.value),className:`${ye} py-3 px-4`,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"morning",children:" (9 - 12)"}),u.jsx("option",{value:"evening",children:" (4 - 9)"}),u.jsx("option",{value:"flexible",children:"   "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:H.upcomingInterview,onChange:se=>R("upcomingInterview",se.target.value),className:`${ye} py-3 px-4`,children:[u.jsx("option",{value:"no",children:"  "}),u.jsx("option",{value:"yes_soon",children:"   "}),u.jsx("option",{value:"yes_later",children:"   "})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex justify-between items-center",children:[u.jsxs("span",{children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-600 px-2 py-0.5 rounded-full font-bold",children:"10   "})]}),u.jsx("textarea",{value:H.expectations,onChange:se=>R("expectations",se.target.value),className:`${ye} py-3 px-4 min-h-[100px]`,placeholder:"      "})]}),u.jsx("div",{className:"pt-4 border-t border-gray-100",children:u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",checked:H.termsAccepted,onChange:se=>R("termsAccepted",se.target.checked),className:"mt-1 w-5 h-5 text-accent rounded focus:ring-accent border-gray-300"}),u.jsxs("span",{className:"text-sm text-gray-600 group-hover:text-gray-900 transition-colors",children:["  ",u.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-accent hover:underline font-bold",children:" "}),"  ",u.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-accent hover:underline font-bold",children:" "}),"  ."]})]})})]}),f&&u.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-100 rounded-xl flex items-center gap-3 text-red-600 animate-in shake duration-500",children:[u.jsx(xc,{className:"w-5 h-5 shrink-0"}),u.jsx("p",{className:"text-sm font-medium",children:f})]}),u.jsxs("div",{className:"mt-8 flex gap-4",children:[e>1&&u.jsxs($e,{variant:"outline",onClick:()=>{t(e-1),g(null)},className:"flex-1 flex items-center justify-center gap-2",disabled:i,children:[u.jsx(vm,{className:"w-5 h-5"})," "]}),e<3?u.jsxs($e,{onClick:Y,className:"flex-1 flex items-center justify-center gap-2",children:[" ",u.jsx(ym,{className:"w-5 h-5"})]}):u.jsx($e,{onClick:ce,className:"flex-1 flex items-center justify-center gap-2 py-4",disabled:i,children:i?u.jsxs(u.Fragment,{children:[u.jsx(xt,{className:"w-6 h-6 animate-spin"}),"   ..."]}):u.jsxs(u.Fragment,{children:[u.jsx(As,{className:"w-5 h-5"}),"   "]})})]})]})]}),E&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 w-full max-w-md text-center shadow-2xl animate-in zoom-in-95 duration-300 border border-gray-100",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-inner",children:u.jsx(As,{className:"w-12 h-12"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"  !"}),u.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"  .           24   ."}),u.jsx($e,{className:"w-full py-4 rounded-2xl shadow-accent/20 text-lg",onClick:()=>n("/my-requests"),children:"  "})]})}),S&&u.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-[2rem] max-w-2xl w-full max-h-[85vh] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300 border border-gray-100 flex flex-col",children:[u.jsxs("div",{className:"bg-primary p-6 text-white flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(IN,{className:"w-6 h-6 text-accent"}),u.jsx("h3",{className:"text-xl font-bold",children:"  "})]}),u.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(Zs,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8 text-gray-700 leading-relaxed text-right",children:[u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:' ""            .                  .'})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-sm",children:"2"}),"  "]}),u.jsxs("div",{className:"mr-10 space-y-4",children:[u.jsx("p",{className:"text-gray-600",children:"           :"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"       ."}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"PayPal:"}),"    ."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"InstaPay:"}),"      ."]}),u.jsx("li",{children:"         24 ."})]})]})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-sm",children:"3"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"        .        ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-sm",children:"4"}),"  "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"  .                 ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-sm",children:"5"}),"   "]}),u.jsx("p",{className:"mr-10 text-gray-600 font-bold",children:"                   ."})]})]}),u.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-center shrink-0",children:u.jsx($e,{onClick:()=>N(!1),className:"px-12 rounded-2xl",children:"  "})})]})})]})};var gF={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yF,vF;function _F(){return{geminiUrl:yF,vertexUrl:vF}}function xF(n,e,t,i){var r,a;if(!(n!=null&&n.baseUrl)){const c=_F();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:t:(a=c.geminiUrl)!==null&&a!==void 0?a:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $r{}function we(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function y(n,e,t){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in n))if(Array.isArray(t))n[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[h])){const m=n[h];if(Array.isArray(t))for(let f=0;f<m.length;f++){const g=m[f];y(g,e.slice(a+1),t[f])}else for(const f of m)y(f,e.slice(a+1),t)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in n||(n[h]=[{}]);const m=n[h];y(m[0],e.slice(a+1),t);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function p(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const c=n[a];return Array.isArray(c)?c.map(h=>p(h,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function EF(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),a=i.split("."),c=new Set;let h=-1;for(let m=0;m<r.length;m++)if(r[m]==="*"){h=m;break}if(h!==-1&&a.length>h)for(let m=h;m<a.length;m++){const f=a[m];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&c.add(f)}f0(n,r,a,0,c)}}function f0(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2),h=n;if(c in h&&Array.isArray(h[c]))for(const m of h[c])f0(m,e,t,i+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,h=Object.keys(c).filter(f=>!f.startsWith("_")&&!r.has(f)),m={};for(const f of h)m[f]=c[f];for(const[f,g]of Object.entries(m)){const E=[];for(const T of t.slice(i))T==="*"?E.push(f):E.push(T);y(c,E,g)}for(const f of h)delete c[f]}}else{const c=n;a in c&&f0(c[a],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TF(n){const e={},t=p(n,["operationName"]);t!=null&&y(e,["operationName"],t);const i=p(n,["resourceName"]);return i!=null&&y(e,["_url","resourceName"],i),e}function wF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],SF(c)),e}function bF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],AF(c)),e}function SF(n){const e={},t=p(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>NF(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function AF(n){const e={},t=p(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>IF(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function NF(n){const e={},t=p(n,["video"]);return t!=null&&y(e,["video"],PF(t)),e}function IF(n){const e={},t=p(n,["_self"]);return t!=null&&y(e,["video"],LF(t)),e}function CF(n){const e={},t=p(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function RF(n){const e={},t=p(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function DF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],MF(c)),e}function MF(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function RC(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],kF(c)),e}function kF(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function PF(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],i_(i));const r=p(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function LF(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],i_(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kb;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Kb||(Kb={}));var Yb;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Yb||(Yb={}));var Jb;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Jb||(Jb={}));var Po;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Po||(Po={}));var Qb;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Qb||(Qb={}));var Wb;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wb||(Wb={}));var Xb;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Xb||(Xb={}));var Zb;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Zb||(Zb={}));var eS;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(eS||(eS={}));var tS;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(tS||(tS={}));var nS;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nS||(nS={}));var iS;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(iS||(iS={}));var sS;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(sS||(sS={}));var rS;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(rS||(rS={}));var oS;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(oS||(oS={}));var aS;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(aS||(aS={}));var lS;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lS||(lS={}));var cS;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(cS||(cS={}));var uS;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uS||(uS={}));var om;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(om||(om={}));var dS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dS||(dS={}));var hS;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hS||(hS={}));var fS;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fS||(fS={}));var m0;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(m0||(m0={}));var mS;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mS||(mS={}));var pS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(pS||(pS={}));var gS;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(gS||(gS={}));var yS;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(yS||(yS={}));var vS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(vS||(vS={}));var _S;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_S||(_S={}));var xS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(xS||(xS={}));var ES;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ES||(ES={}));var TS;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(TS||(TS={}));var wS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(wS||(wS={}));var bS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bS||(bS={}));var SS;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(SS||(SS={}));var AS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(AS||(AS={}));var NS;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(NS||(NS={}));var IS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(IS||(IS={}));var CS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(CS||(CS={}));var RS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(RS||(RS={}));var DS;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(DS||(DS={}));var MS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(MS||(MS={}));var kS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(kS||(kS={}));var PS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(PS||(PS={}));var LS;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(LS||(LS={}));var US;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(US||(US={}));var VS;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(VS||(VS={}));var OS;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(OS||(OS={}));var jS;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jS||(jS={}));var FS;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(FS||(FS={}));var qS;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(qS||(qS={}));var HS;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(HS||(HS={}));var BS;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(BS||(BS={}));var GS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(GS||(GS={}));var Jl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Jl||(Jl={}));class p0{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gu{get text(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const E=[];for(const T of(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[S,N]of Object.entries(T))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,f+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const E of(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[T,S]of Object.entries(E))T!=="inlineData"&&(S!==null||S!==void 0)&&g.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(f+=atob(E.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,a,c,h,m,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,a,c,h,m,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class zS{}class $S{}class UF{}class VF{}class OF{}class jF{}class KS{}class YS{}class JS{}class FF{}class am{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new am;let r;const a=e;return t?r=bF(a):r=wF(a),Object.assign(i,r),i}}class QS{}class WS{}class XS{}class ZS{}class qF{}class HF{}class BF{}class s_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new s_,a=DF(e);return Object.assign(i,a),i}}class GF{}class zF{}class $F{}class eA{}class KF{get text(){var e,t,i;let r="",a=!1;const c=[];for(const h of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[m,f]of Object.entries(h))m!=="text"&&m!=="thought"&&f!==null&&c.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,t,i;let r="";const a=[];for(const c of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(c))h!=="inlineData"&&m!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class YF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class r_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new r_,a=RC(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Et(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function DC(n,e){const t=Et(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function MC(n){return Array.isArray(n)?n.map(e=>lm(e)):[lm(n)]}function lm(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function kC(n){const e=lm(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PC(n){const e=lm(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tA(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function LC(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>tA(e)):[tA(n)]}function g0(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function nA(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function iA(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Zn(n){if(n==null)throw new Error("ContentUnion is required");return g0(n)?n:{role:"user",parts:LC(n)}}function o_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Zn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Zn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Zn(t)):[Zn(e)]}function as(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(nA(n)||iA(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zn(n)]}const e=[],t=[],i=g0(n[0]);for(const r of n){const a=g0(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(nA(r)||iA(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:LC(t)}),e}function JF(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Po).includes(t[0].toUpperCase())?t[0].toUpperCase():Po.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Po).includes(i.toUpperCase())?i.toUpperCase():Po.TYPE_UNSPECIFIED})}}function nc(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&JF(n.type,e);for(const[c,h]of Object.entries(n))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Po).includes(h.toUpperCase())?h.toUpperCase():Po.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=nc(h);else if(i.includes(c)){const m=[];for(const f of h){if(f.type=="null"){e.nullable=!0;continue}m.push(nc(f))}e[c]=m}else if(r.includes(c)){const m={};for(const[f,g]of Object.entries(h))m[f]=nc(g);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=h}return e}function a_(n){return nc(n)}function l_(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function c_(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Oc(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=nc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=nc(e.response));return n}function jc(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function QF(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Kr(n,e){if(typeof e!="string")throw new Error("name must be a string");return QF(n,e,"cachedContents")}function UC(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function oa(n){return i_(n)}function WF(n){return n!=null&&typeof n=="object"&&"name"in n}function XF(n){return n!=null&&typeof n=="object"&&"video"in n}function ZF(n){return n!=null&&typeof n=="object"&&"uri"in n}function VC(n){var e;let t;if(WF(n)&&(t=n.name),!(ZF(n)&&(t=n.uri,t===void 0))&&!(XF(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function OC(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function jC(n){for(const e of["models","tunedModels","publisherModels"])if(e9(n,e))return n[e];return[]}function e9(n,e){return n!==null&&typeof n=="object"&&e in n}function t9(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function n9(n,e={}){const t=[],i=new Set;for(const r of n){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=t9(r,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function FC(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function i9(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qC(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Fc(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function HC(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s9(n){const e={},t=p(n,["responsesFile"]);t!=null&&y(e,["fileName"],t);const i=p(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>O9(c))),y(e,["inlinedResponses"],a)}const r=p(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["inlinedEmbedContentResponses"],a)}return e}function r9(n){const e={},t=p(n,["predictionsFormat"]);t!=null&&y(e,["format"],t);const i=p(n,["gcsDestination","outputUriPrefix"]);i!=null&&y(e,["gcsUri"],i);const r=p(n,["bigqueryDestination","outputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function o9(n){const e={},t=p(n,["format"]);t!=null&&y(e,["predictionsFormat"],t);const i=p(n,["gcsUri"]);i!=null&&y(e,["gcsDestination","outputUriPrefix"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&y(e,["bigqueryDestination","outputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function kf(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata","displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["metadata","state"]);r!=null&&y(e,["state"],HC(r));const a=p(n,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const c=p(n,["metadata","endTime"]);c!=null&&y(e,["endTime"],c);const h=p(n,["metadata","updateTime"]);h!=null&&y(e,["updateTime"],h);const m=p(n,["metadata","model"]);m!=null&&y(e,["model"],m);const f=p(n,["metadata","output"]);return f!=null&&y(e,["dest"],s9(qC(f))),e}function y0(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["state"]);r!=null&&y(e,["state"],HC(r));const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["createTime"]);c!=null&&y(e,["createTime"],c);const h=p(n,["startTime"]);h!=null&&y(e,["startTime"],h);const m=p(n,["endTime"]);m!=null&&y(e,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(e,["updateTime"],f);const g=p(n,["model"]);g!=null&&y(e,["model"],g);const E=p(n,["inputConfig"]);E!=null&&y(e,["src"],a9(E));const T=p(n,["outputConfig"]);T!=null&&y(e,["dest"],r9(qC(T)));const S=p(n,["completionStats"]);return S!=null&&y(e,["completionStats"],S),e}function a9(n){const e={},t=p(n,["instancesFormat"]);t!=null&&y(e,["format"],t);const i=p(n,["gcsSource","uris"]);i!=null&&y(e,["gcsUri"],i);const r=p(n,["bigquerySource","inputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function l9(n,e){const t={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&y(t,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>V9(n,c))),y(t,["requests","requests"],a)}return t}function c9(n){const e={},t=p(n,["format"]);t!=null&&y(e,["instancesFormat"],t);const i=p(n,["gcsUri"]);i!=null&&y(e,["gcsSource","uris"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&y(e,["bigquerySource","inputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function u9(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function d9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function h9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function f9(n){const e={},t=p(n,["content"]);t!=null&&y(e,["content"],t);const i=p(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],m9(i));const r=p(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=p(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=p(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const h=p(n,["groundingMetadata"]);h!=null&&y(e,["groundingMetadata"],h);const m=p(n,["index"]);m!=null&&y(e,["index"],m);const f=p(n,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const g=p(n,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),y(e,["safetyRatings"],T)}const E=p(n,["urlContextMetadata"]);return E!=null&&y(e,["urlContextMetadata"],E),e}function m9(n){const e={},t=p(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["citations"],i)}return e}function BC(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>z9(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function p9(n,e){const t={},i=p(n,["displayName"]);if(e!==void 0&&i!=null&&y(e,["batch","displayName"],i),p(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function g9(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["dest"]);return e!==void 0&&r!=null&&y(e,["outputConfig"],o9(i9(r))),t}function sA(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["src"]);r!=null&&y(t,["batch","inputConfig"],l9(n,FC(n,r)));const a=p(e,["config"]);return a!=null&&p9(a,t),t}function y9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],Et(n,i));const r=p(e,["src"]);r!=null&&y(t,["inputConfig"],c9(FC(n,r)));const a=p(e,["config"]);return a!=null&&g9(a,t),t}function v9(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["batch","displayName"],i),t}function _9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["src"]);r!=null&&y(t,["batch","inputConfig"],A9(n,r));const a=p(e,["config"]);return a!=null&&v9(a,t),t}function x9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function E9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function T9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);return a!=null&&y(e,["error"],a),e}function w9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);return a!=null&&y(e,["error"],a),e}function b9(n,e){const t={},i=p(e,["contents"]);if(i!=null){let a=o_(n,i);Array.isArray(a)&&(a=a.map(c=>c)),y(t,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(y(t,["_self"],S9(r,t)),EF(t,{"requests[].*":"requests[].request.*"})),t}function S9(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=p(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function A9(n,e){const t={},i=p(e,["fileName"]);i!=null&&y(t,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&y(t,["requests"],b9(n,r)),t}function N9(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function I9(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C9(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function R9(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],BC(Zn(r)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const N=p(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const U=p(e,["seed"]);U!=null&&y(i,["seed"],U);const D=p(e,["responseMimeType"]);D!=null&&y(i,["responseMimeType"],D);const q=p(e,["responseSchema"]);q!=null&&y(i,["responseSchema"],a_(q));const B=p(e,["responseJsonSchema"]);if(B!=null&&y(i,["responseJsonSchema"],B),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=p(e,["safetySettings"]);if(t!==void 0&&H!=null){let L=H;Array.isArray(L)&&(L=L.map(pe=>$9(pe))),y(t,["safetySettings"],L)}const ee=p(e,["tools"]);if(t!==void 0&&ee!=null){let L=jc(ee);Array.isArray(L)&&(L=L.map(pe=>Y9(Oc(pe)))),y(t,["tools"],L)}const re=p(e,["toolConfig"]);if(t!==void 0&&re!=null&&y(t,["toolConfig"],K9(re)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);t!==void 0&&F!=null&&y(t,["cachedContent"],Kr(n,F));const C=p(e,["responseModalities"]);C!=null&&y(i,["responseModalities"],C);const R=p(e,["mediaResolution"]);R!=null&&y(i,["mediaResolution"],R);const I=p(e,["speechConfig"]);if(I!=null&&y(i,["speechConfig"],l_(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=p(e,["thinkingConfig"]);V!=null&&y(i,["thinkingConfig"],V);const M=p(e,["imageConfig"]);M!=null&&y(i,["imageConfig"],U9(M));const P=p(e,["enableEnhancedCivicAnswers"]);return P!=null&&y(i,["enableEnhancedCivicAnswers"],P),i}function D9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(f=>f9(f))),y(e,["candidates"],m)}const r=p(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=p(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=p(n,["responseId"]);c!=null&&y(e,["responseId"],c);const h=p(n,["usageMetadata"]);return h!=null&&y(e,["usageMetadata"],h),e}function M9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function k9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Fc(n,i)),t}function P9(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function L9(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function U9(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function V9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["request","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let h=as(r);Array.isArray(h)&&(h=h.map(m=>BC(m))),y(t,["request","contents"],h)}const a=p(e,["metadata"]);a!=null&&y(t,["metadata"],a);const c=p(e,["config"]);return c!=null&&y(t,["request","generationConfig"],R9(n,c,p(t,["request"],{}))),t}function O9(n){const e={},t=p(n,["response"]);t!=null&&y(e,["response"],D9(t));const i=p(n,["error"]);return i!=null&&y(e,["error"],i),e}function j9(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);if(e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),p(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function F9(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);e!==void 0&&r!=null&&y(e,["_query","pageToken"],r);const a=p(n,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),t}function q9(n){const e={},t=p(n,["config"]);return t!=null&&j9(t,e),e}function H9(n){const e={},t=p(n,["config"]);return t!=null&&F9(t,e),e}function B9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>kf(c))),y(e,["batchJobs"],a)}return e}function G9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>y0(c))),y(e,["batchJobs"],a)}return e}function z9(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],N9(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],I9(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],u9(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function $9(n){const e={},t=p(n,["category"]);if(t!=null&&y(e,["category"],t),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function K9(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],C9(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function Y9(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],P9(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],L9(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hr;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Hr||(Hr={}));class Za{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J9 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Za(Hr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=sA(this.apiClient,e),i=t._url,r=we("{model}:batchGenerateContent",i),h=t.batch.inputConfig.requests,m=h.requests,f=[];for(const g of m){const E=Object.assign({},g);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const S=E.request;S.systemInstruction=T,E.request=S}f.push(E)}return h.requests=f,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),c=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(c)i.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=y9(this.apiClient,e);return h=we("batchPredictionJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>y0(g))}else{const f=sA(this.apiClient,e);return h=we("{model}:batchGenerateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>kf(g))}}async createEmbeddingsInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_9(this.apiClient,e);return a=we("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>kf(m))}}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=k9(this.apiClient,e);return h=we("batchPredictionJobs/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>y0(g))}else{const f=M9(this.apiClient,e);return h=we("batches/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>kf(g))}}async cancel(e){var t,i,r,a;let c="",h={};if(this.apiClient.isVertexAI()){const m=h9(this.apiClient,e);c=we("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const m=d9(this.apiClient,e);c=we("batches/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=H9(e);return h=we("batchPredictionJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=G9(g),T=new eA;return Object.assign(T,E),T})}else{const f=q9(e);return h=we("batches",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=B9(g),T=new eA;return Object.assign(T,E),T})}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=E9(this.apiClient,e);return h=we("batchPredictionJobs/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>w9(g))}else{const f=x9(this.apiClient,e);return h=we("batches/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>T9(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q9(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function rA(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>_8(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function W9(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=p(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=p(n,["contents"]);if(e!==void 0&&c!=null){let g=as(c);Array.isArray(g)&&(g=g.map(E=>rA(E))),y(e,["contents"],g)}const h=p(n,["systemInstruction"]);e!==void 0&&h!=null&&y(e,["systemInstruction"],rA(Zn(h)));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(E=>E8(E))),y(e,["tools"],g)}const f=p(n,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],x8(f)),p(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function X9(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=p(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=p(n,["contents"]);if(e!==void 0&&c!=null){let E=as(c);Array.isArray(E)&&(E=E.map(T=>T)),y(e,["contents"],E)}const h=p(n,["systemInstruction"]);e!==void 0&&h!=null&&y(e,["systemInstruction"],Zn(h));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let E=m;Array.isArray(E)&&(E=E.map(T=>T8(T))),y(e,["tools"],E)}const f=p(n,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const g=p(n,["kmsKeyName"]);return e!==void 0&&g!=null&&y(e,["encryption_spec","kmsKeyName"],g),t}function Z9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],DC(n,i));const r=p(e,["config"]);return r!=null&&W9(r,t),t}function e8(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],DC(n,i));const r=p(e,["config"]);return r!=null&&X9(r,t),t}function t8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function n8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function i8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function s8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function r8(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function o8(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function a8(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function l8(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function c8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function u8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function d8(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function h8(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function f8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function m8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function p8(n){const e={},t=p(n,["config"]);return t!=null&&f8(t,e),e}function g8(n){const e={},t=p(n,["config"]);return t!=null&&m8(t,e),e}function y8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function v8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function _8(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],r8(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],o8(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],Q9(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function x8(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],a8(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function E8(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],d8(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],h8(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function T8(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>l8(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function w8(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),t}function b8(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),t}function S8(n,e){const t={},i=p(e,["name"]);i!=null&&y(t,["_url","name"],Kr(n,i));const r=p(e,["config"]);return r!=null&&w8(r,t),t}function A8(n,e){const t={},i=p(e,["name"]);i!=null&&y(t,["_url","name"],Kr(n,i));const r=p(e,["config"]);return r!=null&&b8(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N8 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Za(Hr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=e8(this.apiClient,e);return h=we("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=Z9(this.apiClient,e);return h=we("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=u8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=c8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=n8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=s8(g),T=new XS;return Object.assign(T,E),T})}else{const f=t8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=i8(g),T=new XS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=A8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=S8(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=g8(e);return h=we("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=v8(g),T=new ZS;return Object.assign(T,E),T})}else{const f=p8(e);return h=we("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=y8(g),T=new ZS;return Object.assign(T,E),T})}}}function cm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function oA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(n){return this instanceof Ye?(this.v=n,this):new Ye(n)}function Is(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(N){return Promise.resolve(N).then(S,E)}}function h(S,N){i[S]&&(r[S]=function(U){return new Promise(function(D,q){a.push([S,U,D,q])>1||m(S,U)})},N&&(r[S]=N(r[S])))}function m(S,N){try{f(i[S](N))}catch(U){T(a[0][3],U)}}function f(S){S.value instanceof Ye?Promise.resolve(S.value.v).then(g,E):T(a[0][2],S)}function g(S){m("next",S)}function E(S){m("throw",S)}function T(S,N){S(N),a.shift(),a.length&&m(a[0][0],a[0][1])}}function Cs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof oA=="function"?oA(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(c){return new Promise(function(h,m){c=n[a](c),r(h,m,c.done,c.value)})}}function r(a,c,h,m){Promise.resolve(m).then(function(f){a({value:f,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I8(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:GC(t)}function GC(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function C8(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function aA(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let a=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),a&&!GC(n[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class R8{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new D8(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class D8{constructor(e,t,i,r={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),C8(a)}async sendMessage(e){var t;await this.sendPromise;const i=Zn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,c,h;const m=await r,f=(c=(a=m.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,g=m.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];g!=null&&(T=(h=g.slice(E))!==null&&h!==void 0?h:[]);const S=f?[f]:[];this.recordHistory(i,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Zn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const t=e?aA(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Is(this,arguments,function*(){var r,a,c,h,m,f;const g=[];try{for(var E=!0,T=Cs(e),S;S=yield Ye(T.next()),r=S.done,!r;E=!0){h=S.value,E=!1;const N=h;if(I8(N)){const U=(f=(m=N.candidates)===null||m===void 0?void 0:m[0])===null||f===void 0?void 0:f.content;U!==void 0&&g.push(U)}yield yield Ye(N)}}catch(N){a={error:N}}finally{try{!E&&!r&&(c=T.return)&&(yield Ye(c.call(T)))}finally{if(a)throw a.error}}this.recordHistory(t,g)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(a=>a.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...aA(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M8(n){const e={},t=p(n,["file"]);return t!=null&&y(e,["file"],t),e}function k8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function P8(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","file"],VC(t)),e}function L8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function U8(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","file"],VC(t)),e}function V8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function O8(n){const e={},t=p(n,["config"]);return t!=null&&V8(t,e),e}function j8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F8 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Za(Hr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=O8(e);return a=we("files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=j8(m),g=new GF;return Object.assign(g,f),g})}}async createInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=M8(e);return a=we("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=k8(m),g=new zF;return Object.assign(g,f),g})}}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=U8(e);return a=we("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=P8(e);return a=we("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=L8(m),g=new $F;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function q8(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>i7(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function H8(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function B8(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G8(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function z8(n){const e={},t=p(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=p(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const r=p(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=p(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=p(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const h=p(n,["frequencyPenalty"]);h!=null&&y(e,["frequencyPenalty"],h);const m=p(n,["logprobs"]);m!=null&&y(e,["logprobs"],m);const f=p(n,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const g=p(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const E=p(n,["presencePenalty"]);E!=null&&y(e,["presencePenalty"],E);const T=p(n,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const S=p(n,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const N=p(n,["responseModalities"]);N!=null&&y(e,["responseModalities"],N);const U=p(n,["responseSchema"]);U!=null&&y(e,["responseSchema"],U);const D=p(n,["routingConfig"]);D!=null&&y(e,["routingConfig"],D);const q=p(n,["seed"]);q!=null&&y(e,["seed"],q);const B=p(n,["speechConfig"]);B!=null&&y(e,["speechConfig"],B);const H=p(n,["stopSequences"]);H!=null&&y(e,["stopSequences"],H);const ee=p(n,["temperature"]);ee!=null&&y(e,["temperature"],ee);const re=p(n,["thinkingConfig"]);re!=null&&y(e,["thinkingConfig"],re);const F=p(n,["topK"]);F!=null&&y(e,["topK"],F);const C=p(n,["topP"]);if(C!=null&&y(e,["topP"],C),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $8(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function K8(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function Y8(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],c_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=p(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const N=p(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],q8(Zn(N)));const U=p(n,["tools"]);if(e!==void 0&&U!=null){let F=jc(U);Array.isArray(F)&&(F=F.map(C=>r7(Oc(C)))),y(e,["setup","tools"],F)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&y(e,["setup","sessionResumption"],s7(D));const q=p(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","inputAudioTranscription"],q);const B=p(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","outputAudioTranscription"],B);const H=p(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const ee=p(n,["contextWindowCompression"]);e!==void 0&&ee!=null&&y(e,["setup","contextWindowCompression"],ee);const re=p(n,["proactivity"]);if(e!==void 0&&re!=null&&y(e,["setup","proactivity"],re),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function J8(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],z8(i));const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],c_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=p(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const N=p(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],Zn(N));const U=p(n,["tools"]);if(e!==void 0&&U!=null){let C=jc(U);Array.isArray(C)&&(C=C.map(R=>o7(Oc(R)))),y(e,["setup","tools"],C)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&y(e,["setup","sessionResumption"],D);const q=p(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","inputAudioTranscription"],q);const B=p(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","outputAudioTranscription"],B);const H=p(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const ee=p(n,["contextWindowCompression"]);e!==void 0&&ee!=null&&y(e,["setup","contextWindowCompression"],ee);const re=p(n,["proactivity"]);e!==void 0&&re!=null&&y(e,["setup","proactivity"],re);const F=p(n,["explicitVadSignal"]);return e!==void 0&&F!=null&&y(e,["setup","explicitVadSignal"],F),t}function Q8(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],Et(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],Y8(r,t)),t}function W8(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],Et(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],J8(r,t)),t}function X8(n){const e={},t=p(n,["musicGenerationConfig"]);return t!=null&&y(e,["musicGenerationConfig"],t),e}function Z8(n){const e={},t=p(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["weightedPrompts"],i)}return e}function e7(n){const e={},t=p(n,["media"]);if(t!=null){let f=MC(t);Array.isArray(f)&&(f=f.map(g=>Pf(g))),y(e,["mediaChunks"],f)}const i=p(n,["audio"]);i!=null&&y(e,["audio"],Pf(PC(i)));const r=p(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=p(n,["video"]);a!=null&&y(e,["video"],Pf(kC(a)));const c=p(n,["text"]);c!=null&&y(e,["text"],c);const h=p(n,["activityStart"]);h!=null&&y(e,["activityStart"],h);const m=p(n,["activityEnd"]);return m!=null&&y(e,["activityEnd"],m),e}function t7(n){const e={},t=p(n,["media"]);if(t!=null){let f=MC(t);Array.isArray(f)&&(f=f.map(g=>g)),y(e,["mediaChunks"],f)}const i=p(n,["audio"]);i!=null&&y(e,["audio"],PC(i));const r=p(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=p(n,["video"]);a!=null&&y(e,["video"],kC(a));const c=p(n,["text"]);c!=null&&y(e,["text"],c);const h=p(n,["activityStart"]);h!=null&&y(e,["activityStart"],h);const m=p(n,["activityEnd"]);return m!=null&&y(e,["activityEnd"],m),e}function n7(n){const e={},t=p(n,["setupComplete"]);t!=null&&y(e,["setupComplete"],t);const i=p(n,["serverContent"]);i!=null&&y(e,["serverContent"],i);const r=p(n,["toolCall"]);r!=null&&y(e,["toolCall"],r);const a=p(n,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const c=p(n,["usageMetadata"]);c!=null&&y(e,["usageMetadata"],a7(c));const h=p(n,["goAway"]);h!=null&&y(e,["goAway"],h);const m=p(n,["sessionResumptionUpdate"]);m!=null&&y(e,["sessionResumptionUpdate"],m);const f=p(n,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function i7(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],H8(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],B8(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],Pf(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function s7(n){const e={},t=p(n,["handle"]);if(t!=null&&y(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function r7(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],$8(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],K8(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function o7(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>G8(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function a7(n){const e={},t=p(n,["promptTokenCount"]);t!=null&&y(e,["promptTokenCount"],t);const i=p(n,["cachedContentTokenCount"]);i!=null&&y(e,["cachedContentTokenCount"],i);const r=p(n,["candidatesTokenCount"]);r!=null&&y(e,["responseTokenCount"],r);const a=p(n,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const c=p(n,["thoughtsTokenCount"]);c!=null&&y(e,["thoughtsTokenCount"],c);const h=p(n,["totalTokenCount"]);h!=null&&y(e,["totalTokenCount"],h);const m=p(n,["promptTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(N=>N)),y(e,["promptTokensDetails"],S)}const f=p(n,["cacheTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(N=>N)),y(e,["cacheTokensDetails"],S)}const g=p(n,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(N=>N)),y(e,["responseTokensDetails"],S)}const E=p(n,["toolUsePromptTokensDetails"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(N=>N)),y(e,["toolUsePromptTokensDetails"],S)}const T=p(n,["trafficType"]);return T!=null&&y(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l7(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function c7(n){const e={},t=p(n,["content"]);t!=null&&y(e,["content"],t);const i=p(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],u7(i));const r=p(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=p(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=p(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const h=p(n,["groundingMetadata"]);h!=null&&y(e,["groundingMetadata"],h);const m=p(n,["index"]);m!=null&&y(e,["index"],m);const f=p(n,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const g=p(n,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),y(e,["safetyRatings"],T)}const E=p(n,["urlContextMetadata"]);return E!=null&&y(e,["urlContextMetadata"],E),e}function u7(n){const e={},t=p(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["citations"],i)}return e}function d7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let a=as(r);Array.isArray(a)&&(a=a.map(c=>c)),y(t,["contents"],a)}return t}function h7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["tokensInfo"],r)}return e}function f7(n){const e={},t=p(n,["values"]);t!=null&&y(e,["values"],t);const i=p(n,["statistics"]);return i!=null&&y(e,["statistics"],m7(i)),e}function m7(n){const e={},t=p(n,["truncated"]);t!=null&&y(e,["truncated"],t);const i=p(n,["token_count"]);return i!=null&&y(e,["tokenCount"],i),e}function rp(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>wq(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function p7(n){const e={},t=p(n,["controlType"]);t!=null&&y(e,["controlType"],t);const i=p(n,["enableControlImageComputation"]);return i!=null&&y(e,["computeControl"],i),e}function g7(n){const e={};if(p(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function y7(n,e){const t={},i=p(n,["systemInstruction"]);e!==void 0&&i!=null&&y(e,["systemInstruction"],Zn(i));const r=p(n,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>YC(h))),y(e,["tools"],c)}const a=p(n,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],lq(a)),t}function v7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let c=as(r);Array.isArray(c)&&(c=c.map(h=>rp(h))),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&g7(a),t}function _7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let c=as(r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&y7(a,t),t}function x7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["totalTokens"]);i!=null&&y(e,["totalTokens"],i);const r=p(n,["cachedContentTokenCount"]);return r!=null&&y(e,["cachedContentTokenCount"],r),e}function E7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["totalTokens"]);return i!=null&&y(e,["totalTokens"],i),e}function T7(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],Et(n,i)),t}function w7(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],Et(n,i)),t}function b7(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function S7(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function A7(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=p(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=p(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const h=p(n,["guidanceScale"]);e!==void 0&&h!=null&&y(e,["parameters","guidanceScale"],h);const m=p(n,["seed"]);e!==void 0&&m!=null&&y(e,["parameters","seed"],m);const f=p(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&y(e,["parameters","includeSafetyAttributes"],E);const T=p(n,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const S=p(n,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const N=p(n,["outputMimeType"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","mimeType"],N);const U=p(n,["outputCompressionQuality"]);e!==void 0&&U!=null&&y(e,["parameters","outputOptions","compressionQuality"],U);const D=p(n,["addWatermark"]);e!==void 0&&D!=null&&y(e,["parameters","addWatermark"],D);const q=p(n,["labels"]);e!==void 0&&q!=null&&y(e,["labels"],q);const B=p(n,["editMode"]);e!==void 0&&B!=null&&y(e,["parameters","editMode"],B);const H=p(n,["baseSteps"]);return e!==void 0&&H!=null&&y(e,["parameters","editConfig","baseSteps"],H),t}function N7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>Cq(m))),y(t,["instances[0]","referenceImages"],h)}const c=p(e,["config"]);return c!=null&&A7(c,t),t}function I7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>op(a))),y(e,["generatedImages"],r)}return e}function C7(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=p(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function R7(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["instances[]","task_type"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["instances[]","title"],r);const a=p(n,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const c=p(n,["mimeType"]);e!==void 0&&c!=null&&y(e,["instances[]","mimeType"],c);const h=p(n,["autoTruncate"]);return e!==void 0&&h!=null&&y(e,["parameters","autoTruncate"],h),t}function D7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let h=o_(n,r);Array.isArray(h)&&(h=h.map(m=>m)),y(t,["requests[]","content"],h)}const a=p(e,["config"]);a!=null&&C7(a,t);const c=p(e,["model"]);return c!==void 0&&y(t,["requests[]","model"],Et(n,c)),t}function M7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let c=o_(n,r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["instances[]","content"],c)}const a=p(e,["config"]);return a!=null&&R7(a,t),t}function k7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["embeddings"],a)}const r=p(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function P7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>f7(c))),y(e,["embeddings"],a)}const r=p(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function L7(n){const e={},t=p(n,["endpoint"]);t!=null&&y(e,["name"],t);const i=p(n,["deployedModelId"]);return i!=null&&y(e,["deployedModelId"],i),e}function U7(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function V7(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O7(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function j7(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function F7(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],rp(Zn(r)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const N=p(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const U=p(e,["seed"]);U!=null&&y(i,["seed"],U);const D=p(e,["responseMimeType"]);D!=null&&y(i,["responseMimeType"],D);const q=p(e,["responseSchema"]);q!=null&&y(i,["responseSchema"],a_(q));const B=p(e,["responseJsonSchema"]);if(B!=null&&y(i,["responseJsonSchema"],B),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=p(e,["safetySettings"]);if(t!==void 0&&H!=null){let L=H;Array.isArray(L)&&(L=L.map(pe=>Rq(pe))),y(t,["safetySettings"],L)}const ee=p(e,["tools"]);if(t!==void 0&&ee!=null){let L=jc(ee);Array.isArray(L)&&(L=L.map(pe=>Vq(Oc(pe)))),y(t,["tools"],L)}const re=p(e,["toolConfig"]);if(t!==void 0&&re!=null&&y(t,["toolConfig"],Uq(re)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);t!==void 0&&F!=null&&y(t,["cachedContent"],Kr(n,F));const C=p(e,["responseModalities"]);C!=null&&y(i,["responseModalities"],C);const R=p(e,["mediaResolution"]);R!=null&&y(i,["mediaResolution"],R);const I=p(e,["speechConfig"]);if(I!=null&&y(i,["speechConfig"],l_(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=p(e,["thinkingConfig"]);V!=null&&y(i,["thinkingConfig"],V);const M=p(e,["imageConfig"]);M!=null&&y(i,["imageConfig"],fq(M));const P=p(e,["enableEnhancedCivicAnswers"]);return P!=null&&y(i,["enableEnhancedCivicAnswers"],P),i}function q7(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],Zn(r));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const N=p(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const U=p(e,["seed"]);U!=null&&y(i,["seed"],U);const D=p(e,["responseMimeType"]);D!=null&&y(i,["responseMimeType"],D);const q=p(e,["responseSchema"]);q!=null&&y(i,["responseSchema"],a_(q));const B=p(e,["responseJsonSchema"]);B!=null&&y(i,["responseJsonSchema"],B);const H=p(e,["routingConfig"]);H!=null&&y(i,["routingConfig"],H);const ee=p(e,["modelSelectionConfig"]);ee!=null&&y(i,["modelConfig"],ee);const re=p(e,["safetySettings"]);if(t!==void 0&&re!=null){let Y=re;Array.isArray(Y)&&(Y=Y.map(ce=>ce)),y(t,["safetySettings"],Y)}const F=p(e,["tools"]);if(t!==void 0&&F!=null){let Y=jc(F);Array.isArray(Y)&&(Y=Y.map(ce=>YC(Oc(ce)))),y(t,["tools"],Y)}const C=p(e,["toolConfig"]);t!==void 0&&C!=null&&y(t,["toolConfig"],C);const R=p(e,["labels"]);t!==void 0&&R!=null&&y(t,["labels"],R);const I=p(e,["cachedContent"]);t!==void 0&&I!=null&&y(t,["cachedContent"],Kr(n,I));const V=p(e,["responseModalities"]);V!=null&&y(i,["responseModalities"],V);const M=p(e,["mediaResolution"]);M!=null&&y(i,["mediaResolution"],M);const P=p(e,["speechConfig"]);P!=null&&y(i,["speechConfig"],l_(P));const L=p(e,["audioTimestamp"]);L!=null&&y(i,["audioTimestamp"],L);const pe=p(e,["thinkingConfig"]);pe!=null&&y(i,["thinkingConfig"],pe);const Ie=p(e,["imageConfig"]);if(Ie!=null&&y(i,["imageConfig"],mq(Ie)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function lA(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let c=as(r);Array.isArray(c)&&(c=c.map(h=>rp(h))),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&y(t,["generationConfig"],F7(n,a,t)),t}function cA(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["contents"]);if(r!=null){let c=as(r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&y(t,["generationConfig"],q7(n,a,t)),t}function uA(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(f=>c7(f))),y(e,["candidates"],m)}const r=p(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=p(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=p(n,["responseId"]);c!=null&&y(e,["responseId"],c);const h=p(n,["usageMetadata"]);return h!=null&&y(e,["usageMetadata"],h),e}function dA(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(g=>g)),y(e,["candidates"],f)}const r=p(n,["createTime"]);r!=null&&y(e,["createTime"],r);const a=p(n,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const c=p(n,["promptFeedback"]);c!=null&&y(e,["promptFeedback"],c);const h=p(n,["responseId"]);h!=null&&y(e,["responseId"],h);const m=p(n,["usageMetadata"]);return m!=null&&y(e,["usageMetadata"],m),e}function H7(n,e){const t={};if(p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["aspectRatio"]);e!==void 0&&r!=null&&y(e,["parameters","aspectRatio"],r);const a=p(n,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const h=p(n,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=p(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const f=p(n,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const g=p(n,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);const E=p(n,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const T=p(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T),p(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(n,["imageSize"]);if(e!==void 0&&S!=null&&y(e,["parameters","sampleImageSize"],S),p(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function B7(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=p(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=p(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const h=p(n,["guidanceScale"]);e!==void 0&&h!=null&&y(e,["parameters","guidanceScale"],h);const m=p(n,["seed"]);e!==void 0&&m!=null&&y(e,["parameters","seed"],m);const f=p(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&y(e,["parameters","includeSafetyAttributes"],E);const T=p(n,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const S=p(n,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const N=p(n,["outputMimeType"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","mimeType"],N);const U=p(n,["outputCompressionQuality"]);e!==void 0&&U!=null&&y(e,["parameters","outputOptions","compressionQuality"],U);const D=p(n,["addWatermark"]);e!==void 0&&D!=null&&y(e,["parameters","addWatermark"],D);const q=p(n,["labels"]);e!==void 0&&q!=null&&y(e,["labels"],q);const B=p(n,["imageSize"]);e!==void 0&&B!=null&&y(e,["parameters","sampleImageSize"],B);const H=p(n,["enhancePrompt"]);return e!==void 0&&H!=null&&y(e,["parameters","enhancePrompt"],H),t}function G7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&H7(a,t),t}function z7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&B7(a,t),t}function $7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>sq(c))),y(e,["generatedImages"],a)}const r=p(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],$C(r)),e}function K7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>op(c))),y(e,["generatedImages"],a)}const r=p(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],KC(r)),e}function Y7(n,e){const t={},i=p(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i),p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(n,["durationSeconds"]);if(e!==void 0&&r!=null&&y(e,["parameters","durationSeconds"],r),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(n,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const c=p(n,["resolution"]);e!==void 0&&c!=null&&y(e,["parameters","resolution"],c);const h=p(n,["personGeneration"]);if(e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h),p(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=p(n,["negativePrompt"]);e!==void 0&&m!=null&&y(e,["parameters","negativePrompt"],m);const f=p(n,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),p(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=p(n,["lastFrame"]);e!==void 0&&g!=null&&y(e,["instances[0]","lastFrame"],ap(g));const E=p(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(S=>Qq(S))),y(e,["instances[0]","referenceImages"],T)}if(p(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function J7(n,e){const t={},i=p(n,["numberOfVideos"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const a=p(n,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const c=p(n,["durationSeconds"]);e!==void 0&&c!=null&&y(e,["parameters","durationSeconds"],c);const h=p(n,["seed"]);e!==void 0&&h!=null&&y(e,["parameters","seed"],h);const m=p(n,["aspectRatio"]);e!==void 0&&m!=null&&y(e,["parameters","aspectRatio"],m);const f=p(n,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["pubsubTopic"]);e!==void 0&&E!=null&&y(e,["parameters","pubsubTopic"],E);const T=p(n,["negativePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","negativePrompt"],T);const S=p(n,["enhancePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","enhancePrompt"],S);const N=p(n,["generateAudio"]);e!==void 0&&N!=null&&y(e,["parameters","generateAudio"],N);const U=p(n,["lastFrame"]);e!==void 0&&U!=null&&y(e,["instances[0]","lastFrame"],Ps(U));const D=p(n,["referenceImages"]);if(e!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map(ee=>Wq(ee))),y(e,["instances[0]","referenceImages"],H)}const q=p(n,["mask"]);e!==void 0&&q!=null&&y(e,["instances[0]","mask"],Jq(q));const B=p(n,["compressionQuality"]);return e!==void 0&&B!=null&&y(e,["parameters","compressionQuality"],B),t}function Q7(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],eq(c)),e}function W7(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],tq(c)),e}function X7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&y(t,["instances[0]","image"],ap(a));const c=p(e,["video"]);c!=null&&y(t,["instances[0]","video"],JC(c));const h=p(e,["source"]);h!=null&&nq(h,t);const m=p(e,["config"]);return m!=null&&Y7(m,t),t}function Z7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&y(t,["instances[0]","image"],Ps(a));const c=p(e,["video"]);c!=null&&y(t,["instances[0]","video"],QC(c));const h=p(e,["source"]);h!=null&&iq(h,t);const m=p(e,["config"]);return m!=null&&J7(m,t),t}function eq(n){const e={},t=p(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>oq(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function tq(n){const e={},t=p(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>aq(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function nq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ap(r));const a=p(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],JC(a)),t}function iq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],Ps(r));const a=p(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],QC(a)),t}function sq(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["image"],pq(t));const i=p(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const r=p(n,["_self"]);return r!=null&&y(e,["safetyAttributes"],$C(r)),e}function op(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["image"],zC(t));const i=p(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const r=p(n,["_self"]);r!=null&&y(e,["safetyAttributes"],KC(r));const a=p(n,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function rq(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["mask"],zC(t));const i=p(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["labels"],r)}return e}function oq(n){const e={},t=p(n,["video"]);return t!=null&&y(e,["video"],Kq(t)),e}function aq(n){const e={},t=p(n,["_self"]);return t!=null&&y(e,["video"],Yq(t)),e}function lq(n){const e={},t=p(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=p(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const r=p(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=p(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=p(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const h=p(n,["frequencyPenalty"]);h!=null&&y(e,["frequencyPenalty"],h);const m=p(n,["logprobs"]);m!=null&&y(e,["logprobs"],m);const f=p(n,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const g=p(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const E=p(n,["presencePenalty"]);E!=null&&y(e,["presencePenalty"],E);const T=p(n,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const S=p(n,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const N=p(n,["responseModalities"]);N!=null&&y(e,["responseModalities"],N);const U=p(n,["responseSchema"]);U!=null&&y(e,["responseSchema"],U);const D=p(n,["routingConfig"]);D!=null&&y(e,["routingConfig"],D);const q=p(n,["seed"]);q!=null&&y(e,["seed"],q);const B=p(n,["speechConfig"]);B!=null&&y(e,["speechConfig"],B);const H=p(n,["stopSequences"]);H!=null&&y(e,["stopSequences"],H);const ee=p(n,["temperature"]);ee!=null&&y(e,["temperature"],ee);const re=p(n,["thinkingConfig"]);re!=null&&y(e,["thinkingConfig"],re);const F=p(n,["topK"]);F!=null&&y(e,["topK"],F);const C=p(n,["topP"]);if(C!=null&&y(e,["topP"],C),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function cq(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],Et(n,i)),t}function uq(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],Et(n,i)),t}function dq(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function hq(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function fq(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mq(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);i!=null&&y(e,["imageSize"],i);const r=p(n,["outputMimeType"]);r!=null&&y(e,["imageOutputOptions","mimeType"],r);const a=p(n,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function pq(n){const e={},t=p(n,["bytesBase64Encoded"]);t!=null&&y(e,["imageBytes"],oa(t));const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function zC(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["imageBytes"],oa(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function ap(n){const e={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=p(n,["imageBytes"]);t!=null&&y(e,["bytesBase64Encoded"],oa(t));const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Ps(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["imageBytes"]);i!=null&&y(e,["bytesBase64Encoded"],oa(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function gq(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=p(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const c=p(e,["filter"]);t!==void 0&&c!=null&&y(t,["_query","filter"],c);const h=p(e,["queryBase"]);return t!==void 0&&h!=null&&y(t,["_url","models_url"],OC(n,h)),i}function yq(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=p(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const c=p(e,["filter"]);t!==void 0&&c!=null&&y(t,["_query","filter"],c);const h=p(e,["queryBase"]);return t!==void 0&&h!=null&&y(t,["_url","models_url"],OC(n,h)),i}function vq(n,e){const t={},i=p(e,["config"]);return i!=null&&gq(n,i,t),t}function _q(n,e){const t={},i=p(e,["config"]);return i!=null&&yq(n,i,t),t}function xq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["_self"]);if(r!=null){let a=jC(r);Array.isArray(a)&&(a=a.map(c=>v0(c))),y(e,["models"],a)}return e}function Eq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["_self"]);if(r!=null){let a=jC(r);Array.isArray(a)&&(a=a.map(c=>_0(c))),y(e,["models"],a)}return e}function Tq(n){const e={},t=p(n,["maskMode"]);t!=null&&y(e,["maskMode"],t);const i=p(n,["segmentationClasses"]);i!=null&&y(e,["maskClasses"],i);const r=p(n,["maskDilation"]);return r!=null&&y(e,["dilation"],r),e}function v0(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);r!=null&&y(e,["description"],r);const a=p(n,["version"]);a!=null&&y(e,["version"],a);const c=p(n,["_self"]);c!=null&&y(e,["tunedModelInfo"],Oq(c));const h=p(n,["inputTokenLimit"]);h!=null&&y(e,["inputTokenLimit"],h);const m=p(n,["outputTokenLimit"]);m!=null&&y(e,["outputTokenLimit"],m);const f=p(n,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const g=p(n,["temperature"]);g!=null&&y(e,["temperature"],g);const E=p(n,["maxTemperature"]);E!=null&&y(e,["maxTemperature"],E);const T=p(n,["topP"]);T!=null&&y(e,["topP"],T);const S=p(n,["topK"]);S!=null&&y(e,["topK"],S);const N=p(n,["thinking"]);return N!=null&&y(e,["thinking"],N),e}function _0(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);r!=null&&y(e,["description"],r);const a=p(n,["versionId"]);a!=null&&y(e,["version"],a);const c=p(n,["deployedModels"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>L7(T))),y(e,["endpoints"],E)}const h=p(n,["labels"]);h!=null&&y(e,["labels"],h);const m=p(n,["_self"]);m!=null&&y(e,["tunedModelInfo"],jq(m));const f=p(n,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const g=p(n,["checkpoints"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(T=>T)),y(e,["checkpoints"],E)}return e}function wq(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],U7(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],V7(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],l7(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function bq(n){const e={},t=p(n,["productImage"]);return t!=null&&y(e,["image"],Ps(t)),e}function Sq(n,e){const t={},i=p(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["baseSteps"]);e!==void 0&&r!=null&&y(e,["parameters","baseSteps"],r);const a=p(n,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const c=p(n,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const h=p(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const m=p(n,["personGeneration"]);e!==void 0&&m!=null&&y(e,["parameters","personGeneration"],m);const f=p(n,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const g=p(n,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const E=p(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const T=p(n,["enhancePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","enhancePrompt"],T);const S=p(n,["labels"]);return e!==void 0&&S!=null&&y(e,["labels"],S),t}function Aq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["source"]);r!=null&&Iq(r,t);const a=p(e,["config"]);return a!=null&&Sq(a,t),t}function Nq(n){const e={},t=p(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>op(r))),y(e,["generatedImages"],i)}return e}function Iq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["personImage"]);e!==void 0&&r!=null&&y(e,["instances[0]","personImage","image"],Ps(r));const a=p(n,["productImages"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>bq(h))),y(e,["instances[0]","productImages"],c)}return t}function Cq(n){const e={},t=p(n,["referenceImage"]);t!=null&&y(e,["referenceImage"],Ps(t));const i=p(n,["referenceId"]);i!=null&&y(e,["referenceId"],i);const r=p(n,["referenceType"]);r!=null&&y(e,["referenceType"],r);const a=p(n,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],Tq(a));const c=p(n,["controlImageConfig"]);c!=null&&y(e,["controlImageConfig"],p7(c));const h=p(n,["styleImageConfig"]);h!=null&&y(e,["styleImageConfig"],h);const m=p(n,["subjectImageConfig"]);return m!=null&&y(e,["subjectImageConfig"],m),e}function $C(n){const e={},t=p(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=p(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const r=p(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function KC(n){const e={},t=p(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=p(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const r=p(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function Rq(n){const e={},t=p(n,["category"]);if(t!=null&&y(e,["category"],t),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function Dq(n){const e={},t=p(n,["image"]);return t!=null&&y(e,["image"],Ps(t)),e}function Mq(n,e){const t={},i=p(n,["mode"]);e!==void 0&&i!=null&&y(e,["parameters","mode"],i);const r=p(n,["maxPredictions"]);e!==void 0&&r!=null&&y(e,["parameters","maxPredictions"],r);const a=p(n,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const c=p(n,["maskDilation"]);e!==void 0&&c!=null&&y(e,["parameters","maskDilation"],c);const h=p(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&y(e,["parameters","binaryColorThreshold"],h);const m=p(n,["labels"]);return e!==void 0&&m!=null&&y(e,["labels"],m),t}function kq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["source"]);r!=null&&Lq(r,t);const a=p(e,["config"]);return a!=null&&Mq(a,t),t}function Pq(n){const e={},t=p(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>rq(r))),y(e,["generatedMasks"],i)}return e}function Lq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],Ps(r));const a=p(n,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],Dq(a)),t}function Uq(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],O7(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function Vq(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],dq(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],hq(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function YC(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>j7(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function Oq(n){const e={},t=p(n,["baseModel"]);t!=null&&y(e,["baseModel"],t);const i=p(n,["createTime"]);i!=null&&y(e,["createTime"],i);const r=p(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function jq(n){const e={},t=p(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&y(e,["baseModel"],t);const i=p(n,["createTime"]);i!=null&&y(e,["createTime"],i);const r=p(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function Fq(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=p(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function qq(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=p(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function Hq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","name"],Et(n,i));const r=p(e,["config"]);return r!=null&&Fq(r,t),t}function Bq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["config"]);return r!=null&&qq(r,t),t}function Gq(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&y(e,["parameters","safetySetting"],r);const a=p(n,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const c=p(n,["includeRaiReason"]);e!==void 0&&c!=null&&y(e,["parameters","includeRaiReason"],c);const h=p(n,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=p(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const f=p(n,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const g=p(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const E=p(n,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const T=p(n,["numberOfImages"]);e!==void 0&&T!=null&&y(e,["parameters","sampleCount"],T);const S=p(n,["mode"]);return e!==void 0&&S!=null&&y(e,["parameters","mode"],S),t}function zq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],Et(n,i));const r=p(e,["image"]);r!=null&&y(t,["instances[0]","image"],Ps(r));const a=p(e,["upscaleFactor"]);a!=null&&y(t,["parameters","upscaleConfig","upscaleFactor"],a);const c=p(e,["config"]);return c!=null&&Gq(c,t),t}function $q(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>op(a))),y(e,["generatedImages"],r)}return e}function Kq(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],oa(i));const r=p(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function Yq(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],oa(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Jq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["_self"],Ps(t));const i=p(n,["maskMode"]);return i!=null&&y(e,["maskMode"],i),e}function Qq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["image"],ap(t));const i=p(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function Wq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["image"],Ps(t));const i=p(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function JC(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["videoBytes"]);i!=null&&y(e,["encodedVideo"],oa(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["encoding"],r),e}function QC(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["videoBytes"]);i!=null&&y(e,["bytesBase64Encoded"],oa(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xq(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["displayName"],i),t}function Zq(n){const e={},t=p(n,["config"]);return t!=null&&Xq(t,e),e}function eH(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function tH(n){const e={},t=p(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&eH(i,e),e}function nH(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function iH(n,e){const t={},i=p(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["customMetadata"],a)}const r=p(n,["chunkingConfig"]);return e!==void 0&&r!=null&&y(e,["chunkingConfig"],r),t}function sH(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],oH(c)),e}function rH(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=p(n,["fileName"]);i!=null&&y(e,["fileName"],i);const r=p(n,["config"]);return r!=null&&iH(r,e),e}function oH(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function aH(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function lH(n){const e={},t=p(n,["config"]);return t!=null&&aH(t,e),e}function cH(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["fileSearchStores"],a)}return e}function WC(n,e){const t={},i=p(n,["mimeType"]);e!==void 0&&i!=null&&y(e,["mimeType"],i);const r=p(n,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const a=p(n,["customMetadata"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["customMetadata"],h)}const c=p(n,["chunkingConfig"]);return e!==void 0&&c!=null&&y(e,["chunkingConfig"],c),t}function uH(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=p(n,["config"]);return i!=null&&WC(i,e),e}function dH(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hH="Content-Type",fH="X-Server-Timeout",mH="User-Agent",x0="x-goog-api-client",pH="1.34.0",gH=`google-genai-sdk/${pH}`,yH="v1beta1",vH="v1beta";class _H{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:yH,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:vH,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(t))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const a=new AbortController,c=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const h=setTimeout(()=>a.abort(),t.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=c}return t&&t.extraBody!==null&&xH(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await hA(r),new p0(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await hA(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Is(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const h="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:g}=yield Ye(r.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=a.decode(g,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const U=JSON.parse(JSON.stringify(N.error)),D=U.status,q=U.code,B=`got status: ${D}. ${JSON.stringify(N)}`;if(q>=400&&q<600)throw new sp({message:B,status:q})}}catch(N){if(N.name==="ApiError")throw N}c+=E;let T=-1,S=0;for(;;){T=-1,S=0;for(const D of m){const q=c.indexOf(D);q!==-1&&(T===-1||q<T)&&(T=q,S=D.length)}if(T===-1)break;const N=c.substring(0,T);c=c.substring(T+S);const U=N.trim();if(U.startsWith(h)){const D=U.substring(h.length).trim();try{const q=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new p0(q))}catch(q){throw new Error(`exception parsing stream chunk ${D}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=gH+" "+this.clientOptions.userAgentExtra;return e[mH]=t,e[x0]=t,e[hH]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(fH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);r.sizeBytes=String(c.size);const h=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const m={file:r},f=this.getFileName(e),g=we("upload/v1beta/files",m._url),E=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,f,m,t==null?void 0:t.httpOptions);return a.upload(e,E,this)}async uploadFileToFileSearchStore(e,t,i){var r;const a=this.clientOptions.uploader,c=await a.stat(t),h=String(c.size),m=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(t),E={};i!=null&&WC(i,E);const T=await this.fetchUploadUrl(f,h,m,g,E,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(t,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,a,c){var h;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:m});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(h=f==null?void 0:f.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function hA(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new sp({message:r,status:t}):new Error(r)}}function xH(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const f=c[m],g=h[m];f&&typeof f=="object"&&!Array.isArray(f)&&g&&typeof g=="object"&&!Array.isArray(g)?h[m]=i(g,f):(g&&f&&typeof g!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof g}, New type: ${typeof f}. Overwriting.`),h[m]=f)}return h}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EH="mcp_used/unknown";let TH=!1;function XC(n){for(const e of n)if(wH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return TH}function ZC(n){var e;const t=(e=n[x0])!==null&&e!==void 0?e:"";n[x0]=(t+` ${EH}`).trimStart()}function wH(n){return n!==null&&typeof n=="object"&&n instanceof u_}function bH(n){return Is(this,arguments,function*(t,i=100){let r,a=0;for(;a<i;){const c=yield Ye(t.listTools({cursor:r}));for(const h of c.tools)yield yield Ye(h),a++;if(!c.nextCursor)break;r=c.nextCursor}})}class u_{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new u_(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const a={},c=[];for(const g of this.mcpClients)try{for(var h=!0,m=(t=void 0,Cs(bH(g))),f;f=await m.next(),e=f.done,!e;h=!0){r=f.value,h=!1;const E=r;c.push(E);const T=E.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=g}}catch(E){t={error:E}}finally{try{!h&&!e&&(i=m.return)&&await i.call(m)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),n9(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await r.callTool({name:i.name,arguments:i.args},void 0,a);t.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function SH(n,e,t){const i=new YF;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class AH{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=CH(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let f=()=>{};const g=new Promise(H=>{f=H}),E=e.callbacks,T=function(){f({})},S=this.apiClient,N={onopen:T,onmessage:H=>{SH(S,E.onmessage,H)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(H){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(H){}},U=this.webSocketFactory.create(m,IH(c),N);U.connect(),await g;const B={setup:{model:Et(this.apiClient,e.model)}};return U.send(JSON.stringify(B)),new NH(U,this.apiClient)}}class NH{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Z8(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=X8(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Jl.PLAY)}pause(){this.sendPlaybackControl(Jl.PAUSE)}stop(){this.sendPlaybackControl(Jl.STOP)}resetContext(){this.sendPlaybackControl(Jl.RESET_CONTEXT)}close(){this.conn.close()}}function IH(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function CH(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DH(n,e,t){const i=new KF;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const a=JSON.parse(r);if(n.isVertexAI()){const c=n7(a);Object.assign(i,c)}else Object.assign(i,a);e(i)}class MH{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new AH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,a,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&XC(e.config.tools)&&ZC(E);const T=UH(E);if(this.apiClient.isVertexAI())g=`${m}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,g);else{const I=this.apiClient.getApiKey();let V="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",M="access_token"),g=`${m}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${M}=${I}`}let S=()=>{};const N=new Promise(I=>{S=I}),U=e.callbacks,D=function(){var I;(I=U==null?void 0:U.onopen)===null||I===void 0||I.call(U),S({})},q=this.apiClient,B={onopen:D,onmessage:I=>{DH(q,U.onmessage,I)},onerror:(t=U==null?void 0:U.onerror)!==null&&t!==void 0?t:function(I){},onclose:(i=U==null?void 0:U.onclose)!==null&&i!==void 0?i:function(I){}},H=this.webSocketFactory.create(g,LH(T),B);H.connect(),await N;let ee=Et(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const I=this.apiClient.getProject(),V=this.apiClient.getLocation();ee=`projects/${I}/locations/${V}/`+ee}let re={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[om.AUDIO]}:e.config.responseModalities=[om.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],C=[];for(const I of F)if(this.isCallableTool(I)){const V=I;C.push(await V.tool())}else C.push(I);C.length>0&&(e.config.tools=C);const R={model:ee,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?re=W8(this.apiClient,R):re=Q8(this.apiClient,R),delete re.config,H.send(JSON.stringify(re)),new PH(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const kH={turnComplete:!0};class PH{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=as(t.turns),e.isVertexAI()||(i=i.map(r=>rp(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(RH)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},kH),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:t7(e)}:t={realtimeInput:e7(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function LH(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function UH(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fA=10;function mA(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(ic(c)){r=!0;break}if(!r)return!0;const a=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ic(n){return"callTool"in n&&typeof n.callTool=="function"}function VH(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>ic(r)))!==null&&i!==void 0?i:!1}function pA(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(ic(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(r)}),t}function gA(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OH extends $r{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,a,c,h;const m=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!VH(t)||mA(t.config))return await this.generateContentInternal(m);const f=pA(t);if(f.length>0){const U=f.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let g,E;const T=as(m.contents),S=(a=(r=(i=m.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:fA;let N=0;for(;N<S&&(g=await this.generateContentInternal(m),!(!g.functionCalls||g.functionCalls.length===0));){const U=g.candidates[0].content,D=[];for(const q of(h=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(ic(q)){const H=await q.callTool(g.functionCalls);D.push(...H)}N++,E={role:"user",parts:D},m.contents=as(m.contents),m.contents.push(U),m.contents.push(E),gA(m.config)&&(T.push(U),T.push(E))}return gA(m.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async t=>{var i,r,a,c,h;if(this.maybeMoveToResponseJsonSchem(t),mA(t.config)){const E=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(E)}const m=pA(t);if(m.length>0){const E=m.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,g=(h=(c=t==null?void 0:t.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(f&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let a;const c=[];if(i!=null&&i.generatedImages)for(const m of i.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((r=m==null?void 0:m.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=m==null?void 0:m.safetyAttributes:c.push(m);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:i.sdkHttpResponse},h}),this.list=async t=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Za(Hr.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,a,c,h,m;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((c=(a=t.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.uri&&(!((m=(h=t.source)===null||h===void 0?void 0:h.video)===null||m===void 0)&&m.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const c=await Promise.all(a.map(async m=>ic(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&XC(e.config.tools)){const m=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},m);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),ZC(f),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return h}async initAfcToolsMap(e){var t,i,r;const a=new Map;for(const c of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(ic(c)){const h=c,m=await h.tool();for(const f of(r=m.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,h)}}return a}async processAfcStream(e){var t,i,r;const a=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:fA;let c=!1,h=0;const m=await this.initAfcToolsMap(e);return(function(f,g,E){return Is(this,arguments,function*(){for(var T,S,N,U,D,q;h<a;){c&&(h++,c=!1);const re=yield Ye(f.processParamsMaybeAddMcpUsage(E)),F=yield Ye(f.generateContentStreamInternal(re)),C=[],R=[];try{for(var B=!0,H=(S=void 0,Cs(F)),ee;ee=yield Ye(H.next()),T=ee.done,!T;B=!0){U=ee.value,B=!1;const I=U;if(yield yield Ye(I),I.candidates&&(!((D=I.candidates[0])===null||D===void 0)&&D.content)){R.push(I.candidates[0].content);for(const V of(q=I.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(h<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(V.functionCall.name)){const M=yield Ye(g.get(V.functionCall.name).callTool([V.functionCall]));C.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(I){S={error:I}}finally{try{!B&&!T&&(N=H.return)&&(yield Ye(N.call(H)))}finally{if(S)throw S.error}}if(C.length>0){c=!0;const I=new Gu;I.candidates=[{content:{role:"user",parts:C}}],yield yield Ye(I);const V=[];V.push(...R),V.push({role:"user",parts:C});const M=as(E.contents).concat(V);E.contents=M}else break}})})(this,m,e)}async generateContentInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=cA(this.apiClient,e);return h=we("{model}:generateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=dA(g),T=new Gu;return Object.assign(T,E),T})}else{const f=lA(this.apiClient,e);return h=we("{model}:generateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=uA(g),T=new Gu;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=cA(this.apiClient,e);return h=we("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(E){return Is(this,arguments,function*(){var T,S,N,U;try{for(var D=!0,q=Cs(E),B;B=yield Ye(q.next()),T=B.done,!T;D=!0){U=B.value,D=!1;const H=U,ee=dA(yield Ye(H.json()));ee.sdkHttpResponse={headers:H.headers};const re=new Gu;Object.assign(re,ee),yield yield Ye(re)}}catch(H){S={error:H}}finally{try{!D&&!T&&(N=q.return)&&(yield Ye(N.call(q)))}finally{if(S)throw S.error}}})})}else{const f=lA(this.apiClient,e);return h=we("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(E){return Is(this,arguments,function*(){var T,S,N,U;try{for(var D=!0,q=Cs(E),B;B=yield Ye(q.next()),T=B.done,!T;D=!0){U=B.value,D=!1;const H=U,ee=uA(yield Ye(H.json()));ee.sdkHttpResponse={headers:H.headers};const re=new Gu;Object.assign(re,ee),yield yield Ye(re)}}catch(H){S={error:H}}finally{try{!D&&!T&&(N=q.return)&&(yield Ye(N.call(q)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=M7(this.apiClient,e);return h=we("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=P7(g),T=new zS;return Object.assign(T,E),T})}else{const f=D7(this.apiClient,e);return h=we("{model}:batchEmbedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=k7(g),T=new zS;return Object.assign(T,E),T})}}async generateImagesInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=z7(this.apiClient,e);return h=we("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=K7(g),T=new $S;return Object.assign(T,E),T})}else{const f=G7(this.apiClient,e);return h=we("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=$7(g),T=new $S;return Object.assign(T,E),T})}}async editImageInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=N7(this.apiClient,e);return a=we("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=I7(m),g=new UF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=zq(this.apiClient,e);return a=we("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=$q(m),g=new VF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=Aq(this.apiClient,e);return a=we("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=Nq(m),g=new OF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=kq(this.apiClient,e);return a=we("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=Pq(m),g=new jF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=uq(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>_0(g))}else{const f=cq(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>v0(g))}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=_q(this.apiClient,e);return h=we("{models_url}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=Eq(g),T=new KS;return Object.assign(T,E),T})}else{const f=vq(this.apiClient,e);return h=we("{models_url}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=xq(g),T=new KS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=Bq(this.apiClient,e);return h=we("{model}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>_0(g))}else{const f=Hq(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>v0(g))}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=w7(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=S7(g),T=new YS;return Object.assign(T,E),T})}else{const f=T7(this.apiClient,e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=b7(g),T=new YS;return Object.assign(T,E),T})}}async countTokens(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=_7(this.apiClient,e);return h=we("{model}:countTokens",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=E7(g),T=new JS;return Object.assign(T,E),T})}else{const f=v7(this.apiClient,e);return h=we("{model}:countTokens",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=x7(g),T=new JS;return Object.assign(T,E),T})}}async computeTokens(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=d7(this.apiClient,e);return a=we("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=h7(m),g=new FF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=Z7(this.apiClient,e);return h=we("{model}:predictLongRunning",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>{const E=W7(g),T=new am;return Object.assign(T,E),T})}else{const f=X7(this.apiClient,e);return h=we("{model}:predictLongRunning",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>{const E=Q7(g),T=new am;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jH extends $r{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=RF(e);return h=we("{operationName}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c}else{const f=CF(e);return h=we("{operationName}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=TF(e);return a=we("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FH(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function qH(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>QH(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function HH(n,e,t){const i={},r=p(e,["expireTime"]);t!==void 0&&r!=null&&y(t,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&y(t,["newSessionExpireTime"],a);const c=p(e,["uses"]);t!==void 0&&c!=null&&y(t,["uses"],c);const h=p(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&y(t,["bidiGenerateContentSetup"],JH(n,h));const m=p(e,["lockAdditionalFields"]);return t!==void 0&&m!=null&&y(t,["fieldMask"],m),i}function BH(n,e){const t={},i=p(e,["config"]);return i!=null&&y(t,["config"],HH(n,i,t)),t}function GH(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function zH(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $H(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function KH(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function YH(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],c_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=p(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const N=p(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],qH(Zn(N)));const U=p(n,["tools"]);if(e!==void 0&&U!=null){let F=jc(U);Array.isArray(F)&&(F=F.map(C=>XH(Oc(C)))),y(e,["setup","tools"],F)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&y(e,["setup","sessionResumption"],WH(D));const q=p(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&y(e,["setup","inputAudioTranscription"],q);const B=p(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","outputAudioTranscription"],B);const H=p(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const ee=p(n,["contextWindowCompression"]);e!==void 0&&ee!=null&&y(e,["setup","contextWindowCompression"],ee);const re=p(n,["proactivity"]);if(e!==void 0&&re!=null&&y(e,["setup","proactivity"],re),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function JH(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],Et(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],YH(r,t)),t}function QH(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],GH(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],zH(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],FH(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function WH(n){const e={},t=p(n,["handle"]);if(t!=null&&y(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XH(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],$H(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],KH(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZH(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${t}.${a}`);e.push(...r)}else e.push(t)}return e.join(",")}function eB(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const a=ZH(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(f=>c.includes(f)?`generationConfig.${f}`:f));const m=[];a&&m.push(a),h.length>0&&m.push(...h),m.length>0?n.fieldMask=m.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class tB extends $r{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=BH(this.apiClient,e);a=we("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const m=eB(h,e.config);return r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nB(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function iB(n){const e={},t=p(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&nB(i,e),e}function sB(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function rB(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function oB(n){const e={},t=p(n,["parent"]);t!=null&&y(e,["_url","parent"],t);const i=p(n,["config"]);return i!=null&&rB(i,e),e}function aB(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lB extends $r{constructor(e){super(),this.apiClient=e,this.list=async t=>new Za(Hr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sB(e);return a=we("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iB(e);r=we("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oB(e);return a=we("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=aB(m),g=new qF;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cB extends $r{constructor(e,t=new lB(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Za(Hr.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zq(e);return a=we("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nH(e);return a=we("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tH(e);r=we("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lH(e);return a=we("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=cH(m),g=new HF;return Object.assign(g,f),g})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uH(e);return a=we("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=dH(m),g=new BF;return Object.assign(g,f),g})}}async importFile(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rH(e);return a=we("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=sH(m),g=new s_;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eR=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return eR=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};const uB=()=>eR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E0(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const T0=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ds extends Error{}class ui extends ds{constructor(e,t,i,r){super(`${ui.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new lp({message:i,cause:T0(t)});const a=t;return e===400?new nR(e,a,i,r):e===401?new iR(e,a,i,r):e===403?new sR(e,a,i,r):e===404?new rR(e,a,i,r):e===409?new oR(e,a,i,r):e===422?new aR(e,a,i,r):e===429?new lR(e,a,i,r):e>=500?new cR(e,a,i,r):new ui(e,a,i,r)}}class w0 extends ui{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class lp extends ui{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class tR extends lp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class nR extends ui{}class iR extends ui{}class sR extends ui{}class rR extends ui{}class oR extends ui{}class aR extends ui{}class lR extends ui{}class cR extends ui{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dB=/^[a-z][a-z0-9+.-]*:/i,hB=n=>dB.test(n);let b0=n=>(b0=Array.isArray,b0(n));const fB=b0;let mB=fB;const yA=mB;function pB(n){if(!n)return!0;for(const e in n)return!1;return!0}function gB(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const yB=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ds(`${n} must be an integer`);if(e<0)throw new ds(`${n} must be a positive integer`);return e},vB=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _B=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $l="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xB(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EB=()=>{var n,e,t,i,r;const a=xB();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":_A(Deno.build.os),"X-Stainless-Arch":vA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":_A((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":vA((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=TB();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TB(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,c=i[3]||0;return{browser:e,version:`${r}.${a}.${c}`}}}return null}const vA=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",_A=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let gf;const wB=()=>gf??(gf=EB());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bB(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function uR(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function SB(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return uR({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function dR(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function AB(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const i=n.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NB=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hR=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function My(n,e,t){return hR(),new File(n,e??"unknown_file",t)}function IB(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const CB=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fR=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",RB=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&fR(n),DB=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function MB(n,e,t){if(hR(),n=await n,RB(n))return n instanceof File?n:My([await n.arrayBuffer()],n.name);if(DB(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),My(await S0(r),e,t)}const i=await S0(n);if(e||(e=IB(n)),!(t!=null&&t.type)){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return My(i,e,t)}async function S0(n){var e,t,i,r,a;let c=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)c.push(n);else if(fR(n))c.push(n instanceof Blob?n:await n.arrayBuffer());else if(CB(n))try{for(var h=!0,m=Cs(n),f;f=await m.next(),e=f.done,!e;h=!0){r=f.value,h=!1;const g=r;c.push(...await S0(g))}}catch(g){t={error:g}}finally{try{!h&&!e&&(i=m.return)&&await i.call(m)}finally{if(t)throw t.error}}else{const g=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${g?`; constructor: ${g}`:""}${kB(n)}`)}return c}function kB(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR{constructor(e){this._client=e}}mR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pR(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xA=Object.freeze(Object.create(null)),PB=(n=pR)=>(function(t,...i){if(t.length===1)return t[0];let r=!1;const a=[],c=t.reduce((g,E,T)=>{var S,N,U;/[?#]/.test(E)&&(r=!0);const D=i[T];let q=(r?encodeURIComponent:n)(""+D);return T!==i.length&&(D==null||typeof D=="object"&&D.toString===((U=Object.getPrototypeOf((N=Object.getPrototypeOf((S=D.hasOwnProperty)!==null&&S!==void 0?S:xA))!==null&&N!==void 0?N:xA))===null||U===void 0?void 0:U.toString))&&(q=D+"",a.push({start:g.length+E.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),g+E+(T===i.length?"":q)},""),h=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=m.exec(h))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((g,E)=>g.start-E.start),a.length>0){let g=0;const E=a.reduce((T,S)=>{const N=" ".repeat(S.start-g),U="^".repeat(S.length);return g=S.start+S.length,T+N+U},"");throw new ds(`Path parameters result in path with invalid segments:
${a.map(T=>T.error).join(`
`)}
${c}
${E}`)}return c}),yf=PB(pR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gR extends mR{create(e,t){var i;const{api_version:r=this._client.apiVersion}=e,a=cm(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ds("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ds("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(yf`/${r}/interactions`,Object.assign(Object.assign({body:a},t),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(yf`/${r}/interactions/${e}`,i)}cancel(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(yf`/${r}/interactions/${e}/cancel`,i)}get(e,t={},i){var r;const a=t??{},{api_version:c=this._client.apiVersion}=a,h=cm(a,["api_version"]);return this._client.get(yf`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},i),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}gR._key=Object.freeze(["interactions"]);class yR extends gR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LB(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let vf;function d_(n){let e;return(vf??(e=new globalThis.TextEncoder,vf=e.encode.bind(e)))(n)}let _f;function EA(n){let e;return(_f??(e=new globalThis.TextDecoder,_f=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?d_(e):e;this.buffer=LB([this.buffer,t]);const i=[];let r;for(;(r=UB(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(EA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=EA(this.buffer.subarray(0,a));i.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}cp.NEWLINE_CHARS=new Set([`
`,"\r"]);cp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function UB(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function VB(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const um={off:0,error:200,warn:300,info:400,debug:500},TA=(n,e,t)=>{if(n){if(gB(um,n))return n;oi(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(um))}`)}};function Xu(){}function xf(n,e,t){return!e||um[n]>um[t]?Xu:e[n].bind(e)}const OB={error:Xu,warn:Xu,info:Xu,debug:Xu};let wA=new WeakMap;function oi(n){var e;const t=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return OB;const r=wA.get(t);if(r&&r[0]===i)return r[1];const a={error:xf("error",t,i),warn:xf("warn",t,i),info:xf("info",t,i),debug:xf("debug",t,i)};return wA.set(t,[i,a]),a}const Pa=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ql{constructor(e,t,i){this.iterator=e,this.controller=t,this.client=i}static fromSSEResponse(e,t,i){let r=!1;const a=i?oi(i):console;function c(){return Is(this,arguments,function*(){var m,f,g,E;if(r)throw new ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var S=!0,N=Cs(jB(e,t)),U;U=yield Ye(N.next()),m=U.done,!m;S=!0){E=U.value,S=!1;const D=E;if(!T)if(D.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ye(JSON.parse(D.data))}catch(q){throw a.error("Could not parse message into JSON:",D.data),a.error("From chunk:",D.raw),q}}}catch(D){f={error:D}}finally{try{!S&&!m&&(g=N.return)&&(yield Ye(g.call(N)))}finally{if(f)throw f.error}}T=!0}catch(D){if(E0(D))return yield Ye(void 0);throw D}finally{T||t.abort()}})}return new Ql(c,t,i)}static fromReadableStream(e,t,i){let r=!1;function a(){return Is(this,arguments,function*(){var m,f,g,E;const T=new cp,S=dR(e);try{for(var N=!0,U=Cs(S),D;D=yield Ye(U.next()),m=D.done,!m;N=!0){E=D.value,N=!1;const q=E;for(const B of T.decode(q))yield yield Ye(B)}}catch(q){f={error:q}}finally{try{!N&&!m&&(g=U.return)&&(yield Ye(g.call(U)))}finally{if(f)throw f.error}}for(const q of T.flush())yield yield Ye(q)})}function c(){return Is(this,arguments,function*(){var m,f,g,E;if(r)throw new ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var S=!0,N=Cs(a()),U;U=yield Ye(N.next()),m=U.done,!m;S=!0){E=U.value,S=!1;const D=E;T||D&&(yield yield Ye(JSON.parse(D)))}}catch(D){f={error:D}}finally{try{!S&&!m&&(g=N.return)&&(yield Ye(g.call(N)))}finally{if(f)throw f.error}}T=!0}catch(D){if(E0(D))return yield Ye(void 0);throw D}finally{T||t.abort()}})}return new Ql(c,t,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const c=i.next();e.push(c),t.push(c)}return a.shift()}});return[new Ql(()=>r(e),this.controller,this.client),new Ql(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return uR({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await t.next();if(a)return i.close();const c=d_(JSON.stringify(r)+`
`);i.enqueue(c)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}}function jB(n,e){return Is(this,arguments,function*(){var i,r,a,c;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ds("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ds("Attempted to iterate over a response with no body");const h=new qB,m=new cp,f=dR(n.body);try{for(var g=!0,E=Cs(FB(f)),T;T=yield Ye(E.next()),i=T.done,!i;g=!0){c=T.value,g=!1;const S=c;for(const N of m.decode(S)){const U=h.decode(N);U&&(yield yield Ye(U))}}}catch(S){r={error:S}}finally{try{!g&&!i&&(a=E.return)&&(yield Ye(a.call(E)))}finally{if(r)throw r.error}}for(const S of m.flush()){const N=h.decode(S);N&&(yield yield Ye(N))}})}function FB(n){return Is(this,arguments,function*(){var t,i,r,a;let c=new Uint8Array;try{for(var h=!0,m=Cs(n),f;f=yield Ye(m.next()),t=f.done,!t;h=!0){a=f.value,h=!1;const g=a;if(g==null)continue;const E=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?d_(g):g;let T=new Uint8Array(c.length+E.length);T.set(c),T.set(E,c.length),c=T;let S;for(;(S=VB(c))!==-1;)yield yield Ye(c.slice(0,S)),c=c.slice(S)}}catch(g){i={error:g}}finally{try{!h&&!t&&(r=m.return)&&(yield Ye(r.call(m)))}finally{if(i)throw i.error}}c.length>0&&(yield yield Ye(c))})}class qB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=HB(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function HB(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BB(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,c=await(async()=>{var h;if(e.options.stream)return oi(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Ql.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const m=t.headers.get("content-type"),f=(h=m==null?void 0:m.split(";")[0])===null||h===void 0?void 0:h.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await t.json():await t.text()})();return oi(n).debug(`[${i}] response parsed`,Pa({retryOfRequestLogID:r,url:t.url,status:t.status,body:c,durationMs:Date.now()-a})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h_ extends Promise{constructor(e,t,i=BB){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new h_(this.client,this.responsePromise,async(t,i)=>e(await this.parseResponse(t,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vR=Symbol("brand.privateNullableHeaders");function*GB(n){if(!n)return;if(vR in n){const{values:i,nulls:r}=n;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():yA(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=yA(i[1])?i[1]:[i[1]];let c=!1;for(const h of a)h!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,h])}}const zu=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[a,c]of GB(i)){const h=a.toLowerCase();r.has(h)||(e.delete(a),r.add(h)),c===null?(e.delete(a),t.add(h)):(e.append(a,c),t.delete(h))}}return{[vR]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ky=n=>{var e,t,i,r,a,c;if(typeof globalThis.process<"u")return(i=(t=(e=gF)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(c=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _R;class up{constructor(e){var t,i,r,a,c,h,m,{baseURL:f=ky("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(t=ky("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:E="v1beta"}=e,T=cm(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:g,apiVersion:E},T),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(i=S.timeout)!==null&&i!==void 0?i:up.DEFAULT_TIMEOUT,this.logger=(r=S.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(c=(a=TA(S.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:TA(ky("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:N,this.fetchOptions=S.fetchOptions,this.maxRetries=(h=S.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(m=S.fetch)!==null&&m!==void 0?m:bB(),this.encoder=NB,this._options=S,this.apiKey=g,this.apiVersion=E,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=zu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return zu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new ds(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$l}`}defaultIdempotencyKey(){return`stainless-node-retry-${uB()}`}makeStatusError(e,t,i,r){return ui.generate(e,t,i,r)}buildURL(e,t,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=hB(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return pB(c)||(t=Object.assign(Object.assign({},c),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new h_(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var r,a,c;const h=await e,m=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=m),await this.prepareOptions(h);const{req:f,url:g,timeout:E}=await this.buildRequest(h,{retryCount:m-t});await this.prepareRequest(f,{url:g,options:h});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=i===void 0?"":`, retryOf: ${i}`,N=Date.now();if(oi(this).debug(`[${T}] sending request`,Pa({retryOfRequestLogID:i,method:h.method,url:g,options:h,headers:f.headers})),!((a=h.signal)===null||a===void 0)&&a.aborted)throw new w0;const U=new AbortController,D=await this.fetchWithTimeout(g,f,E,U).catch(T0),q=Date.now();if(D instanceof globalThis.Error){const H=`retrying, ${t} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new w0;const ee=E0(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(t)return oi(this).info(`[${T}] connection ${ee?"timed out":"failed"} - ${H}`),oi(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (${H})`,Pa({retryOfRequestLogID:i,url:g,durationMs:q-N,message:D.message})),this.retryRequest(h,t,i??T);throw oi(this).info(`[${T}] connection ${ee?"timed out":"failed"} - error; no more retries left`),oi(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (error; no more retries left)`,Pa({retryOfRequestLogID:i,url:g,durationMs:q-N,message:D.message})),ee?new tR:new lp({cause:D})}const B=`[${T}${S}] ${f.method} ${g} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${q-N}ms`;if(!D.ok){const H=await this.shouldRetry(D);if(t&&H){const I=`retrying, ${t} attempts remaining`;return await AB(D.body),oi(this).info(`${B} - ${I}`),oi(this).debug(`[${T}] response error (${I})`,Pa({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,durationMs:q-N})),this.retryRequest(h,t,i??T,D.headers)}const ee=H?"error; no more retries left":"error; not retryable";oi(this).info(`${B} - ${ee}`);const re=await D.text().catch(I=>T0(I).message),F=vB(re),C=F?void 0:re;throw oi(this).debug(`[${T}] response error (${ee})`,Pa({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,message:C,durationMs:Date.now()-N})),this.makeStatusError(D.status,F,C,D.headers)}return oi(this).info(B),oi(this).debug(`[${T}] response start`,Pa({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,durationMs:q-N})),{response:D,options:h,controller:U,requestLogID:T,retryOfRequestLogID:i,startTime:N}}async fetchWithTimeout(e,t,i,r){const a=t||{},{signal:c,method:h}=a,m=cm(a,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const f=setTimeout(()=>r.abort(),i),g=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},g?{duplex:"half"}:{}),{method:"GET"}),m);h&&(E.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(f)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){var a;let c;const h=r==null?void 0:r.get("retry-after-ms");if(h){const f=parseFloat(h);Number.isNaN(f)||(c=f)}const m=r==null?void 0:r.get("retry-after");if(m&&!c){const f=parseFloat(m);Number.isNaN(f)?c=Date.parse(m)-Date.now():c=f*1e3}if(!(c&&0<=c&&c<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(t,f)}return await _B(c),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,c=Math.min(.5*Math.pow(2,a),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:t=0}={}){var i,r,a;const c=Object.assign({},e),{method:h,path:m,query:f,defaultBaseURL:g}=c,E=this.buildURL(m,f,g);"timeout"in c&&yB("timeout",c.timeout),c.timeout=(i=c.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:S}=this.buildBody({options:c}),N=await this.buildHeaders({options:e,method:h,bodyHeaders:T,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:N},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=c.fetchOptions)!==null&&a!==void 0?a:{}),url:E,timeout:c.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=zu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),wB()),this._options.defaultHeaders,i,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=zu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:SB(e)}:this.encoder({body:e,headers:i})}}up.DEFAULT_TIMEOUT=6e4;class Pn extends up{constructor(){super(...arguments),this.interactions=new yR(this)}}_R=Pn;Pn.GeminiNextGenAPIClient=_R;Pn.GeminiNextGenAPIClientError=ds;Pn.APIError=ui;Pn.APIConnectionError=lp;Pn.APIConnectionTimeoutError=tR;Pn.APIUserAbortError=w0;Pn.NotFoundError=rR;Pn.ConflictError=oR;Pn.RateLimitError=lR;Pn.BadRequestError=nR;Pn.AuthenticationError=iR;Pn.InternalServerError=cR;Pn.PermissionDeniedError=sR;Pn.UnprocessableEntityError=aR;Pn.toFile=MB;Pn.Interactions=yR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function $B(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function KB(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&y(t,["sdkHttpResponse"],i),t}function YB(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&y(t,["sdkHttpResponse"],i),t}function JB(n,e,t){const i={};if(p(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&y(e,["displayName"],r),p(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(n,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const c=p(n,["learningRateMultiplier"]);if(c!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],c),p(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=p(n,["batchSize"]);e!==void 0&&h!=null&&y(e,["tuningTask","hyperparameters","batchSize"],h);const m=p(n,["learningRate"]);if(e!==void 0&&m!=null&&y(e,["tuningTask","hyperparameters","learningRate"],m),p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function QB(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const S=p(n,["validationDataset"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec"],bA(S))}else if(r==="PREFERENCE_TUNING"){const S=p(n,["validationDataset"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec"],bA(S))}const a=p(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const c=p(n,["description"]);e!==void 0&&c!=null&&y(e,["description"],c);let h=p(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=p(n,["epochCount"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(h==="PREFERENCE_TUNING"){const S=p(n,["epochCount"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let m=p(t,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=p(n,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(m==="PREFERENCE_TUNING"){const S=p(n,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let f=p(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=p(n,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(f==="PREFERENCE_TUNING"){const S=p(n,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let g=p(t,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=p(n,["adapterSize"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(g==="PREFERENCE_TUNING"){const S=p(n,["adapterSize"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(p(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=p(n,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const T=p(n,["beta"]);return e!==void 0&&T!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function WB(n,e){const t={},i=p(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&y(t,["preTunedModel"],r);const a=p(n,["trainingDataset"]);a!=null&&lG(a);const c=p(n,["config"]);return c!=null&&JB(c,t),t}function XB(n,e){const t={},i=p(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&y(t,["preTunedModel"],r);const a=p(n,["trainingDataset"]);a!=null&&cG(a,t,e);const c=p(n,["config"]);return c!=null&&QB(c,t,e),t}function ZB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function eG(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function tG(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=p(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=p(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),i}function nG(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=p(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=p(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),i}function iG(n,e){const t={},i=p(n,["config"]);return i!=null&&tG(i,t),t}function sG(n,e){const t={},i=p(n,["config"]);return i!=null&&nG(i,t),t}function rG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=p(n,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>xR(h))),y(t,["tuningJobs"],c)}return t}function oG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=p(n,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>A0(h))),y(t,["tuningJobs"],c)}return t}function aG(n,e){const t={},i=p(n,["name"]);i!=null&&y(t,["model"],i);const r=p(n,["name"]);return r!=null&&y(t,["endpoint"],r),t}function lG(n,e){const t={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["examples","examples"],r)}return t}function cG(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=p(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=p(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let a=p(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=p(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=p(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(p(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function xR(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["state"]);a!=null&&y(t,["state"],UC(a));const c=p(n,["createTime"]);c!=null&&y(t,["createTime"],c);const h=p(n,["tuningTask","startTime"]);h!=null&&y(t,["startTime"],h);const m=p(n,["tuningTask","completeTime"]);m!=null&&y(t,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(t,["updateTime"],f);const g=p(n,["description"]);g!=null&&y(t,["description"],g);const E=p(n,["baseModel"]);E!=null&&y(t,["baseModel"],E);const T=p(n,["_self"]);return T!=null&&y(t,["tunedModel"],aG(T)),t}function A0(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["state"]);a!=null&&y(t,["state"],UC(a));const c=p(n,["createTime"]);c!=null&&y(t,["createTime"],c);const h=p(n,["startTime"]);h!=null&&y(t,["startTime"],h);const m=p(n,["endTime"]);m!=null&&y(t,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(t,["updateTime"],f);const g=p(n,["error"]);g!=null&&y(t,["error"],g);const E=p(n,["description"]);E!=null&&y(t,["description"],E);const T=p(n,["baseModel"]);T!=null&&y(t,["baseModel"],T);const S=p(n,["tunedModel"]);S!=null&&y(t,["tunedModel"],S);const N=p(n,["preTunedModel"]);N!=null&&y(t,["preTunedModel"],N);const U=p(n,["supervisedTuningSpec"]);U!=null&&y(t,["supervisedTuningSpec"],U);const D=p(n,["preferenceOptimizationSpec"]);D!=null&&y(t,["preferenceOptimizationSpec"],D);const q=p(n,["tuningDataStats"]);q!=null&&y(t,["tuningDataStats"],q);const B=p(n,["encryptionSpec"]);B!=null&&y(t,["encryptionSpec"],B);const H=p(n,["partnerModelTuningSpec"]);H!=null&&y(t,["partnerModelTuningSpec"],H);const ee=p(n,["customBaseModel"]);ee!=null&&y(t,["customBaseModel"],ee);const re=p(n,["experiment"]);re!=null&&y(t,["experiment"],re);const F=p(n,["labels"]);F!=null&&y(t,["labels"],F);const C=p(n,["outputUri"]);C!=null&&y(t,["outputUri"],C);const R=p(n,["pipelineJob"]);R!=null&&y(t,["pipelineJob"],R);const I=p(n,["serviceAccount"]);I!=null&&y(t,["serviceAccount"],I);const V=p(n,["tunedModelDisplayName"]);V!=null&&y(t,["tunedModelDisplayName"],V);const M=p(n,["veoTuningSpec"]);return M!=null&&y(t,["veoTuningSpec"],M),t}function uG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["metadata"]);a!=null&&y(t,["metadata"],a);const c=p(n,["done"]);c!=null&&y(t,["done"],c);const h=p(n,["error"]);return h!=null&&y(t,["error"],h),t}function bA(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&y(t,["validationDatasetUri"],i);const r=p(n,["vertexDatasetResource"]);return r!=null&&y(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dG extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Za(Hr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),a=await this.tuneMldevInternal(r);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:m0.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=eG(e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>A0(g))}else{const f=ZB(e);return h=we("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>xR(g))}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=sG(e);return h=we("tuningJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=oG(g),T=new QS;return Object.assign(T,E),T})}else{const f=iG(e);return h=we("tunedModels",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=rG(g),T=new QS;return Object.assign(T,E),T})}}async cancel(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=$B(e);return h=we("{name}:cancel",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=YB(g),T=new WS;return Object.assign(T,E),T})}else{const f=zB(e);return h=we("{name}:cancel",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=KB(g),T=new WS;return Object.assign(T,E),T})}}async tuneInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=XB(e,e);return a=we("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>A0(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WB(e);return a=we("tunedModels",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>uG(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hG{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fG=1024*1024*8,mG=3,pG=1e3,gG=2,dm="x-goog-upload-status";async function yG(n,e,t){var i;const r=await ER(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[dm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function vG(n,e,t){var i;const r=await ER(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[dm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=RC(a),h=new r_;return Object.assign(h,c),h}async function ER(n,e,t){var i,r;let a=0,c=0,h=new p0(new Response),m="upload";for(a=n.size;c<a;){const f=Math.min(fG,a-c),g=n.slice(c,c+f);c+f>=a&&(m+=", finalize");let E=0,T=pG;for(;E<mG&&(h=await t.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(f)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[dm]));)E++,await xG(T),T=T*gG;if(c+=f,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[dm])!=="active")break;if(a<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function _G(n){return{size:n.size,type:n.type}}function xG(n){return new Promise(e=>setTimeout(e,n))}class EG{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yG(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vG(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _G(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TG{create(e,t,i){return new wG(e,t,i)}}class wG{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SA="x-goog-api-key";class bG{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(SA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(SA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SG="gl-node/";class AG{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Pn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=xF(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new bG(this.apiKey);this.apiClient=new _H({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:SG+"web",uploader:new EG,downloader:new hG}),this.models=new OH(this.apiClient),this.live=new MH(this.apiClient,r,new TG),this.batches=new J9(this.apiClient),this.chats=new R8(this.models,this.apiClient),this.caches=new N8(this.apiClient),this.files=new F8(this.apiClient),this.operations=new jH(this.apiClient),this.authTokens=new tB(this.apiClient),this.tunings=new dG(this.apiClient),this.fileSearchStores=new cB(this.apiClient)}}const AA=new AG({apiKey:"AIzaSyCI5DVfAvEORjgtT1c171ZRRYG40iMii-E"}),pc={async suggestNote(n,e,t,i){var h;const a=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong for Fresh Level"][e-1],c=`You are a professional technical recruiter and coach.
    Context: Evaluating a ${t} candidate.
    Skill being evaluated: ${n}
    Score Given: ${e}/5 (${a})
    ${i?`Previous feedback context: ${i}`:""}
    
    Task: Write a concise, constructive "Coach Note" in Arabic for the interviewer. 
    The note should explain why this score might be given and what the candidate demonstrated or missed.
    Output only the note text in Arabic.`;try{return((h=(await AA.models.generateContent({model:"gemini-3-flash-preview",contents:c,config:{temperature:.7}})).text)==null?void 0:h.trim())||"   ."}catch(m){return console.error("AI Error:",m),"    ."}},async generateFinalReport(n,e,t,i){const r=`You are an expert technical career coach. 
    Generate a high-quality, professional, and encouraging "Software Engineering Interview Evaluation Report" in Arabic.
    
    Candidate Information:
    - Name: ${n}
    - Role: ${t}
    - Interviewer: ${e}
    
    Full Evaluation Data (Sections, Skills, Scores, and Interviewer Notes):
    ${JSON.stringify(i,null,2)}
    
    CRITICAL INSTRUCTIONS FOR THE REPORT MARKDOWN FORMAT (Arabic):
    
    1. Header: Use "#    "
    2. Candidate Summary: Use a table or bold list for Name, Level, and Final Result.
    
    3. FOR EACH SECTION:
       - Use "## [Section Title]"
       
    4. FOR EACH SKILL (The most important part):
       Follow this exact visual pattern:
       ###  [Skill Name] | : [Score]/5
       > **   :**
       > [INSERT VERBATIM NOTES FROM INTERVIEWER HERE. If empty, write "       ."]
       
        **    (AI Analysis):**
       [Provide a deep analysis and a specific actionable tip based on the score and interviewer's observation]
       
       --- (Horizontal line between skills)

    5. Final Summary & Roadmap:
       - Give a "Final Verdict" (e.g., Ready, Needs Practice).
       - Provide a "3-Step Growth Plan" based on the weaknesses found.

    IMPORTANT: 
    - Use clear spacing and bold headers. 
    - The Interviewer's notes MUST be clearly separated from your (AI) analysis using the blockquote style (">").
    - Use Markdown emojis to make it professional yet encouraging.`;try{return(await AA.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{temperature:.8}})).text}catch(a){return console.error("AI Report Generation Error:",a),null}}},NG=[{id:"fundamentals",title:"1.   (Programming Fundamentals)",weight:30,items:[{skill:"Variables & Data Types",score:3,notes:""},{skill:"Conditions & Loops",score:3,notes:""},{skill:"Functions / Methods",score:3,notes:""},{skill:"Basic OOP Concepts",score:3,notes:""},{skill:"Code Readability & Naming",score:3,notes:""}],summary:""},{id:"problem-solving",title:"2.     (Problem-Solving)",weight:25,items:[{skill:"Understanding the problem",score:3,notes:""},{skill:"Breaking problems into steps",score:3,notes:""},{skill:"Writing a simple logical solution",score:3,notes:""},{skill:"Handling simple edge cases",score:3,notes:""},{skill:"Explaining the solution clearly",score:3,notes:""}],summary:""},{id:"data-structures",title:"3.   -  (Data Structures Basics)",weight:15,items:[{skill:"Arrays / Lists usage",score:3,notes:""},{skill:"Strings handling",score:3,notes:""},{skill:"Basic Maps / Objects",score:3,notes:""},{skill:"Choosing the right data structure",score:3,notes:""}],summary:""},{id:"sw-dev-fundamentals",title:"4.    (SW Dev Fundamentals)",weight:15,items:[{skill:"Understanding software projects",score:3,notes:""},{skill:"Awareness of SDLC basics",score:3,notes:""},{skill:"Git basics (add, commit)",score:3,notes:""},{skill:"Bug vs Feature understanding",score:3,notes:""}],summary:""},{id:"attitude",title:"5.     (Learning Ability & Attitude)",weight:10,items:[{skill:"Willingness to learn",score:3,notes:""},{skill:"Accepting feedback",score:3,notes:""},{skill:"Persistence when stuck",score:3,notes:""},{skill:"Asking questions",score:3,notes:""}],summary:""},{id:"communication",title:"6.   (Communication Basics)",weight:5,items:[{skill:"Clear explanation",score:3,notes:""},{skill:"Understanding questions",score:3,notes:""},{skill:"Honest communication",score:3,notes:""}],summary:""}],IG=[{id:"coding-quality",title:"1.    (Programming & Coding Quality)",weight:25,items:[{skill:"Clean & maintainable code",score:3,notes:""},{skill:"Functions & modular design",score:3,notes:""},{skill:"Error handling basics",score:3,notes:""},{skill:"OOP concepts (Inheritance, Classes)",score:3,notes:""},{skill:"Code structure & naming",score:3,notes:""}],summary:""},{id:"algorithms",title:"2.    (Problem-Solving & Algorithms)",weight:25,items:[{skill:"Breaking complex problems",score:3,notes:""},{skill:"Designing step-by-step solutions",score:3,notes:""},{skill:"Handling edge cases",score:3,notes:""},{skill:"Searching & Sorting algorithms",score:3,notes:""},{skill:"Correctness vs Efficiency balance",score:3,notes:""}],summary:""},{id:"ds-knowledge",title:"3.    (Data Structures Knowledge)",weight:15,items:[{skill:"Arrays, Lists, Stacks, Queues",score:3,notes:""},{skill:"Hash maps / Dictionaries usage",score:3,notes:""},{skill:"Choosing right DS",score:3,notes:""},{skill:"Time/Space trade-offs awareness",score:3,notes:""}],summary:""},{id:"se-practices",title:"4.    (Software Engineering Practices)",weight:15,items:[{skill:"Git branching & workflow",score:3,notes:""},{skill:"Simple Unit Testing",score:3,notes:""},{skill:"Debugging & Troubleshooting",score:3,notes:""},{skill:"Dev/Stage/Prod environments",score:3,notes:""},{skill:"Documentation skills",score:3,notes:""}],summary:""},{id:"system-basics",title:"5.    (System & Architecture Basics)",weight:10,items:[{skill:"Understanding of APIs",score:3,notes:""},{skill:"Client-server concepts",score:3,notes:""},{skill:"Basic database concepts",score:3,notes:""},{skill:"Scalability & Performance awareness",score:3,notes:""}],summary:""},{id:"teamwork",title:"6.   (Communication & Collaboration)",weight:10,items:[{skill:"Explaining technical ideas",score:3,notes:""},{skill:"Working with feedback",score:3,notes:""},{skill:"Pair programming & teamwork",score:3,notes:""},{skill:"Asking clarifying questions",score:3,notes:""}],summary:""}],CG=[{id:"system-design",title:"1. System Design & Architecture",weight:30,items:[{skill:"Designing scalable systems",score:3,notes:""},{skill:"Breaking architecture into components",score:3,notes:""},{skill:"API design & integration",score:3,notes:""},{skill:"Database modeling & optimization",score:3,notes:""},{skill:"Considering performance, security, reliability",score:3,notes:""}],summary:""},{id:"problem-solving-adv",title:"2. Advanced Problem-Solving & Code Quality",weight:20,items:[{skill:"Solving complex engineering problems",score:3,notes:""},{skill:"Optimizing algorithms & performance",score:3,notes:""},{skill:"Writing clean, maintainable, scalable code",score:3,notes:""},{skill:"Applying design patterns effectively",score:3,notes:""},{skill:"Handling ambiguity in requirements",score:3,notes:""}],summary:""},{id:"tech-leadership",title:"3. Technical Leadership & Collaboration",weight:15,items:[{skill:"Mentoring junior/mid engineers",score:3,notes:""},{skill:"Leading technical discussions",score:3,notes:""},{skill:"Driving engineering decisions",score:3,notes:""},{skill:"Cross-team collaboration",score:3,notes:""},{skill:"Communicating complex ideas clearly",score:3,notes:""}],summary:""},{id:"best-practices-adv",title:"4. Software Engineering Best Practices",weight:15,items:[{skill:"Code reviews (depth, clarity, impact)",score:3,notes:""},{skill:"Testing strategy (unit, integration, automation)",score:3,notes:""},{skill:"CI/CD pipeline understanding",score:3,notes:""},{skill:"Observability (logging, metrics, tracing)",score:3,notes:""},{skill:"DevOps & deployment awareness",score:3,notes:""}],summary:""},{id:"ownership-delivery",title:"5. Ownership & Delivery",weight:10,items:[{skill:"Taking ownership of projects end-to-end",score:3,notes:""},{skill:"Estimation accuracy & planning",score:3,notes:""},{skill:"Delivering high-quality work on time",score:3,notes:""},{skill:"Managing ambiguity & risk",score:3,notes:""}],summary:""},{id:"stakeholder-interaction",title:"6. Communication & Stakeholder Interaction",weight:10,items:[{skill:"Communicating with non-technical stakeholders",score:3,notes:""},{skill:"Presenting architecture / solution proposals",score:3,notes:""},{skill:"Managing technical disagreements",score:3,notes:""},{skill:"Documentation quality",score:3,notes:""}],summary:""}],RG=[{id:"strategy-leadership",title:"1. Technical Strategy & Architecture Leadership",weight:30,items:[{skill:"Defining longterm technical direction",score:3,notes:""},{skill:"Architecture for large-scale systems",score:3,notes:""},{skill:"Designing for reliability, performance & cost",score:3,notes:""},{skill:"Setting engineering standards & best practices",score:3,notes:""},{skill:"Making highimpact technical decisions",score:3,notes:""}],summary:""},{id:"deep-expertise",title:"2. Complex System Design & Deep Technical Expertise",weight:20,items:[{skill:"Designing distributed systems",score:3,notes:""},{skill:"Deep expertise in critical tech stack",score:3,notes:""},{skill:"Understanding of data architecture & flows",score:3,notes:""},{skill:"Handling ambiguity in complex designs",score:3,notes:""},{skill:"Innovating technical solutions",score:3,notes:""}],summary:""},{id:"cross-team-influence",title:"3. CrossTeam Technical Leadership & Influence",weight:15,items:[{skill:"Influencing across multiple teams/orgs",score:3,notes:""},{skill:"Leading architecture reviews",score:3,notes:""},{skill:"Driving alignment between engineering groups",score:3,notes:""},{skill:"Supporting and unblocking teams",score:3,notes:""},{skill:"Communicating technical vision",score:3,notes:""}],summary:""},{id:"mentorship-culture",title:"4. Mentorship, Talent Development & Engineering Culture",weight:10,items:[{skill:"Mentoring senior/mid engineers",score:3,notes:""},{skill:"Growing technical leaders",score:3,notes:""},{skill:"Raising engineering quality standards",score:3,notes:""},{skill:"Fostering impactful learning culture",score:3,notes:""}],summary:""},{id:"execution-impact",title:"5. Execution, Ownership & Impact Delivery",weight:15,items:[{skill:"Executing large, multi-quarter initiatives",score:3,notes:""},{skill:"Driving clarity in ambiguous situations",score:3,notes:""},{skill:"Managing risk, trade-offs, and dependencies",score:3,notes:""},{skill:"Delivering measurable business impact",score:3,notes:""},{skill:"Ensuring long-term maintainability",score:3,notes:""}],summary:""},{id:"stakeholder-alignment",title:"6. Communication, Stakeholder Alignment & Influence",weight:10,items:[{skill:"Communicating with executives & non-technical leads",score:3,notes:""},{skill:"Translating strategy into actionable engineering plans",score:3,notes:""},{skill:"Writing high-quality technical documents",score:3,notes:""},{skill:"Handling conflict and technical disagreements",score:3,notes:""}],summary:""}],DG=({registration:n,onComplete:e,onCancel:t,interviewerName:i})=>{const[r,a]=O.useState(0),[c,h]=O.useState(!1),[m,f]=O.useState(null),[g,E]=O.useState(null),[T,S]=O.useState(!1),N=n.level==="junior"?IG:NG,[U,D]=O.useState(JSON.parse(JSON.stringify(N))),q=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong for Level"],B=()=>{let V=0;return U.forEach(M=>{const P=M.items.reduce((L,pe)=>L+pe.score,0)/(M.items.length*5);V+=P*M.weight}),Math.round(V)},H=(V,M,P)=>{const L=[...U];L[V].items[M].score=P,D(L)},ee=(V,M,P)=>{const L=[...U];L[V].items[M].notes=P,D(L)},re=async(V,M)=>{const P=U[V].items[M];f(`${V}-${M}`);const L=await pc.suggestNote(P.skill,P.score,n.level==="junior"?"Junior Level":"Fresh Level");ee(V,M,L),f(null)},F=async()=>{var L;h(!0);const V=B(),M=i||((L=st.currentUser)==null?void 0:L.displayName)||"",P=await pc.generateFinalReport(n.fullName,M,n.level==="junior"?"Junior Software Engineer":"Fresh Software Engineer",{sections:U.map(pe=>({title:pe.title,score:`${Math.round(pe.items.reduce((Ie,Y)=>Ie+Y.score,0)/(pe.items.length*5)*pe.weight)}/${pe.weight}`,items:pe.items.map(Ie=>({skill:Ie.skill,score:Ie.score,notes:Ie.notes}))})),totalScore:`${V}/100`});P&&(E(P),S(!0)),h(!1)},C=async()=>{var V,M;h(!0);try{const P=un(pt,"registrations",n.id);await Ka(P,{status:"completed",evaluationReport:g,finalScore:B(),completedAt:ur(),interviewerId:(V=st.currentUser)==null?void 0:V.uid,interviewerName:i||((M=st.currentUser)==null?void 0:M.displayName)||""}),await ip({to_email:n.email,user_name:n.fullName,request_number:n.requestNumber||n.id,new_status:"completed"}),e()}catch{alert("   .")}finally{h(!1)}},R=U[r],I=B();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-2xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300 overflow-hidden",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0 border-b-4 border-accent",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-accent to-teal-400 rounded-3xl flex items-center justify-center shadow-lg shadow-accent/40 animate-pulse",children:u.jsx(H0,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("h2",{className:"text-xl md:text-2xl font-black",children:n.fullName}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ss,{className:"w-4 h-4"}),u.jsxs("span",{className:"uppercase tracking-widest",children:[n.level," Assessment Flow"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8 bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:"Section"}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[r+1," / ",U.length]})]}),u.jsx("div",{className:"h-10 w-px bg-white/10"}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:"Live Score"}),u.jsxs("div",{className:`text-3xl font-black transition-all duration-500 ${I>=75?"text-emerald-400":I>=60?"text-amber-400":"text-rose-400"}`,children:[I,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2.5 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-accent shadow-[0_0_20px_rgba(13,148,136,0.6)] transition-all duration-1000 ease-out",style:{width:`${(r+1)/U.length*100}%`}})})]}),T?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[4rem] border-4 border-dashed border-gray-200 relative",children:[u.jsxs("div",{className:"flex items-center justify-between mb-12 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-3xl flex items-center justify-center shadow-lg shadow-emerald-100",children:u.jsx(As,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-3xl font-black text-gray-800",children:"  "}),u.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"     "})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("button",{onClick:()=>S(!1),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 rounded-2xl font-black text-gray-600 hover:bg-gray-100 transition-all",children:[u.jsx(z0,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview",className:"bg-white rounded-[3rem] p-8 md:p-12 shadow-2xl border border-gray-100 prose prose-teal max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  :"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[B(),"%"]})]}),u.jsx("textarea",{value:g||"",onChange:V=>E(V.target.value),className:"w-full min-h-[600px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 custom-scrollbar"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center text-accent shadow-inner",children:u.jsx(Em,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:R.title})]}),u.jsxs("div",{className:"text-[10px] font-black bg-accent/10 text-accent px-3 py-1 rounded-full border border-accent/20",children:["WEIGHT: ",R.weight,"%"]})]}),u.jsx("div",{className:"space-y-16",children:R.items.map((V,M)=>u.jsxs("div",{className:"group/item animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${M*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-8 mb-8",children:[u.jsxs("div",{className:"space-y-2 flex-grow",children:[u.jsxs("label",{className:"text-xl font-bold text-gray-900 flex items-center gap-4",children:[u.jsx("span",{className:"w-8 h-8 rounded-xl bg-primary text-white flex items-center justify-center text-xs shadow-md group-hover/item:bg-accent transition-colors",children:M+1}),V.skill]}),u.jsxs("p",{className:"text-sm text-gray-400 mr-12 leading-relaxed",children:["Evaluate the candidate's depth and practical application of ",V.skill.toLowerCase()," for the ",n.level," level."]})]}),u.jsx("div",{className:"flex flex-wrap gap-3 shrink-0 justify-end",children:[1,2,3,4,5].map(P=>u.jsxs("button",{onClick:()=>H(r,M,P),className:`
                            group/btn relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-110 active:scale-95
                            ${V.score===P?P>=4?"bg-emerald-500 border-emerald-400 text-white shadow-xl shadow-emerald-100":P===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-xl shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/40 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:P}),u.jsx("span",{className:"text-[7px] font-black mt-1 opacity-0 group-hover/btn:opacity-100 transition-opacity absolute -bottom-6 bg-gray-800 text-white px-2 py-0.5 rounded whitespace-nowrap z-20 pointer-events-none",children:q[P-1]})]},P))})]}),u.jsxs("div",{className:"relative mr-12 group/note",children:[u.jsx("div",{className:"absolute -left-1 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within/note:bg-accent transition-colors"}),u.jsx("textarea",{value:V.notes,onChange:P=>ee(r,M,P.target.value),placeholder:"        ...",className:"w-full bg-gray-50 border border-gray-200 rounded-3xl p-6 pr-6 pl-16 text-sm focus:bg-white focus:ring-4 focus:ring-accent/10 focus:border-accent outline-none min-h-[120px] transition-all"}),u.jsx("button",{onClick:()=>re(r,M),disabled:m===`${r}-${M}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-200 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-md transition-all flex items-center gap-2 group/ai active:scale-90",title:"AI Magic Notes",children:m===`${r}-${M}`?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Hi,{className:"w-5 h-5 group-hover/ai:rotate-12"}),u.jsx("span",{className:"text-[10px] font-black hidden lg:block",children:" "})]})})]})]},M))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/80 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsxs("button",{onClick:t,className:"text-gray-400 hover:text-rose-500 font-black text-sm flex items-center gap-2 transition-colors",children:[u.jsx(Zs,{className:"w-5 h-5"}),"   "]}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:T?u.jsxs($e,{onClick:C,disabled:c,className:"w-full md:w-auto px-16 py-5 rounded-[2rem] gap-4 shadow-2xl shadow-emerald-300 bg-emerald-600 hover:bg-emerald-700 border-none text-xl",children:[c?u.jsx(xt,{className:"w-6 h-6 animate-spin"}):u.jsx(Id,{className:"w-6 h-6"}),"   "]}):u.jsxs(u.Fragment,{children:[r>0&&u.jsx($e,{variant:"outline",onClick:()=>a(r-1),className:"flex-1 md:flex-none rounded-2xl px-10",children:""}),r<U.length-1?u.jsx($e,{onClick:()=>a(r+1),className:"flex-1 md:flex-none rounded-2xl px-12 gap-3 group",children:""}):u.jsxs($e,{onClick:F,disabled:c,className:"flex-1 md:flex-none rounded-2xl px-12 gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-2xl shadow-accent/30",children:[c?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Hi,{className:"w-5 h-5"}),"   "]})]})})]})]})})},MG=({registration:n,onComplete:e,onCancel:t,interviewerName:i})=>{const[r,a]=O.useState(0),[c,h]=O.useState(!1),[m,f]=O.useState(null),[g,E]=O.useState(null),[T,S]=O.useState(!1),[N,U]=O.useState(JSON.parse(JSON.stringify(CG))),D=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong Expert"],q=()=>{let I=0;return N.forEach(V=>{const M=V.items.reduce((P,L)=>P+L.score,0)/(V.items.length*5);I+=M*V.weight}),Math.round(I)},B=(I,V,M)=>{const P=[...N];P[I].items[V].score=M,U(P)},H=(I,V,M)=>{const P=[...N];P[I].items[V].notes=M,U(P)},ee=async(I,V)=>{const M=N[I].items[V];f(`${I}-${V}`);const P=await pc.suggestNote(M.skill,M.score,"Senior Level");H(I,V,P),f(null)},re=async()=>{var P;h(!0);const I=q(),V=i||((P=st.currentUser)==null?void 0:P.displayName)||"",M=await pc.generateFinalReport(n.fullName,V,"Senior Software Engineer",{sections:N.map(L=>({title:L.title,score:`${Math.round(L.items.reduce((pe,Ie)=>pe+Ie.score,0)/(L.items.length*5)*L.weight)}/${L.weight}`,items:L.items.map(pe=>({skill:pe.skill,score:pe.score,notes:pe.notes}))})),totalScore:`${I}/100`});M&&(E(M),S(!0)),h(!1)},F=async()=>{var I,V;h(!0);try{const M=un(pt,"registrations",n.id);await Ka(M,{status:"completed",evaluationReport:g,finalScore:q(),completedAt:ur(),interviewerId:(I=st.currentUser)==null?void 0:I.uid,interviewerName:i||((V=st.currentUser)==null?void 0:V.displayName)||""}),await ip({to_email:n.email,user_name:n.fullName,request_number:n.requestNumber||n.id,new_status:"completed"}),e()}catch{alert("   .")}finally{h(!1)}},C=N[r],R=q();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-accent rounded-3xl flex items-center justify-center shadow-lg shadow-accent/20 animate-pulse",children:u.jsx(H0,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right md:text-right",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-black",children:[": ",n.fullName]}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ss,{className:"w-4 h-4"}),u.jsx("span",{children:"Senior Level Assessment Flow"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[r+1," / ",N.length]})]}),u.jsx("div",{className:"h-12 w-px bg-white/10 hidden md:block"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:" "}),u.jsxs("div",{className:`text-4xl font-black transition-colors duration-500 ${R>=80?"text-emerald-400":R>=65?"text-amber-400":"text-rose-400"}`,children:[R,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent shadow-[0_0_15px_rgba(13,148,136,0.8)] transition-all duration-700",style:{width:`${(r+1)/N.length*100}%`}})})]}),T?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[3rem] border-2 border-dashed border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-10 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center",children:u.jsx(As,{className:"w-7 h-7"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:"   (Senior)"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs($e,{variant:"outline",className:"gap-2 rounded-2xl",onClick:()=>S(!1),children:[u.jsx(z0,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview-senior",className:"bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 prose prose-teal max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  (Senior):"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[q(),"%"]})]}),u.jsx("textarea",{value:g||"",onChange:I=>E(I.target.value),className:"w-full min-h-[500px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 text-right"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center text-gray-400",children:u.jsx(Em,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-black text-gray-800",children:C.title})]}),u.jsx("div",{className:"space-y-16",children:C.items.map((I,V)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${V*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[u.jsxs("div",{className:"space-y-1 flex-grow",children:[u.jsxs("label",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[u.jsx("span",{className:"w-6 h-6 rounded-lg bg-primary/5 text-primary flex items-center justify-center text-xs",children:V+1}),I.skill]}),u.jsx("p",{className:"text-xs text-gray-400 mr-9",children:"       ."})]}),u.jsx("div",{className:"flex flex-wrap gap-2 shrink-0 justify-end",children:[1,2,3,4,5].map(M=>u.jsxs("button",{onClick:()=>B(r,V,M),className:`
                            group relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-105 active:scale-95
                            ${I.score===M?M>=4?"bg-emerald-500 border-emerald-400 text-white shadow-lg shadow-emerald-100":M===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-xl shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/30 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:M}),u.jsx("span",{className:"text-[8px] font-bold mt-1 text-center leading-tight opacity-0 group-hover:opacity-100 transition-opacity absolute -top-8 bg-gray-900 text-white px-2 py-1 rounded whitespace-nowrap z-10 pointer-events-none",children:D[M-1]})]},M))})]}),u.jsxs("div",{className:"relative group mr-9",children:[u.jsx("div",{className:"absolute -right-7 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within:bg-accent transition-colors"}),u.jsx("textarea",{value:I.notes,onChange:M=>H(r,V,M.target.value),placeholder:"       ...",className:"w-full bg-gray-50 border border-gray-100 rounded-[1.5rem] p-5 pr-5 pl-14 text-sm focus:bg-white focus:ring-2 focus:ring-accent outline-none min-h-[100px] transition-all text-right"}),u.jsx("button",{onClick:()=>ee(r,V),disabled:m===`${r}-${V}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-100 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-sm transition-all flex items-center gap-2 group/ai",title:"  ",children:m===`${r}-${V}`?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Hi,{className:"w-5 h-5 group-hover/ai:animate-bounce"}),u.jsx("span",{className:"text-[10px] font-black hidden group-hover/ai:block",children:" "})]})})]})]},V))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/50 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsx($e,{variant:"outline",onClick:t,className:"w-full md:w-auto rounded-2xl",children:" "}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:T?u.jsxs($e,{onClick:F,disabled:c,className:"w-full md:w-auto px-10 rounded-2xl gap-3 shadow-2xl shadow-emerald-200 bg-emerald-600 hover:bg-emerald-700 border-none",children:[c?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Id,{className:"w-5 h-5"}),"   "]}):u.jsxs(u.Fragment,{children:[r>0&&u.jsx($e,{variant:"outline",onClick:()=>a(r-1),className:"flex-1 md:flex-none rounded-2xl",children:""}),r<N.length-1?u.jsx($e,{onClick:()=>a(r+1),className:"flex-1 md:flex-none rounded-2xl gap-2",children:""}):u.jsxs($e,{onClick:re,disabled:c,className:"flex-1 md:flex-none rounded-2xl gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-xl shadow-accent/20",children:[c?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Hi,{className:"w-5 h-5 animate-pulse"}),"   "]})]})})]})]})})},kG=({registration:n,onComplete:e,onCancel:t,interviewerName:i})=>{const[r,a]=O.useState(0),[c,h]=O.useState(!1),[m,f]=O.useState(null),[g,E]=O.useState(null),[T,S]=O.useState(!1),[N,U]=O.useState(JSON.parse(JSON.stringify(RG))),D=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong Expert"],q=()=>{let I=0;return N.forEach(V=>{const M=V.items.reduce((P,L)=>P+L.score,0)/(V.items.length*5);I+=M*V.weight}),Math.round(I)},B=(I,V,M)=>{const P=[...N];P[I].items[V].score=M,U(P)},H=(I,V,M)=>{const P=[...N];P[I].items[V].notes=M,U(P)},ee=async(I,V)=>{const M=N[I].items[V];f(`${I}-${V}`);const P=await pc.suggestNote(M.skill,M.score,"Staff Level");H(I,V,P),f(null)},re=async()=>{var P;h(!0);const I=q(),V=i||((P=st.currentUser)==null?void 0:P.displayName)||"",M=await pc.generateFinalReport(n.fullName,V,"Staff Software Engineer",{sections:N.map(L=>({title:L.title,score:`${Math.round(L.items.reduce((pe,Ie)=>pe+Ie.score,0)/(L.items.length*5)*L.weight)}/${L.weight}`,items:L.items.map(pe=>({skill:pe.skill,score:pe.score,notes:pe.notes}))})),totalScore:`${I}/100`});M&&(E(M),S(!0)),h(!1)},F=async()=>{var I,V;h(!0);try{const M=un(pt,"registrations",n.id);await Ka(M,{status:"completed",evaluationReport:g,finalScore:q(),completedAt:ur(),interviewerId:(I=st.currentUser)==null?void 0:I.uid,interviewerName:i||((V=st.currentUser)==null?void 0:V.displayName)||""}),await ip({to_email:n.email,user_name:n.fullName,request_number:n.requestNumber||n.id,new_status:"completed"}),e()}catch{alert("   .")}finally{h(!1)}},C=N[r],R=q();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-accent rounded-3xl flex items-center justify-center shadow-lg shadow-accent/20 animate-pulse",children:u.jsx(H0,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right md:text-right",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-black",children:[": ",n.fullName]}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ss,{className:"w-4 h-4"}),u.jsx("span",{children:"Staff Level Assessment Flow"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[r+1," / ",N.length]})]}),u.jsx("div",{className:"h-12 w-px bg-white/10 hidden md:block"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:" "}),u.jsxs("div",{className:`text-4xl font-black transition-colors duration-500 ${R>=85?"text-emerald-400":R>=70?"text-amber-400":"text-rose-400"}`,children:[R,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent shadow-[0_0_15px_rgba(13,148,136,0.8)] transition-all duration-700",style:{width:`${(r+1)/N.length*100}%`}})})]}),T?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[3rem] border-2 border-dashed border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-10 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center",children:u.jsx(As,{className:"w-7 h-7"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:"   (Staff)"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs($e,{variant:"outline",className:"gap-2 rounded-2xl",onClick:()=>S(!1),children:[u.jsx(z0,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview-staff",className:"bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 prose prose-teal max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  (Staff):"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[q(),"%"]})]}),u.jsx("textarea",{value:g||"",onChange:I=>E(I.target.value),className:"w-full min-h-[500px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 text-right"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center text-gray-400",children:u.jsx(Em,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-black text-gray-800",children:C.title})]}),u.jsx("div",{className:"space-y-16",children:C.items.map((I,V)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${V*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[u.jsxs("div",{className:"space-y-1 flex-grow",children:[u.jsxs("label",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[u.jsx("span",{className:"w-6 h-6 rounded-lg bg-primary/5 text-primary flex items-center justify-center text-xs",children:V+1}),I.skill]}),u.jsx("p",{className:"text-xs text-gray-400 mr-9",children:"       ."})]}),u.jsx("div",{className:"flex flex-wrap gap-2 shrink-0 justify-end",children:[1,2,3,4,5].map(M=>u.jsxs("button",{onClick:()=>B(r,V,M),className:`
                            group relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-105 active:scale-95
                            ${I.score===M?M>=4?"bg-emerald-500 border-emerald-400 text-white shadow-lg shadow-emerald-100":M===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-lg shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/30 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:M}),u.jsx("span",{className:"text-[8px] font-bold mt-1 text-center leading-tight opacity-0 group-hover:opacity-100 transition-opacity absolute -top-8 bg-gray-900 text-white px-2 py-1 rounded whitespace-nowrap z-10 pointer-events-none",children:D[M-1]})]},M))})]}),u.jsxs("div",{className:"relative group mr-9",children:[u.jsx("div",{className:"absolute -right-7 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within:bg-accent transition-colors"}),u.jsx("textarea",{value:I.notes,onChange:M=>H(r,V,M.target.value),placeholder:"       ...",className:"w-full bg-gray-50 border border-gray-100 rounded-[1.5rem] p-5 pr-5 pl-14 text-sm focus:bg-white focus:ring-2 focus:ring-accent outline-none min-h-[100px] transition-all text-right"}),u.jsx("button",{onClick:()=>ee(r,V),disabled:m===`${r}-${V}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-100 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-sm transition-all flex items-center gap-2 group/ai",title:"  ",children:m===`${r}-${V}`?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Hi,{className:"w-5 h-5 group-hover/ai:animate-bounce"}),u.jsx("span",{className:"text-[10px] font-black hidden group-hover/ai:block",children:" "})]})})]})]},V))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/50 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsx($e,{variant:"outline",onClick:t,className:"w-full md:w-auto rounded-2xl",children:" "}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:T?u.jsxs($e,{onClick:F,disabled:c,className:"w-full md:w-auto px-10 rounded-2xl gap-3 shadow-2xl shadow-emerald-200 bg-emerald-600 hover:bg-emerald-700 border-none",children:[c?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Id,{className:"w-5 h-5"}),"   "]}):u.jsxs(u.Fragment,{children:[r>0&&u.jsx($e,{variant:"outline",onClick:()=>a(r-1),className:"flex-1 md:flex-none rounded-2xl",children:""}),r<N.length-1?u.jsx($e,{onClick:()=>a(r+1),className:"flex-1 md:flex-none rounded-2xl gap-2",children:""}):u.jsxs($e,{onClick:re,disabled:c,className:"flex-1 md:flex-none rounded-2xl gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-xl shadow-accent/20",children:[c?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Hi,{className:"w-5 h-5 animate-pulse"}),"   "]})]})})]})]})})},{onAuthStateChanged:PG}=Ni,TR=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(!0),[r,a]=O.useState(null),[c,h]=O.useState(null),[m,f]=O.useState(""),[g,E]=O.useState("ALL"),[T,S]=O.useState(1),N=10,[U,D]=O.useState(null),[q,B]=O.useState(null),[H,ee]=O.useState(0),[re,F]=O.useState(null),[C,R]=O.useState(null),[I,V]=O.useState(null),[M,P]=O.useState(null),[L,pe]=O.useState(null),[Ie,Y]=O.useState(""),[ce,ye]=O.useState(!1),[se,De]=O.useState(!1),[z,ae]=O.useState({meeting:"",report:"",video:""}),ve=async()=>{i(!0);try{const me=lr(cs(pt,"registrations")),Me=await fc(me),at=[];Me.forEach(Kn=>{const Yn=Kn.data();at.push({id:Kn.id,...Yn})}),at.sort((Kn,Yn)=>{var $i,Ii;const fi=(($i=Kn.submittedAt)==null?void 0:$i.seconds)||0;return(((Ii=Yn.submittedAt)==null?void 0:Ii.seconds)||0)-fi}),e(at)}catch(me){console.error("Error fetching registrations:",me),h("   .")}finally{i(!1)}};O.useEffect(()=>{const me=PG(st,async Me=>{if(Me){const at=await Ms(un(pt,"users",Me.uid));at.exists()&&a(at.data())}});return ve(),()=>me()},[]),O.useEffect(()=>{S(1)},[m,g]);const Ee=me=>{D(me),Y(me.status||"pending")},ke=async me=>{if(B(me),me.userId)try{const Me=await Ms(un(pt,"users",me.userId));Me.exists()&&ee(Me.data().referralCount||0)}catch{ee(0)}},qe=me=>{F(me)},tt=me=>{const Me=document.getElementById("admin-report-to-print");if(!Me)return;De(!0);const at={margin:10,filename:`__${me}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(at).from(Me).save().then(()=>{De(!1)}).catch(Kn=>{De(!1)})},Wt=me=>{R(me),ae({meeting:me.meetingLink||"",report:me.reportLink||"",video:me.videoLink||""})},We=()=>{D(null),B(null),ee(0),F(null),R(null),V(null),P(null),pe(null),ye(!1)},ms=async()=>{if(U){ye(!0);try{const me=un(pt,"registrations",U.id);await Ka(me,{status:Ie}),await ip({to_email:U.email,user_name:U.fullName,request_number:U.requestNumber||U.id,new_status:Ie}),e(Me=>Me.map(at=>at.id===U.id?{...at,status:Ie}:at)),We()}catch{alert("   .")}finally{ye(!1)}}},nn=async()=>{if(C){ye(!0);try{const me=un(pt,"registrations",C.id);await Ka(me,{meetingLink:z.meeting,reportLink:z.report,videoLink:z.video}),e(Me=>Me.map(at=>at.id===C.id?{...at,meetingLink:z.meeting,reportLink:z.report,videoLink:z.video}:at)),We()}catch{alert("   .")}finally{ye(!1)}}},di=me=>{switch(me){case"completed":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:""});case"approved":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:""});case"canceled":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:""});case"reviewing":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:" "});default:return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:" "})}},zi=me=>{switch(me){case"fresh":return" (fresh)";case"junior":return" (junior)";case"mid-senior":return"  (mid/senior)";case"lead-staff":return" (lead/staff)";default:return me}},zn=(r==null?void 0:r.role)==="admin",$n=(r==null?void 0:r.role)==="maintainer",hi=(r==null?void 0:r.role)==="interviewer",Ls=r==null?void 0:r.field,dr={FE:"Frontend",BE:"Backend",UX:"UX Design",mobile:"Mobile App"},Lt=n.filter(me=>{var Ii,Us,Jn,Xt,gn;if(hi&&Ls&&!zn){const Vt=dr[Ls];if(me.field!==Vt||me.status!=="approved"&&me.status!=="completed")return!1}const Me=m.toLowerCase().trim(),at=g==="ALL"||me.status===g||!me.status&&g==="pending";if(!Me&&at)return!0;const Kn=((Ii=me.email)==null?void 0:Ii.toLowerCase().includes(Me))||!1,Yn=((Us=me.whatsapp)==null?void 0:Us.includes(Me))||!1,fi=((Jn=me.fullName)==null?void 0:Jn.toLowerCase().includes(Me))||!1,ti=((Xt=me.requestNumber)==null?void 0:Xt.toLowerCase().includes(Me))||!1,$i=((gn=me.interviewerName)==null?void 0:gn.toLowerCase().includes(Me))||!1;return(Kn||Yn||fi||ti||$i)&&at}),Ut=Math.ceil(Lt.length/N),Ln=Lt.slice((T-1)*N,T*N),Yr=()=>zn||$n?["pending","reviewing","approved","completed","canceled"]:hi?["completed","canceled"]:[];return u.jsxs("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50 relative",children:[u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[u.jsxs("h1",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[u.jsx(zo,{className:"w-8 h-8 text-accent"})," "]}),u.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm text-sm font-medium text-gray-600 border border-gray-200",children:[" : ",Lt.length]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-grow max-w-md",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx($0,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:m,onChange:me=>f(me.target.value),className:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-accent focus:border-accent bg-white shadow-sm",placeholder:"   ..."})]}),u.jsxs("div",{className:"relative w-full md:w-56",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(tP,{className:"h-5 w-5 text-gray-400"})}),u.jsxs("select",{value:g,onChange:me=>E(me.target.value),className:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-accent focus:border-accent bg-white shadow-sm appearance-none",children:[u.jsx("option",{value:"ALL",children:"  "}),u.jsx("option",{value:"pending",children:" "}),u.jsx("option",{value:"reviewing",children:" "}),u.jsx("option",{value:"approved",children:""}),u.jsx("option",{value:"completed",children:""}),u.jsx("option",{value:"canceled",children:""})]})]})]})]}),t?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(xt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full whitespace-nowrap text-right",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:" "}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:" "}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:Ln.length>0?Ln.map(me=>{var Me,at;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded border border-gray-200",children:me.requestNumber||`MQ-${me.id.slice(0,6).toUpperCase()}`})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"font-bold text-gray-900",children:me.fullName}),u.jsx("div",{className:"flex flex-col text-[10px] text-gray-400",children:u.jsx("span",{className:"dir-ltr text-right",children:me.email})})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black border ${(Me=me.planName)!=null&&Me.includes("")?"bg-accent/5 text-accent border-accent/20":"bg-gray-50 text-gray-500 border-gray-200"}`,children:[((at=me.planName)==null?void 0:at.includes(""))&&u.jsx(Hi,{className:"w-3 h-3"}),me.planName||" "]})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700",children:me.field}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded font-bold",children:zi(me.level)}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[me.experience,"  "]})]})]}),u.jsx("td",{className:"px-6 py-4",children:me.interviewerName?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-primary text-white text-[10px] rounded-full flex items-center justify-center font-bold",children:me.interviewerName.charAt(0)}),u.jsx("span",{className:"text-xs font-bold text-gray-600",children:me.interviewerName})]}):u.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"flex items-center gap-2",children:di(me.status)})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[me.status==="completed"&&me.evaluationReport&&u.jsx("button",{onClick:()=>qe(me),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  ",children:u.jsx(zo,{className:"w-5 h-5"})}),hi&&(me.status==="approved"||me.status==="reviewing")&&u.jsxs(u.Fragment,{children:[(me.level==="fresh"||me.level==="junior")&&u.jsxs("button",{onClick:()=>V(me),className:"p-2 text-accent hover:bg-accent/10 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Junior/Fresh",children:[u.jsx(uw,{className:"w-5 h-5"}),"  Jr"]}),me.level==="mid-senior"&&u.jsxs("button",{onClick:()=>P(me),className:"p-2 text-primary hover:bg-primary/10 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Senior/Mid",children:[u.jsx(Ss,{className:"w-5 h-5"}),"  Senior"]}),me.level==="lead-staff"&&u.jsxs("button",{onClick:()=>pe(me),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Lead/Staff",children:[u.jsx(Ss,{className:"w-5 h-5"}),"  Lead"]})]}),(me.status==="approved"||me.status==="completed")&&u.jsx("button",{onClick:()=>Wt(me),className:"p-2 text-gray-400 hover:text-accent rounded-full transition-colors",title:" ",children:u.jsx(Fy,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>ke(me),className:"p-2 text-gray-400 hover:text-blue-600 rounded-full transition-colors",title:" ",children:u.jsx(bN,{className:"w-5 h-5"})}),(zn||$n||hi)&&u.jsx("button",{onClick:()=>Ee(me),className:"p-2 text-gray-400 hover:text-accent rounded-full transition-colors",title:" ",children:u.jsx(IP,{className:"w-5 h-5"})})]})})]},me.id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"    ."})})})]})})}),Ut>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>S(me=>Math.max(me-1,1)),disabled:T===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(vm,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(Ut)].map((me,Me)=>u.jsx("button",{onClick:()=>S(Me+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${T===Me+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:Me+1},Me+1))}),u.jsx("button",{onClick:()=>S(me=>Math.min(me+1,Ut)),disabled:T===Ut,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})})]})]})]}),I&&u.jsx(DG,{registration:I,interviewerName:r==null?void 0:r.name,onComplete:()=>{We(),ve()},onCancel:We}),M&&u.jsx(MG,{registration:M,interviewerName:r==null?void 0:r.name,onComplete:()=>{We(),ve()},onCancel:We}),L&&u.jsx(kG,{registration:L,interviewerName:r==null?void 0:r.name,onComplete:()=>{We(),ve()},onCancel:We}),re&&u.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/90 backdrop-blur-lg flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl relative animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-8 text-white flex justify-between items-center shrink-0 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-accent rounded-2xl flex items-center justify-center shadow-lg shadow-accent/20",children:u.jsx(Ss,{className:"w-6 h-6 md:w-8 md:h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg md:text-xl font-black text-right",children:"  "}),u.jsx("p",{className:"text-accent text-xs font-bold uppercase tracking-widest text-right",children:re.fullName})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>tt(re.fullName),disabled:se,className:"p-2 md:p-3 bg-accent/20 hover:bg-accent/30 text-accent rounded-full transition-colors flex items-center gap-2 text-xs md:text-sm font-bold",title:" PDF",children:[se?u.jsx(xt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:" PDF"})]}),u.jsx("button",{onClick:We,className:"p-2 md:p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(Zs,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),u.jsxs("div",{id:"admin-report-to-print",className:"p-6 md:p-10 overflow-y-auto custom-scrollbar flex-grow bg-white",children:[u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100 flex items-center justify-between mb-8 shadow-inner",children:[u.jsx("div",{className:"text-emerald-800 font-black",children:"  :"}),u.jsxs("div",{className:"text-3xl md:text-4xl font-black text-emerald-600",children:["%",re.finalScore||"-"]})]}),u.jsx("div",{className:"prose prose-slate max-w-none dir-rtl text-right whitespace-pre-wrap leading-loose font-medium text-gray-700",children:re.evaluationReport})]}),u.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-100 bg-gray-50 flex flex-col md:flex-row justify-center items-center gap-4 shrink-0",children:[u.jsx($e,{variant:"primary",className:"px-12 py-4 w-full md:w-auto text-lg rounded-2xl shadow-xl shadow-accent/20",onClick:We,children:" "}),u.jsxs("button",{onClick:()=>tt(re.fullName),disabled:se,className:"flex items-center justify-center gap-2 px-10 py-4 bg-white border-2 border-accent text-accent rounded-2xl font-bold hover:bg-accent hover:text-white transition-all w-full md:w-auto shadow-sm disabled:opacity-50",children:[se?u.jsx(xt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),"   PDF"]})]})]})}),U&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-gray-800",children:"  "}),u.jsx("button",{onClick:We,className:"text-gray-400 hover:text-red-500",children:u.jsx(Zs,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"space-y-3 mb-8",children:Yr().map(me=>u.jsxs("label",{className:`flex items-center gap-3 p-4 border rounded-2xl cursor-pointer transition-all ${Ie===me?"border-accent bg-accent/5 ring-1 ring-accent":"border-gray-100 hover:bg-gray-50"}`,children:[u.jsx("input",{type:"radio",name:"status",value:me,checked:Ie===me,onChange:Me=>Y(Me.target.value),className:"text-accent focus:ring-accent w-5 h-5"}),u.jsx("span",{className:"font-bold text-sm text-gray-700 capitalize",children:me==="pending"?" ":me==="reviewing"?" ":me==="approved"?"":me==="completed"?"":""})]},me))}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx($e,{onClick:ms,disabled:ce,className:"flex-1 justify-center rounded-2xl",children:ce?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):" "}),u.jsx($e,{variant:"outline",onClick:We,className:"rounded-2xl",children:""})]})]})]})}),q&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-primary px-8 py-6 text-white flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-accent rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx(ls,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[u.jsx("h3",{className:"text-xl font-black",children:q.fullName}),H>=15&&u.jsxs("span",{className:"bg-amber-400 text-primary text-[10px] font-black px-2 py-0.5 rounded-lg flex items-center gap-1 animate-pulse",children:[u.jsx(Ss,{className:"w-3 h-3"}),"  "]})]}),u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs text-white/60",children:[u.jsx(SN,{className:"w-3 h-3 text-accent"}),": ",q.requestNumber||q.id.slice(0,8).toUpperCase()]})]})]}),u.jsx("button",{onClick:We,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(Zs,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8 text-right",children:[u.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 text-white flex items-center justify-between shadow-xl",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-accent",children:u.jsx(Ec,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] font-bold text-white/50 uppercase",children:"  "}),u.jsxs("div",{className:"text-2xl font-black",children:[H," ",u.jsx("span",{className:"text-xs font-normal text-white/40",children:" "})]})]})]}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] font-bold text-white/50 uppercase",children:" "}),u.jsx("div",{className:`text-sm font-black ${H>=15?"text-emerald-400":"text-amber-400"}`,children:H>=15?"  ":` ${15-H} `})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(ta,{className:"w-3.5 h-3.5"}),"  "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700 dir-ltr text-right",children:q.email})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(Nd,{className:"w-3.5 h-3.5"}),"  "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700 dir-ltr text-right",children:q.whatsapp})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(_m,{className:"w-3.5 h-3.5"}),"  / "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700",children:q.country})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(Hi,{className:"w-3.5 h-3.5"}),"  "]}),u.jsx("div",{className:"text-sm font-bold text-accent",children:q.planName||" "})]})]}),q.interviewerName&&u.jsx("div",{className:"p-4 bg-primary/5 border border-primary/10 rounded-2xl flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center font-bold",children:u.jsx(CN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"   "}),u.jsx("div",{className:"text-sm font-black text-primary",children:q.interviewerName})]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-black text-gray-900 flex flex-row-reverse items-center gap-2 text-lg",children:[u.jsx(Ya,{className:"w-5 h-5 text-accent"}),"   "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-blue-500 font-bold uppercase mb-1",children:""}),u.jsx("div",{className:"font-bold text-blue-900",children:q.field})]}),u.jsxs("div",{className:"p-4 bg-teal-50 border border-teal-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-teal-500 font-bold uppercase mb-1",children:""}),u.jsx("div",{className:"font-bold text-teal-900",children:zi(q.level)})]}),u.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-purple-500 font-bold uppercase mb-1",children:" "}),u.jsxs("div",{className:"font-bold text-purple-900",children:[q.experience," "]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-xl col-span-2",children:[u.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase mb-1",children:"  "}),u.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-pre-wrap",children:q.techStack})]})]})]}),q.evaluationReport&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-black text-gray-900 flex flex-row-reverse items-center gap-2 text-lg",children:[u.jsx(uw,{className:"w-5 h-5 text-emerald-500"}),"   "]}),u.jsx("div",{className:"p-6 bg-emerald-50/30 border-2 border-emerald-100 rounded-[2rem] text-sm text-gray-700 leading-relaxed overflow-x-auto text-right dir-rtl",children:u.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:q.evaluationReport})})]})]}),u.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end shrink-0 bg-gray-50",children:u.jsx($e,{onClick:We,children:""})})]})}),C&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-accent px-6 py-5 flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Fy,{className:"w-6 h-6"}),u.jsx("h3",{className:"font-black",children:" "})]}),u.jsx("button",{onClick:We,className:"hover:bg-white/10 p-2 rounded-full",children:u.jsx(Zs,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (Zoom/Meet)"}),u.jsx("input",{type:"url",value:z.meeting,onChange:me=>ae({...z,meeting:me.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (Drive)"}),u.jsx("input",{type:"url",value:z.report,onChange:me=>ae({...z,report:me.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (YouTube/Loom)"}),u.jsx("input",{type:"url",value:z.video,onChange:me=>ae({...z,video:me.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]})]}),u.jsxs("div",{className:"pt-4 flex gap-3",children:[u.jsxs($e,{onClick:nn,disabled:ce,className:"flex-1 justify-center rounded-2xl gap-2",children:[ce?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsx(Id,{className:"w-5 h-5"}),"  "]}),u.jsx($e,{variant:"outline",onClick:We,className:"flex-none rounded-2xl",children:""})]})]})]})})]})},{onAuthStateChanged:LG}=Ni,{useNavigate:UG}=fs,VG=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(!0),[r,a]=O.useState(null),[c,h]=O.useState(null),[m,f]=O.useState(!1),[g,E]=O.useState(!1),[T,S]=O.useState(!1),[N,U]=O.useState({interview:"",platform:"",interviewer:"",improvements:""}),D=UG();O.useEffect(()=>{const F=LG(st,async C=>{if(C)try{const R=lr(cs(pt,"registrations"),Wa("userId","==",C.uid)),I=await fc(R),V=[];I.forEach(M=>{const P=M.data();V.push({id:M.id,...P})}),V.sort((M,P)=>{var Ie,Y;const L=((Ie=M.submittedAt)==null?void 0:Ie.seconds)||0;return(((Y=P.submittedAt)==null?void 0:Y.seconds)||0)-L}),e(V)}catch(R){console.error("Error fetching requests:",R)}finally{i(!1)}else D("/login")});return()=>F()},[D]);const q=F=>{const C=document.getElementById("report-to-print");if(!C)return;S(!0);const R={margin:10,filename:`__${F}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(R).from(C).save().then(()=>{S(!1)}).catch(I=>{console.error("PDF Download Error:",I),S(!1)})},B=async F=>{var C,R,I;if(!N.interview||!N.platform||!N.interviewer){alert("   ");return}f(!0);try{await _I(cs(pt,"reviews"),{requestId:F.id,userId:(C=st.currentUser)==null?void 0:C.uid,userName:F.fullName||((R=st.currentUser)==null?void 0:R.displayName),userEmail:F.email||((I=st.currentUser)==null?void 0:I.email),userPhone:F.whatsapp||"",interviewFeedback:N.interview,platformFeedback:N.platform,interviewerFeedback:N.interviewer,improvementIdeas:N.improvements,submittedAt:ur()}),E(!0),setTimeout(()=>{a(null),E(!1),U({interview:"",platform:"",interviewer:"",improvements:""})},2e3)}catch(V){console.error("Error saving review:",V),alert("    ")}finally{f(!1)}},H=F=>F?F.seconds?new Date(F.seconds*1e3).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):new Date(F).toLocaleDateString("ar-EG"):" ",ee=F=>{const C={completed:"bg-green-100 text-green-800 border-green-200",approved:"bg-blue-100 text-blue-800 border-blue-200",canceled:"bg-red-100 text-red-800 border-red-200",reviewing:"bg-purple-100 text-purple-800 border-purple-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200"},R={completed:"",approved:" ",canceled:"",reviewing:" ",pending:" "};return u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border ${C[F]||C.pending}`,children:R[F]||" "})},re=n.some(F=>{const C=F.status||"pending";return["pending","reviewing","approved"].includes(C)});return t?u.jsxs("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50",children:[u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin mb-4"}),u.jsx("p",{className:"text-gray-500",children:"  ..."})]}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-gray-50 px-4 md:px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:""}),u.jsx("p",{className:"text-gray-500",children:"     "})]}),!re&&u.jsx($e,{onClick:()=>D("/request-meeting"),children:"  +"})]}),n.length===0?u.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-gray-100",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(zo,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"   "}),u.jsx("p",{className:"text-gray-500 mb-6",children:"      ."}),u.jsx($e,{variant:"outline",onClick:()=>D("/request-meeting"),children:" "})]}):u.jsx("div",{className:"grid gap-6",children:n.map(F=>{var C,R;return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-50 flex flex-wrap justify-between items-center gap-4 bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center text-accent",children:u.jsx(SN,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:F.field}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-0.5",children:[u.jsx("span",{className:"font-bold bg-gray-200 px-1.5 py-0.5 rounded text-gray-700",children:F.requestNumber||`MQ-${F.id.slice(0,6).toUpperCase()}`}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(EN,{className:"w-3 h-3"}),H(F.submittedAt)]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`text-[10px] font-black px-2 py-1 rounded-lg border ${(C=F.planName)!=null&&C.includes("")?"bg-accent/5 text-accent border-accent/20":"bg-gray-100 text-gray-500 border-gray-200"}`,children:F.planName||" "}),F.status==="completed"&&u.jsxs("button",{onClick:()=>a(F.id),className:"flex items-center gap-1 text-xs font-bold text-accent hover:text-accentHover bg-accent/5 px-3 py-1 rounded-full border border-accent/20 transition-colors",children:[u.jsx(Wl,{className:"w-3 h-3"})," "]}),ee(F.status)]})]}),u.jsxs("div",{className:"p-6",children:[F.status==="completed"&&F.evaluationReport&&u.jsxs("div",{className:"group relative mb-10 overflow-hidden rounded-[2.5rem] bg-slate-900 p-1 shadow-2xl transition-all hover:scale-[1.01]",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/40 via-emerald-500/40 to-teal-500/40 opacity-50 blur-xl group-hover:opacity-80 transition-opacity"}),u.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-between gap-6 bg-slate-900 px-8 py-8 rounded-[2.4rem] border border-white/10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-right",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-accent rounded-3xl blur-md opacity-40 animate-pulse"}),u.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-accent to-emerald-600 rounded-3xl flex items-center justify-center shadow-xl",children:u.jsx(Hi,{className:"w-10 h-10 text-white animate-bounce"})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-2xl font-black text-white flex items-center justify-center md:justify-start gap-2",children:"   !"}),u.jsxs("p",{className:"text-gray-400 text-sm font-medium",children:["   : ",u.jsxs("span",{className:"text-emerald-400 font-black text-lg",children:["%",F.finalScore]}),"   ."]})]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("button",{onClick:()=>h(F.id),className:"group/btn relative flex items-center gap-3 bg-white px-8 py-4 rounded-2xl font-black text-slate-900 shadow-xl transition-all hover:bg-accent hover:text-white active:scale-95",children:[u.jsx(bN,{className:"w-5 h-5 transition-transform group-hover/btn:scale-110"}),"  ",u.jsx(q0,{className:"w-4 h-4 mr-2 transition-transform group-hover/btn:-translate-x-1"})]}),u.jsx("span",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:"Moqabala AI Agent v3.0"})]})]})]}),(F.status==="completed"||F.status==="approved")&&(F.reportLink||F.videoLink||F.meetingLink)&&u.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-2xl border border-gray-100",children:[u.jsxs("h4",{className:"text-sm font-black text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Oy,{className:"w-4 h-4 text-accent"}),"   "]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[F.reportLink&&u.jsxs("a",{href:F.reportLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(Qk,{className:"w-4 h-4"}),"  ",u.jsx(py,{className:"w-3 h-3 opacity-50"})]}),F.videoLink&&u.jsxs("a",{href:F.videoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(RN,{className:"w-4 h-4"}),"  ",u.jsx(py,{className:"w-3 h-3 opacity-50"})]}),F.meetingLink&&u.jsxs("a",{href:F.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(Fy,{className:"w-4 h-4"}),"  ",u.jsx(py,{className:"w-3 h-3 opacity-50"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[u.jsx(Ya,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm text-gray-700 font-bold",children:[F.level==="fresh"&&" (fresh)",F.level==="junior"&&" (junior)",F.level==="mid-senior"&&"  (mid/senior)",F.level==="lead-staff"&&" (lead/staff)"]}),u.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm border border-blue-100",children:F.techStack})]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[u.jsx(wN,{className:"w-4 h-4"}),"  "]}),u.jsxs("p",{className:"text-sm text-gray-700",children:[F.preferredTime==="morning"&&" (9 - 12)",F.preferredTime==="evening"&&" (4 - 9)",F.preferredTime==="flexible"&&"   ",!F.preferredTime&&" "]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-500 mb-2",children:"  "}),u.jsx("ul",{className:"space-y-2",children:(R=F.goals)==null?void 0:R.map((I,V)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-1.5 shrink-0"}),I]},V))})]})]})]}),c===F.id&&u.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/90 backdrop-blur-lg flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl relative animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-8 text-white flex justify-between items-center shrink-0 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-accent rounded-2xl flex items-center justify-center shadow-lg shadow-accent/20",children:u.jsx(Ss,{className:"w-6 h-6 md:w-8 md:h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg md:text-xl font-black",children:"  "}),u.jsx("p",{className:"text-accent text-xs font-bold uppercase tracking-widest",children:F.fullName})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>q(F.fullName),disabled:T,className:"p-2 md:p-3 bg-accent/20 hover:bg-accent/30 text-accent rounded-full transition-colors flex items-center gap-2 text-xs md:text-sm font-bold",title:" PDF",children:[T?u.jsx(xt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:" PDF"})]}),u.jsx("button",{onClick:()=>h(null),className:"p-2 md:p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(Zs,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),u.jsxs("div",{id:"report-to-print",className:"p-6 md:p-10 overflow-y-auto custom-scrollbar flex-grow bg-white",children:[u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100 flex items-center justify-between mb-8 shadow-inner",children:[u.jsx("div",{className:"text-emerald-800 font-black",children:"  :"}),u.jsxs("div",{className:"text-3xl md:text-4xl font-black text-emerald-600",children:[F.finalScore,"%"]})]}),u.jsx("div",{className:"prose prose-slate max-w-none dir-rtl text-right whitespace-pre-wrap leading-loose font-medium text-gray-700",children:F.evaluationReport})]}),u.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-100 bg-gray-50 flex flex-col md:flex-row justify-center items-center gap-4 shrink-0",children:[u.jsx($e,{variant:"primary",className:"px-12 py-4 w-full md:w-auto text-lg rounded-2xl shadow-xl shadow-accent/20",onClick:()=>h(null),children:"   !"}),u.jsxs("button",{onClick:()=>q(F.fullName),disabled:T,className:"flex items-center justify-center gap-2 px-10 py-4 bg-white border-2 border-accent text-accent rounded-2xl font-bold hover:bg-accent hover:text-white transition-all w-full md:w-auto shadow-sm disabled:opacity-50",children:[T?u.jsx(xt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),"   (PDF)"]})]})]})}),r===F.id&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-accent px-6 py-4 flex items-center justify-between text-white",children:[u.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[u.jsx(G0,{className:"w-5 h-5"}),"  "]}),u.jsx("button",{onClick:()=>a(null),className:"hover:rotate-90 transition-transform",children:u.jsx(Zs,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar",children:g?u.jsxs("div",{className:"py-12 text-center space-y-4",children:[u.jsx(Oy,{className:"w-16 h-16 text-green-500 mx-auto animate-bounce"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:" !    "})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),u.jsx("textarea",{value:N.interview,onChange:I=>U({...N,interview:I.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"    "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),u.jsx("textarea",{value:N.platform,onChange:I=>U({...N,platform:I.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"   ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),u.jsx("textarea",{value:N.interviewer,onChange:I=>U({...N,interviewer:I.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"     ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   ()"}),u.jsx("textarea",{value:N.improvements,onChange:I=>U({...N,improvements:I.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"    "})]}),u.jsx("div",{className:"pt-4",children:u.jsx($e,{onClick:()=>B(F),disabled:m,className:"w-full justify-center text-lg",children:m?u.jsx(xt,{className:"w-6 h-6 animate-spin"}):" "})})]})})]})})]},F.id)})})]})})},{signInWithEmailAndPassword:OG,signInWithPopup:jG,onAuthStateChanged:FG}=Ni,{useNavigate:qG,Link:HG}=fs,BG=()=>{const n=qG(),[e,t]=O.useState(""),[i,r]=O.useState(""),[a,c]=O.useState(!1),[h,m]=O.useState(!0),[f,g]=O.useState(null);O.useEffect(()=>{const N=FG(st,U=>{U?n("/",{replace:!0}):m(!1)});return()=>N()},[n]);const E=async N=>{var U;try{const D=un(pt,"users",N.uid);if(!(await Ms(D)).exists()){const H=`${(N.displayName||((U=N.email)==null?void 0:U.split("@")[0])||"User").split(" ")[0].toUpperCase()}${Math.random().toString(36).substring(2,7).toUpperCase()}`;await Gm(D,{uid:N.uid,name:N.displayName||" ",email:N.email,role:"user",isEmailVerified:N.emailVerified||!1,referralCode:H,referralCount:0,referredUsers:[],createdAt:ur()})}}catch(D){console.error("Error syncing profile on login:",D)}},T=async N=>{N.preventDefault(),c(!0),g(null);try{const U=await OG(st,e,i);await E(U.user),n("/")}catch{g("   .    .")}finally{c(!1)}},S=async()=>{g(null);try{const N=await jG(st,NC);await E(N.user),n("/")}catch{g("      Google.")}};return h?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 flex items-center justify-center px-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg max-w-md w-full border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),f&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl mb-6 text-sm flex items-center gap-2",children:[u.jsx(xc,{className:"w-5 h-5"}),f]}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:e,onChange:N=>t(N.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:"email@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(xm,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,value:i,onChange:N=>r(N.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:""})]})]}),u.jsx($e,{type:"submit",className:"w-full py-3.5 rounded-2xl text-lg shadow-accent/20",disabled:a,children:a?u.jsx(xt,{className:"w-6 h-6 animate-spin"}):" "})]}),u.jsxs("div",{className:"mt-8 relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-100"})}),u.jsx("div",{className:"relative flex justify-center text-xs text-gray-400",children:u.jsx("span",{className:"px-4 bg-white",children:" "})})]}),u.jsxs("button",{onClick:S,className:"mt-6 w-full flex justify-center items-center gap-3 px-4 py-3 border border-gray-200 rounded-2xl font-bold text-gray-700 hover:bg-gray-50 transition-all",children:[u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["   ",u.jsx(HG,{to:"/signup",className:"font-bold text-accent hover:underline",children:"  "})]})]})})},{createUserWithEmailAndPassword:GG,updateProfile:zG,signInWithPopup:$G,sendEmailVerification:KG,onAuthStateChanged:YG}=Ni,{useNavigate:JG,Link:NA,useLocation:QG}=fs,WG=()=>{const n=JG(),e=QG(),[t,i]=O.useState(""),[r,a]=O.useState(""),[c,h]=O.useState(""),[m,f]=O.useState(!1),[g,E]=O.useState(!0),[T,S]=O.useState(null),[N,U]=O.useState(null),[D,q]=O.useState(!1),[B,H]=O.useState(null);O.useEffect(()=>{const C=YG(st,R=>{R?n("/",{replace:!0}):E(!1)});return()=>C()},[n]),O.useEffect(()=>{const C=e.search||window.location.hash.split("?")[1],I=new URLSearchParams(C).get("ref");I&&(U(I),(async()=>{try{const M=lr(cs(pt,"users"),Wa("referralCode","==",I)),P=await fc(M);P.empty||(q(!0),H(P.docs[0].id))}catch{}})())},[e]);const ee=async(C,R)=>{try{const I=un(pt,"users",C.uid);if((await Ms(I)).exists())return;const M=Math.random().toString(36).substring(2,7).toUpperCase(),P=`${(R||"USER").split(" ")[0].substring(0,4).toUpperCase()}${M}`;await Gm(I,{uid:C.uid,name:R,email:C.email,role:"user",isEmailVerified:C.emailVerified||!1,referralCode:P,referralCount:0,referredUsers:[],referredBy:D?B:null,referralProcessed:!1,createdAt:ur()}),C.emailVerified||await KG(C)}catch(I){console.error(I)}},re=async C=>{C.preventDefault(),f(!0),S(null);try{const R=await GG(st,r,c);await zG(R.user,{displayName:t}),await ee(R.user,t),n("/profile?verify=sent")}catch(R){R.code==="auth/email-already-in-use"?S({msg:"     .",code:"email-in-use"}):S({msg:"    ."})}finally{f(!1)}},F=async()=>{S(null);try{const C=await $G(st,NC);await ee(C.user,C.user.displayName||"User"),n("/profile")}catch{S({msg:"     Google."})}};return g?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 flex items-center justify-center px-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-xl max-w-md w-full border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),N&&D&&u.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-2xl text-[10px] font-bold border border-emerald-100",children:[u.jsx(K0,{className:"w-3.5 h-3.5"}),"    "]})]}),T&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl mb-6 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[u.jsx(xc,{className:"w-5 h-5"})," ",T.msg]}),T.code==="email-in-use"&&u.jsxs("div",{className:"mt-3",children:[u.jsx("p",{className:"text-xs mb-3",children:"           ."}),u.jsxs(NA,{to:"/login",className:"flex items-center justify-center gap-2 py-2 bg-white border border-red-200 rounded-xl text-red-600 font-bold hover:bg-red-50 transition-colors",children:[u.jsx(jf,{className:"w-4 h-4"}),"     "]})]})]}),u.jsxs("form",{onSubmit:re,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(ls,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",required:!0,value:t,onChange:C=>i(C.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:" "})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:r,onChange:C=>a(C.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:"email@example.com"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(xm,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,value:c,onChange:C=>h(C.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:""})]})]}),u.jsx($e,{type:"submit",className:"w-full py-4 text-lg rounded-2xl shadow-accent/20",disabled:m,children:m?u.jsx(xt,{className:"w-6 h-6 animate-spin"}):"  "})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[u.jsx("div",{className:"h-px bg-gray-100 flex-grow"}),u.jsx("span",{className:"text-gray-400 text-xs",children:"  "}),u.jsx("div",{className:"h-px bg-gray-100 flex-grow"})]}),u.jsxs("button",{onClick:F,className:"mt-4 w-full py-3 px-4 border border-gray-200 rounded-2xl flex items-center justify-center gap-3 font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:[u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google ( )"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["   ",u.jsx(NA,{to:"/login",className:"font-bold text-accent hover:underline",children:" "})]})]})})},{onAuthStateChanged:XG}=Ni,{Link:Ef,useNavigate:ZG,useLocation:ez}=fs,tz=()=>{const n=ZG(),t=ez().pathname==="/",[i,r]=O.useState(null),[a,c]=O.useState(!1),[h,m]=O.useState(!1);O.useEffect(()=>{let T=null;const S=XG(st,async N=>{if(r(N),N){try{const q=(await Ms(un(pt,"users",N.uid))).data(),B=q==null?void 0:q.role;m(B==="admin"||B==="maintainer"||B==="interviewer")}catch{m(!1)}const U=lr(cs(pt,"registrations"),Wa("userId","==",N.uid));T=zm(U,D=>{const q=D.docs.some(B=>{const H=B.data().status||"pending";return["pending","reviewing","approved"].includes(H)});c(q)})}else c(!1),m(!1),T&&T()});return()=>{S(),T&&T()}},[]);const f=T=>{if(!t)n("/"),setTimeout(()=>{const S=document.getElementById(T);S&&S.scrollIntoView({behavior:"smooth"})},100);else{const S=document.getElementById(T);S&&S.scrollIntoView({behavior:"smooth"})}},g=()=>{n(i?a&&!h?"/my-requests":"/request-meeting":"/login")},E=!i||h||!a;return u.jsxs("footer",{id:"contact",className:"bg-secondary text-gray-300 mt-28",children:[E&&u.jsx("div",{className:"container mx-auto px-4 md:px-6 relative",children:u.jsxs("div",{className:"bg-accent rounded-2xl p-8 md:p-12 absolute -top-16 left-4 right-4 md:left-6 md:right-6 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-8 transform hover:scale-[1.01] transition-transform duration-300",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"    "}),u.jsx("p",{className:"text-teal-100",children:"      ."})]}),u.jsx($e,{variant:"white",className:"whitespace-nowrap w-full md:w-auto text-accent",onClick:g,children:"  "})]})}),u.jsxs("div",{className:`pt-40 pb-12 container mx-auto px-4 md:px-6 ${E?"":"pt-20"}`,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-800 pb-12 mb-8",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("h4",{className:"text-2xl font-bold text-white mb-6",children:""}),u.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:"        ."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"hover:text-accent transition-colors",children:u.jsx(t4,{className:"w-5 h-5"})}),u.jsx("a",{href:"https://www.linkedin.com/in/%D9%85%D9%86%D8%B5%D8%A9-%D9%85%D9%82%D8%A7%D8%A8%D9%84%D8%A9-84a22139b/",className:"hover:text-accent transition-colors",children:u.jsx(B0,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"hover:text-accent transition-colors",children:u.jsx(oP,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:" "}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Ef,{to:"/",className:"hover:text-accent transition-colors",children:""})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("about"),className:"hover:text-accent transition-colors text-right",children:" "})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("how-it-works"),className:"hover:text-accent transition-colors text-right",children:" "})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("vision"),className:"hover:text-accent transition-colors text-right",children:""})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:""}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Ef,{to:"/faq",className:"hover:text-accent transition-colors",children:" "})}),u.jsx("li",{children:u.jsx(Ef,{to:"/privacy",className:"hover:text-accent transition-colors",children:" "})}),u.jsx("li",{children:u.jsx(Ef,{to:"/terms",className:"hover:text-accent transition-colors",children:" "})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:" "}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(ta,{className:"w-5 h-5 text-accent"}),u.jsx("span",{className:"dir-ltr",children:"contact@moqabala.info"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Nd,{className:"w-5 h-5 text-accent"}),u.jsx("span",{className:"dir-ltr",children:"01208103962"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(EP,{className:"w-5 h-5 text-accent"}),u.jsx("span",{children:" "})]})]})]})]}),u.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"  .   . (     )"]})]})]})},nz=()=>(O.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-8 flex items-center gap-3",children:[u.jsx(zo,{className:"w-10 h-10 text-accent"})," "]}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm space-y-8 text-gray-700 leading-relaxed border border-gray-100",children:[u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:' ""            .                  .'})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-sm",children:"2"}),"  "]}),u.jsxs("div",{className:"mr-10 space-y-4",children:[u.jsx("p",{className:"text-gray-600",children:"           :"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"       ."}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"PayPal:"}),"        ."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"InstaPay:"}),"           ."]}),u.jsx("li",{children:"         24    ."}),u.jsx("li",{children:"            24            ."})]})]})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-sm",children:"3"}),"  "]}),u.jsxs("div",{className:"mr-10 space-y-2 text-gray-600",children:[u.jsx("p",{children:"      .             12   ."}),u.jsx("p",{children:"         15        ."})]})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-sm",children:"4"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"      (  )   .        .            ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-sm",children:"5"}),"  "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"  .      (   )            .             ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-sm",children:"6"}),"    "]}),u.jsx("p",{className:"mr-10 text-gray-600 font-bold",children:"                     .             ."})]}),u.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-xl border border-gray-200 text-sm text-gray-500",children:["  : ",new Date().toLocaleDateString("ar-EG")]})]})]})})),iz=()=>(O.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-8",children:" "}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm space-y-6 text-gray-700 leading-relaxed",children:[u.jsx("p",{className:"text-lg",children:'  ""     .         .'}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"    "}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[u.jsx("li",{children:" :     ."}),u.jsx("li",{children:" :       LinkedIn."}),u.jsx("li",{children:" :            ."})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"  "}),u.jsx("p",{children:"               ."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:" "}),u.jsx("p",{children:"          .         (Firebase)."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:" "}),u.jsx("p",{children:"         .          (  )   ."})]})]})]})})),sz=({question:n,answer:e})=>{const[t,i]=O.useState(!1);return u.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white overflow-hidden transition-all duration-300 hover:shadow-md",children:[u.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-right focus:outline-none",onClick:()=>i(!t),children:[u.jsxs("span",{className:"text-lg font-bold text-gray-800 flex items-center gap-3",children:[u.jsx(Ok,{className:"w-5 h-5 text-accent shrink-0"}),n]}),t?u.jsx(kk,{className:"w-5 h-5 text-gray-500"}):u.jsx(TN,{className:"w-5 h-5 text-gray-500"})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"p-6 pt-0 text-gray-600 leading-relaxed border-t border-gray-50",children:e})})]})},rz=()=>{O.useEffect(()=>{window.scrollTo(0,0)},[]);const n=[{question:"    ",answer:"    (Live)          .         ."},{question:"    ",answer:"            24              ."},{question:"     ",answer:"                .            ."},{question:"       ",answer:"            24   .          ."},{question:"     ",answer:"         (Hard Skills)   (Soft Skills)         ."}];return u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-3xl",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary mb-4",children:" "}),u.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})]}),u.jsx("div",{className:"space-y-4",children:n.map((e,t)=>u.jsx(sz,{question:e.question,answer:e.answer},t))})]})})},IA=[{id:1,name:"Amr Rashed",role:"Engineering Leader",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQEUndZ_MGyCHA/profile-displayphoto-scale_200_200/B4DZomCpnUKQAY-/0/1761574821421?e=1767225600&v=beta&t=-Fr6BxIdmVlgXcaPbyyWXhlbrzv-7urnbs8J_v0GHY8",rating:5,linkedinUrl:"https://www.linkedin.com/in/amr-a-rashed/",category:"BE"},{id:2,name:"Sanaa Afifi",role:"Lead Software Engineer",photoUrl:"https://media.licdn.com/dms/image/v2/C5603AQHGA7VzeY5_6w/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1526630456366?e=1767225600&v=beta&t=UwUK7Un2YhovVC3fhZmfMPVHyYcNzJ1cfFqOtS790Zw",rating:5,linkedinUrl:"https://www.linkedin.com/in/sanaaafifi/",category:"FE"},{id:3,name:"Anas Rabei",role:"Java Team Lead",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQHoVBt4KID5sQ/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1683245101249?e=1767225600&v=beta&t=Ksr1M6ZRXHyLwDyRbIorb1K60g4auzBIPG3LvXGRn_w",rating:5,linkedinUrl:"https://www.linkedin.com/in/anas-rabei/",category:"BE"},{id:4,name:"Moamen Abdulraouf",role:"Expert frontend engineer | Angular | React | Next.js | NX ",photoUrl:"https://media.licdn.com/dms/image/v2/D4E03AQEMWUfo3sOnJA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1665304055440?e=1767225600&v=beta&t=2-cKn0edf88fGTaEtpTfcPkHt2x--qhLf1GtR8jq_rI",rating:5,linkedinUrl:"https://www.linkedin.com/in/moamen/",category:"FE"},{id:6,name:"Ahmad Ragab",role:"Senior iOS Engineer | Swift, SwiftUI, Combine | Mobile Architecture & Team Mentorship",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQE6DMUlhzWPRA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1725975082426?e=1767225600&v=beta&t=-_A-OyjGjLIb3c8KiJ23l7lGFpQodz3r_uMj6DJNQoU",rating:5,linkedinUrl:"https://www.linkedin.com/in/ahmad-ragab-88b27836/",category:"MOBILE"},{id:7,name:"Muhammad Helmi",role:"Senior Android Engineer | Kotlin Multiplatform | Clean Architecture | Jetpack Composer",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQH1KA3KIxANTw/profile-displayphoto-scale_200_200/B4DZqcRJ7hHsAY-/0/1763558335929?e=1767225600&v=beta&t=0tKOhPZ2QkIe1-36zaWVUmqeIUSlanFMYLTltYcOED0",rating:5,linkedinUrl:"https://www.linkedin.com/in/developermohamedhelmy/",category:"MOBILE"},{id:8,name:"Ahmed Saeed",role:"Senior iOS Developer  | Expert in Mobile App Development",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQG7aNfviv9hpg/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1722794057634?e=1767225600&v=beta&t=ZpfvbnQWUN39uurYto0vp13gxPedQ7tdxJSJxsY_GsM",rating:5,linkedinUrl:"https://www.linkedin.com/in/ihendi/",category:"MOBILE"},{id:9,name:"Mahmoud Reda",role:"Product Designer | Designing the Future with User-Centric Creativity",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQFgwgPAzZa2lA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1673957302151?e=1767225600&v=beta&t=XhtI5hfLw68uPjUZgVeZLBbrHff1HN7t1Mg_0FGclXQ",rating:5,linkedinUrl:"https://www.linkedin.com/in/mahmoudreda90/",category:"UX"},{id:10,name:"Aly Hamalawey",role:"Senior Android Engineer  EX-STC Bank, EX-Yassir, EX-SWVL",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQHWRqMWb9U2sg/profile-displayphoto-scale_200_200/B4DZlOXG40H0AY-/0/1757956307313?e=1767225600&v=beta&t=W6aq4qsAMN1JBzB-vreuIuh7oi3LFrXqnbO7pdueXyQ",rating:5,linkedinUrl:"https://www.linkedin.com/in/aly-hamalawey/",category:"MOBILE"},{id:11,name:"Abdelrahman Haridy",role:"Software Developer, Angular, ReactJs, Wordpress, Instructor",photoUrl:"https://media.licdn.com/dms/image/v2/D4D35AQHUJET2VdlU3g/profile-framedphoto-shrink_400_400/B4DZiP.3f_GQAg-/0/1754762279219?e=1766502000&v=beta&t=8Rmt7B0wSMNJ2NkuaPcsx8SceTndKNksNu6rKud4Gog",rating:5,linkedinUrl:"https://www.linkedin.com/in/aly-hamalawey/",category:"FE"},{id:12,name:"Ahmed Ramez",role:"Senior Frontend Developer",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQE_e2IZ51vpmA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1704047344357?e=1767830400&v=beta&t=el-ABhduYJ19qaDEcRPRkXzKFEACPYP-gbr-3I5PsDQ",rating:5,linkedinUrl:"https://www.linkedin.com/in/ahmedramez/",category:"FE"},{id:13,name:"MHD Alaa Alhaj",role:"Senior Frontend Engineer Javascript | Typescript | React | Next.js | Mobile-First | Crafting Engaging Web",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQF5sSEQsxUwmg/profile-displayphoto-scale_200_200/B4DZkDvm1WIgAc-/0/1756704436515?e=1767830400&v=beta&t=4mqsswJB-fV8ikaliFYwFjHduyJZsRiDhdIRQd9sxAg",rating:5,linkedinUrl:"https://www.linkedin.com/in/mhdalaa/",category:"FE"}],oz=()=>{const[n,e]=O.useState([]),[t,i]=O.useState([]),[r,a]=O.useState(!0),[c,h]=O.useState("ALL");O.useEffect(()=>{e(IA),i(IA),a(!1),window.scrollTo(0,0)},[]),O.useEffect(()=>{i(c==="ALL"?n:n.filter(g=>g.category===c))},[c,n]);const m=g=>{const E=[],T=Math.floor(g),S=g%1!==0;for(let N=0;N<T;N++)E.push(u.jsx(Wl,{className:"w-4 h-4 text-yellow-400 fill-current"},`star-${N}`));for(S&&E.push(u.jsx(BP,{className:"w-4 h-4 text-yellow-400 fill-current"},"star-half"));E.length<5;)E.push(u.jsx(Wl,{className:"w-4 h-4 text-gray-300"},`star-empty-${E.length}`));return E},f=[{key:"ALL",label:""},{key:"FE",label:" (Frontend)"},{key:"BE",label:" (Backend)"},{key:"UX",label:" (UX/UI)"},{key:"MOBILE",label:" (Mobile)"}];return u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block animate-in fade-in slide-in-from-bottom-3",children:" "}),u.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 animate-in fade-in slide-in-from-bottom-4 delay-100",children:["  ",u.jsx("span",{className:"text-accent",children:" "})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed animate-in fade-in slide-in-from-bottom-5 delay-200",children:"           ."})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-12 animate-in fade-in slide-in-from-bottom-6 delay-300",children:f.map(g=>u.jsx("button",{onClick:()=>h(g.key),className:`px-6 py-2 rounded-full font-medium transition-all duration-300 text-sm md:text-base ${c===g.key?"bg-accent text-white shadow-lg shadow-accent/25 transform scale-105":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-100"}`,children:g.label},g.key))}),r?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.length>0?t.map((g,E)=>u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 group transform hover:-translate-y-2 animate-in fade-in zoom-in-95",style:{animationDelay:`${E*50}ms`},children:[u.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[g.photoUrl?u.jsx("img",{src:g.photoUrl,alt:g.name,className:"w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-110",onError:T=>{var S;T.target.style.display="none",(S=T.target.nextElementSibling)==null||S.classList.remove("hidden")}}):null,u.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-gray-400 ${g.photoUrl?"hidden":""}`,children:u.jsx(ls,{className:"w-20 h-20"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.linkedinUrl&&u.jsx("div",{className:"absolute bottom-4 right-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:u.jsx("a",{href:g.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-2 rounded-full text-[#0077b5] hover:bg-[#0077b5] hover:text-white transition-colors shadow-lg flex items-center justify-center","aria-label":`LinkedIn profile of ${g.name}`,children:u.jsx(B0,{className:"w-5 h-5"})})})]}),u.jsxs("div",{className:"p-6 text-center relative",children:[u.jsxs("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-100 flex items-center gap-1",children:[u.jsx("div",{className:"flex text-yellow-400",children:u.jsx(Wl,{className:"w-3 h-3 fill-current"})}),u.jsx("span",{className:"text-xs font-bold text-gray-700",children:g.rating})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.name}),u.jsx("p",{className:"text-accent font-medium text-sm mb-4",children:g.role}),u.jsx("div",{className:"flex justify-center gap-1 opacity-80","aria-label":`Rating: ${g.rating} out of 5`,children:m(g.rating)})]})]},g.id)):u.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 bg-white rounded-2xl border border-dashed border-gray-200",children:[u.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"      ."})]})})]})})},az=()=>{const[n,e]=O.useState([]),[t,i]=O.useState({}),[r,a]=O.useState(!0),[c,h]=O.useState(""),[m,f]=O.useState("ALL"),[g,E]=O.useState("ALL"),[T,S]=O.useState(null),[N,U]=O.useState(1),D=10,[q,B]=O.useState(!1),[H,ee]=O.useState(null),re=async()=>{try{const P=lr(cs(pt,"users"),gI("createdAt","desc")),L=await fc(P),pe=[];L.forEach(ye=>{pe.push(ye.data())}),e(pe);const Ie=lr(cs(pt,"registrations"),Wa("status","==","completed")),Y=await fc(Ie),ce={};Y.forEach(ye=>{const se=ye.data();se.interviewerId&&(ce[se.interviewerId]=(ce[se.interviewerId]||0)+1)}),i(ce)}catch(P){console.error("Error fetching data:",P)}finally{a(!1)}};O.useEffect(()=>{re()},[]),O.useEffect(()=>{U(1)},[c,m,g]);const F=P=>{var L;if(P.uid===((L=st.currentUser)==null?void 0:L.uid)){alert("    .");return}ee(P),B(!0)},C=async()=>{if(H){S(H.uid),B(!1);try{const P=uV(pt);P.delete(un(pt,"users",H.uid)),await P.commit(),e(L=>L.filter(pe=>pe.uid!==H.uid))}catch(P){console.error("Error deleting user:",P)}finally{S(null),ee(null)}}},R=n.filter(P=>{var Y,ce,ye;const L=((Y=P.email)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||((ce=P.name)==null?void 0:ce.toLowerCase().includes(c.toLowerCase()))||((ye=P.phone)==null?void 0:ye.includes(c)),pe=m==="ALL"||P.role===m,Ie=g==="ALL"||P.field===g;return L&&pe&&Ie}),I=Math.ceil(R.length/D),V=(N-1)*D,M=R.slice(V,V+D);return r?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(xt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(ls,{className:"w-5 h-5 text-accent"}),"   (",R.length,")"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx($0,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"    ...",value:c,onChange:P=>h(P.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent/50 text-sm outline-none"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(jP,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsxs("select",{value:m,onChange:P=>f(P.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg text-sm outline-none bg-white appearance-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"admin",children:"admin"}),u.jsx("option",{value:"interviewer",children:"interviewer"}),u.jsx("option",{value:"maintainer",children:"maintainer"}),u.jsx("option",{value:"user",children:"user"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Ya,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsxs("select",{value:g,onChange:P=>E(P.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg text-sm outline-none bg-white appearance-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"UX",children:"UX"}),u.jsx("option",{value:"FE",children:"FE"}),u.jsx("option",{value:"BE",children:"BE"}),u.jsx("option",{value:"mobile",children:"mobile"})]})]})]})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-right whitespace-nowrap",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:" "}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:M.length>0?M.map(P=>u.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${P.role==="admin"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`,children:(P.name||"U").charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium text-gray-900",children:P.name}),u.jsx("span",{className:"text-[10px] text-gray-400 dir-ltr text-right",children:P.email})]})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-black ${(P.referralCount||0)>=15?"bg-emerald-100 text-emerald-700 border border-emerald-200":(P.referralCount||0)>0?"bg-amber-100 text-amber-700 border border-amber-200":"bg-gray-100 text-gray-400"}`,children:[u.jsx(Ec,{className:"w-3 h-3"}),P.referralCount||0]})}),u.jsx("td",{className:"px-6 py-4",children:P.role==="interviewer"||P.role==="admin"?u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-black ${(t[P.uid]||0)>10?"bg-indigo-100 text-indigo-700 border border-indigo-200":(t[P.uid]||0)>0?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-400"}`,children:[u.jsx(CN,{className:"w-3 h-3"}),t[P.uid]||0," "]}):u.jsx("span",{className:"text-xs text-gray-300",children:"-"})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${P.role==="admin"?"bg-red-50 text-red-600":P.role==="interviewer"?"bg-teal-50 text-teal-600":P.role==="maintainer"?"bg-purple-50 text-purple-600":"bg-gray-50 text-gray-600"}`,children:P.role})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P.field||"-"}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("button",{onClick:()=>F(P),disabled:T===P.uid,className:"p-2 text-gray-400 hover:text-red-600 rounded-lg transition-colors",children:T===P.uid?u.jsx(xt,{className:"w-4 h-4 animate-spin"}):u.jsx(KP,{className:"w-4 h-4"})})})]},P.uid)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"  ."})})})]})})}),I>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>U(P=>Math.max(P-1,1)),disabled:N===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(vm,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(I)].map((P,L)=>u.jsx("button",{onClick:()=>U(L+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${N===L+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:L+1},L+1))}),u.jsx("button",{onClick:()=>U(P=>Math.min(P+1,I)),disabled:N===I,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})})]}),q&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-in zoom-in-95",children:[u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2",children:" "}),u.jsxs("p",{className:"text-gray-600 mb-6",children:['      "',H==null?void 0:H.email,'"']}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx($e,{variant:"primary",className:"flex-1 bg-red-600 hover:bg-red-700",onClick:C,children:""}),u.jsx($e,{variant:"outline",className:"flex-1",onClick:()=>B(!1),children:""})]})]})})]})},lz=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(!0),[r,a]=O.useState(""),[c,h]=O.useState(1),m=8;O.useEffect(()=>{(async()=>{try{const U=lr(cs(pt,"reviews"),gI("submittedAt","desc")),D=await fc(U),q=[];D.forEach(B=>{q.push({id:B.id,...B.data()})}),e(q)}catch(U){console.error("Error fetching reviews:",U)}finally{i(!1)}})()},[]),O.useEffect(()=>{h(1)},[r]);const f=N=>N?N.seconds?new Date(N.seconds*1e3).toLocaleDateString("ar-EG"):new Date(N).toLocaleDateString("ar-EG"):"-",g=n.filter(N=>{var U,D,q;return((U=N.userName)==null?void 0:U.toLowerCase().includes(r.toLowerCase()))||((D=N.userEmail)==null?void 0:D.toLowerCase().includes(r.toLowerCase()))||((q=N.userPhone)==null?void 0:q.includes(r))}),E=Math.ceil(g.length/m),T=(c-1)*m,S=g.slice(T,T+m);return t?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(xt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(G0,{className:"w-5 h-5 text-accent"}),"  (",g.length,")"]}),u.jsxs("div",{className:"relative w-full md:w-72",children:[u.jsx($0,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:N=>a(N.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all"})]})]}),u.jsx("div",{className:"grid gap-6",children:S.length>0?S.map(N=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-100 flex flex-wrap items-center justify-between gap-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent",children:u.jsx(ls,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:N.userName}),u.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(ta,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"dir-ltr",children:N.userEmail})]}),N.userPhone&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(Nd,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"dir-ltr",children:N.userPhone})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(EN,{className:"w-3.5 h-3.5"}),f(N.submittedAt)]})]})]})]})}),u.jsxs("div",{className:"p-6 grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(Wl,{className:"w-4 h-4 text-yellow-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:N.interviewFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(Ya,{className:"w-4 h-4 text-accent"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:N.platformFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(ls,{className:"w-4 h-4 text-blue-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:N.interviewerFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(cP,{className:"w-4 h-4 text-emerald-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-emerald-50/30 p-3 rounded-xl border border-emerald-100 min-h-[60px]",children:N.improvementIdeas||"   "})]})]})]},N.id)):u.jsx("div",{className:"bg-white rounded-xl p-12 text-center border border-dashed border-gray-300",children:u.jsx("p",{className:"text-gray-500",children:"     ."})})}),E>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>h(N=>Math.max(N-1,1)),disabled:c===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(vm,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(E)].map((N,U)=>u.jsx("button",{onClick:()=>h(U+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${c===U+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:U+1},U+1))}),u.jsx("button",{onClick:()=>h(N=>Math.min(N+1,E)),disabled:c===E,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})})]})]})},{getAuth:cz,createUserWithEmailAndPassword:uz,signOut:dz}=Ni,hz={apiKey:"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",authDomain:"moqabala-9257a.firebaseapp.com",projectId:"moqabala-9257a",storageBucket:"moqabala-9257a.appspot.com",messagingSenderId:"1038709573170",appId:"1:1038709573170:web:15b220fd2e40bb719b5e2b"},fz=()=>{const[n,e]=O.useState(""),[t,i]=O.useState(""),[r,a]=O.useState(""),[c,h]=O.useState("interviewer"),[m,f]=O.useState(""),[g,E]=O.useState(""),[T,S]=O.useState(!1),[N,U]=O.useState(!1),[D,q]=O.useState(null),B=async H=>{H.preventDefault(),S(!0),q(null),U(!1);let ee;try{ee=W0(hz,"SecondaryApp_"+Date.now());const re=cz(ee),C=(await uz(re,t,r)).user,I=`STAFF${Math.random().toString(36).substring(2,7).toUpperCase()}`;await Gm(un(pt,"users",C.uid),{uid:C.uid,name:n.trim(),email:t,role:c,field:m||null,level:g||null,isEmailVerified:!0,referralCode:I,referralCount:0,referredUsers:[],createdAt:ur()}),await dz(re),U(!0),e(""),i(""),a(""),f(""),E("")}catch(re){console.error("Error creating staff user:",re),re.code==="auth/email-already-in-use"?q("    ."):q("    .")}finally{ee&&await VL(ee),S(!1)}};return u.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"bg-accent p-6 text-white flex items-center gap-3",children:[u.jsx(K0,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"   "})]}),u.jsxs("form",{onSubmit:B,className:"p-8 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ls,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",required:!0,value:n,onChange:H=>e(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:":   (Frontend Interviewer)"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:t,onChange:H=>i(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:"staff@moqabala.com"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(xm,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,minLength:6,value:r,onChange:H=>a(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:""})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(IN,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{required:!0,value:c,onChange:H=>h(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"interviewer",children:" (interviewer)"}),u.jsx("option",{value:"admin",children:" (admin)"}),u.jsx("option",{value:"maintainer",children:" (maintainer)"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ya,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:m,onChange:H=>f(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"UX",children:"UX"}),u.jsx("option",{value:"FE",children:"FE"}),u.jsx("option",{value:"BE",children:"BE"}),u.jsx("option",{value:"mobile",children:"mobile"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ss,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:g,onChange:H=>E(H.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"fresh",children:" (fresh)"}),u.jsx("option",{value:"junior",children:" (junior)"}),u.jsx("option",{value:"mid-senior",children:"  (mid/senior)"}),u.jsx("option",{value:"lead-staff",children:" (lead/staff)"})]})]})]})]}),D&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-xl flex items-center gap-2 text-sm",children:[u.jsx(xc,{className:"w-5 h-5"}),D]}),N&&u.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 text-emerald-600 rounded-xl flex items-center gap-2 text-sm animate-in zoom-in",children:[u.jsx(As,{className:"w-5 h-5"}),"   !"]}),u.jsx($e,{type:"submit",className:"w-full py-4 rounded-xl flex justify-center gap-2 shadow-lg hover:shadow-accent/30",disabled:T,children:T?u.jsx(xt,{className:"w-6 h-6 animate-spin"}):"  "})]})]})})},{onAuthStateChanged:mz}=Ni,{useNavigate:pz}=fs,gz=()=>{const[n,e]=O.useState("requests"),[t,i]=O.useState(null),[r,a]=O.useState(!0),c=pz();if(O.useEffect(()=>{const f=mz(st,async g=>{if(g)try{const T=(await Ms(un(pt,"users",g.uid))).data(),S=T==null?void 0:T.role;S==="admin"||S==="maintainer"||S==="interviewer"?(i(S),e(S==="admin"?"users":"requests")):c("/")}catch{c("/")}else c("/login");a(!1)});return()=>f()},[c]),r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin"})});if(!t)return null;const h=t==="admin",m=t==="maintainer";return u.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-4 md:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[u.jsx(jy,{className:"w-8 h-8 text-accent"})," "]}),u.jsx("p",{className:"text-gray-500 mt-1",children:h?"    ":m?"    ":"    "})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 mb-8 inline-flex flex-wrap gap-1",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>e("users"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="users"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(Ec,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:()=>e("create-user"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="create-user"?"bg-accent text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(K0,{className:"w-4 h-4"}),"  "]})]}),u.jsxs("button",{onClick:()=>e("requests"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="requests"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(zo,{className:"w-4 h-4"})," "]}),(h||m)&&u.jsxs("button",{onClick:()=>e("reviews"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="reviews"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(G0,{className:"w-4 h-4"}),""]})]}),u.jsxs("div",{className:"min-h-[500px]",children:[h&&n==="users"&&u.jsx(az,{}),h&&n==="create-user"&&u.jsx(fz,{}),n==="requests"&&u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-1 md:p-4",children:[u.jsx("div",{className:"dashboard-embedded",children:u.jsx(TR,{})}),u.jsx("style",{children:`
                 .dashboard-embedded .pt-24 { padding-top: 1rem !important; }
                 .dashboard-embedded .min-h-screen { min-height: auto !important; }
                 .dashboard-embedded .container { padding: 0 !important; max-width: 100% !important; }
               `})]}),(h||m)&&n==="reviews"&&u.jsx(lz,{})]})]})})},{onAuthStateChanged:yz}=Ni,{useNavigate:vz,useLocation:_z}=fs,xz=()=>{var V;const n=vz(),e=_z(),[t,i]=O.useState(!0),[r,a]=O.useState(!1),[c,h]=O.useState(!1),[m,f]=O.useState(!1),[g,E]=O.useState(!1),[T,S]=O.useState(null),[N,U]=O.useState(null),[D,q]=O.useState(!1),[B,H]=O.useState({name:"",email:"",phone:"",jobTitle:"",country:"",isEmailVerified:!1,referralCode:"",referralCount:0,referredUsers:[]}),ee=async(M,P,L)=>{try{const pe=un(pt,"users",L),Ie=un(pt,"users",M);await lV(pt,async Y=>{const ce=await Y.get(pe),ye=await Y.get(Ie);!ce.exists()||!ye.exists()||ye.data().referralProcessed||(Y.update(pe,{referralCount:(ce.data().referralCount||0)+1,referredUsers:cV(P)}),Y.update(Ie,{referralProcessed:!0}))}),console.log("Referral reward processed successfully")}catch(pe){console.error("Error processing referral reward:",pe)}};O.useEffect(()=>{new URLSearchParams(e.search).get("verify")==="sent"&&q(!0);const P=yz(st,async L=>{if(L){U(L);try{const pe=un(pt,"users",L.uid),Ie=await Ms(pe);if(Ie.exists()){let Y=Ie.data();if(L.emailVerified&&!Y.isEmailVerified&&(await Ka(pe,{isEmailVerified:!0}),Y.isEmailVerified=!0),Y.isEmailVerified&&Y.referredBy&&!Y.referralProcessed){await ee(L.uid,L.email,Y.referredBy);const ce=await Ms(pe);ce.exists()&&(Y=ce.data())}H({...Y,referralCount:Y.referralCount||0,referredUsers:Y.referredUsers||[]})}}catch{S("    .")}finally{i(!1)}}else n("/login")});return()=>P()},[n,e]);const re=async M=>{M.preventDefault(),a(!0),S(null);try{await Gm(un(pt,"users",N.uid),{name:B.name,phone:B.phone||"",jobTitle:B.jobTitle||"",country:B.country||"",updatedAt:ur()},{merge:!0}),h(!0),setTimeout(()=>h(!1),3e3)}catch{S(" .   .")}finally{a(!1)}},F=()=>`${window.location.origin+window.location.pathname}#/signup?ref=${B.referralCode}`,C=M=>{const[P,L]=M.split("@");return`${P.substring(0,2)}***@${L}`},R=15,I=Math.min((B.referralCount||0)/R*100,100);return t?u.jsx("div",{className:"min-h-screen pt-32 flex flex-col items-center justify-center",children:u.jsx(xt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-gray-50 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[D&&u.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 p-6 rounded-3xl mb-8 flex items-center gap-4 animate-in fade-in zoom-in",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center",children:u.jsx(AN,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-emerald-800",children:"   !"}),u.jsx("p",{className:"text-emerald-600 text-sm",children:"      (  Junk )."})]}),u.jsx("button",{onClick:()=>q(!1),className:"mr-auto text-emerald-400 hover:text-emerald-600",children:u.jsx(Zs,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl border border-gray-100 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-accent to-teal-500 h-32 relative",children:u.jsx("div",{className:"absolute -bottom-12 right-10 w-24 h-24 bg-white rounded-3xl p-1 shadow-2xl",children:u.jsx("div",{className:"w-full h-full bg-accent/10 rounded-2xl flex items-center justify-center text-accent",children:u.jsx(ls,{className:"w-12 h-12"})})})}),u.jsxs("form",{onSubmit:re,className:"p-10 pt-16 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(ls,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:B.name,onChange:M=>H({...B,name:M.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-600 mb-2 flex items-center justify-between",children:[" ",B.isEmailVerified?u.jsxs("span",{className:"text-[10px] bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(As,{className:"w-3 h-3"})," "]}):u.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full",children:" "})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-300"}),u.jsx("input",{type:"email",readOnly:!0,value:B.email,className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-100 text-gray-400 cursor-not-allowed"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Nd,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"tel",value:B.phone,onChange:M=>H({...B,phone:M.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all dir-ltr text-right"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(_m,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:B.country,onChange:M=>H({...B,country:M.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"   ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ya,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:B.jobTitle,onChange:M=>H({...B,jobTitle:M.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[T&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-sm flex items-center gap-2",children:[u.jsx(xc,{className:"w-5 h-5"})," ",T]}),u.jsx($e,{type:"submit",className:"w-full rounded-2xl py-4 flex justify-center gap-2",disabled:r,children:r?u.jsx(xt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Id,{className:"w-5 h-5"}),"   "]})}),c&&u.jsx("p",{className:"text-center text-emerald-600 font-bold animate-pulse text-sm",children:"    "})]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 p-8",children:[u.jsxs("h3",{className:"text-lg font-black text-primary mb-6 flex items-center gap-2",children:[u.jsx(Ec,{className:"w-5 h-5 text-accent"}),"   (",(B.referredUsers||[]).length,")"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(B.referredUsers||[]).length>0?(V=B.referredUsers)==null?void 0:V.map((M,P)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-100",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center text-[10px] font-bold text-accent",children:P+1}),u.jsx("span",{className:"text-xs font-medium text-gray-600 dir-ltr",children:C(M)}),u.jsx(As,{className:"w-4 h-4 text-emerald-500 mr-auto"})]},P)):u.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 text-sm",children:"    .    !"})})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl border border-gray-100 p-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-accent/5 rounded-full blur-3xl"}),u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center text-amber-600 shadow-inner",children:u.jsx(ZP,{className:"w-7 h-7"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-primary",children:" "}),u.jsxs("p",{className:"text-xs text-gray-400",children:[" ",R,"   "]})]})]}),(B.referralCount||0)>=R?u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-3xl text-white shadow-lg shadow-emerald-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 font-black",children:[u.jsx(Hi,{className:"w-6 h-6 text-yellow-300"})," !"]}),u.jsx("p",{className:"text-sm font-medium leading-relaxed",children:"  !        ."})]}):u.jsxs("div",{className:"mb-8 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "}),u.jsxs("span",{className:"text-lg font-black text-accent",children:[B.referralCount,"/",R]})]}),u.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full p-1 shadow-inner",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-accent to-emerald-400 rounded-full transition-all duration-1000",style:{width:`${I}%`}})}),u.jsxs("p",{className:"text-[10px] text-gray-400 text-center",children:[" ",R-(B.referralCount||0),"  !"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2 mr-1",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-full bg-gray-50 border border-gray-100 py-3 rounded-2xl text-center font-mono font-bold text-lg text-primary",children:B.referralCode}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(B.referralCode||""),E(!0),setTimeout(()=>E(!1),2e3)},className:"absolute left-2 top-2 p-1.5 bg-white shadow-sm border border-gray-100 rounded-xl text-accent",children:g?u.jsx(As,{className:"w-4 h-4 text-emerald-500"}):u.jsx(zk,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2 mr-1",children:"  "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{readOnly:!0,value:F(),className:"w-full bg-gray-50 border border-gray-100 py-3 pr-4 pl-12 rounded-2xl text-[10px] text-gray-500 outline-none"}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(F()),f(!0),setTimeout(()=>f(!1),2e3)},className:"absolute left-2 top-1.5 p-2 bg-white shadow-sm border border-gray-100 rounded-xl text-accent",children:m?u.jsx(As,{className:"w-4 h-4 text-emerald-500"}):u.jsx(VP,{className:"w-4 h-4"})})]})]})]})]})})]})]})})},{applyActionCode:Ez,confirmPasswordReset:Tz,reload:wz,signOut:bz}=Ni,{useSearchParams:Sz,useNavigate:Az}=fs,Nz=()=>{const[n]=Sz(),e=Az(),[t,i]=O.useState("loading"),[r,a]=O.useState(""),[c,h]=O.useState(""),m=n.get("mode"),f=n.get("oobCode");O.useEffect(()=>{if(!m||!f){i("error"),a("     .");return}switch(m){case"verifyEmail":g(f);break;case"resetPassword":i("reset-password");break;default:i("error"),a("  .")}},[m,f]);const g=async T=>{try{if(await Ez(st,T),st.currentUser){await wz(st.currentUser);const S=un(pt,"users",st.currentUser.uid);await Ka(S,{isEmailVerified:!0,updatedAt:ur()}),await bz(st)}i("success"),a("    !        .")}catch(S){console.error("Verification error:",S),i("error"),a("  .        .")}},E=async T=>{if(T.preventDefault(),c.length<6){alert("     6   ");return}i("loading");try{await Tz(st,f,c),i("success"),a("    .       .")}catch{i("error"),a("      .")}};return u.jsx("div",{className:"min-h-screen pt-32 pb-12 bg-gray-50 flex items-center justify-center px-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] p-10 shadow-2xl border border-gray-100 text-center animate-in fade-in zoom-in duration-500",children:[t==="loading"&&u.jsxs("div",{className:"py-12 space-y-4",children:[u.jsx(xt,{className:"w-16 h-16 text-accent animate-spin mx-auto"}),u.jsx("p",{className:"text-gray-500 font-bold",children:"  ..."})]}),t==="success"&&u.jsxs("div",{className:"py-8 space-y-6",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-500 rounded-[2rem] flex items-center justify-center mx-auto shadow-inner",children:u.jsx(Oy,{className:"w-12 h-12"})}),u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:r}),u.jsxs($e,{onClick:()=>e("/login"),className:"w-full py-4 rounded-2xl flex items-center justify-center gap-2",children:["   ",u.jsx(jf,{className:"w-5 h-5"})]})]}),t==="error"&&u.jsxs("div",{className:"py-8 space-y-6",children:[u.jsx("div",{className:"w-24 h-24 bg-rose-50 text-rose-500 rounded-[2rem] flex items-center justify-center mx-auto shadow-inner",children:u.jsx(xc,{className:"w-12 h-12"})}),u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:r}),u.jsx($e,{variant:"outline",onClick:()=>e("/login"),className:"w-full py-4 rounded-2xl",children:"  "})]}),t==="reset-password"&&u.jsxs("div",{className:"py-8 space-y-6 text-right",children:[u.jsx("div",{className:"w-20 h-20 bg-blue-50 text-blue-500 rounded-[1.5rem] flex items-center justify-center mx-auto mb-4",children:u.jsx(xm,{className:"w-10 h-10"})}),u.jsx("h2",{className:"text-2xl font-black text-primary text-center",children:"   "}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),u.jsx("input",{type:"password",required:!0,value:c,onChange:T=>h(T.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none",placeholder:""})]}),u.jsx($e,{type:"submit",className:"w-full py-4 rounded-2xl",children:"   "})]})]})]})})},{HashRouter:Iz,Routes:Cz,Route:Oi,useLocation:Rz}=fs,Dz=()=>{const e=Rz().pathname.startsWith("/dashboard");return u.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[u.jsx(Wj,{}),u.jsx("main",{className:"flex-grow",children:u.jsxs(Cz,{children:[u.jsx(Oi,{path:"/",element:u.jsx(cF,{})}),u.jsx(Oi,{path:"/request-meeting",element:u.jsx(pF,{})}),u.jsx(Oi,{path:"/meeting-requests",element:u.jsx(TR,{})}),u.jsx(Oi,{path:"/my-requests",element:u.jsx(VG,{})}),u.jsx(Oi,{path:"/profile",element:u.jsx(xz,{})}),u.jsx(Oi,{path:"/login",element:u.jsx(BG,{})}),u.jsx(Oi,{path:"/signup",element:u.jsx(WG,{})}),u.jsx(Oi,{path:"/team",element:u.jsx(oz,{})}),u.jsx(Oi,{path:"/terms",element:u.jsx(nz,{})}),u.jsx(Oi,{path:"/privacy",element:u.jsx(iz,{})}),u.jsx(Oi,{path:"/faq",element:u.jsx(rz,{})}),u.jsx(Oi,{path:"/dashboard",element:u.jsx(gz,{})}),u.jsx(Oi,{path:"/auth/action",element:u.jsx(Nz,{})})]})}),!e&&u.jsx(tz,{})]})};function Mz(){return u.jsx(Iz,{children:u.jsx(Dz,{})})}const wR=document.getElementById("root");if(!wR)throw new Error("Could not find root element to mount to");const kz=cD.createRoot(wR);kz.render(u.jsx(RA.StrictMode,{children:u.jsx(Mz,{})}));

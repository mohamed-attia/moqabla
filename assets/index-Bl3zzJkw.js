function wA(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Ev(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ey={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function W2(){if(NT)return Lu;NT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:a}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var IT;function Q2(){return IT||(IT=1,ey.exports=W2()),ey.exports}var u=Q2(),ty={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function X2(){if(CT)return Je;CT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=T&&G[T]||G["@@iterator"],typeof G=="function"?G:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function j(G,$,me){this.props=G,this.context=$,this.refs=M,this.updater=me||I}j.prototype.isReactComponent={},j.prototype.setState=function(G,$){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,$,"setState")},j.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function H(){}H.prototype=j.prototype;function z(G,$,me){this.props=G,this.context=$,this.refs=M,this.updater=me||I}var ne=z.prototype=new H;ne.constructor=z,L(ne,j.prototype),ne.isPureReactComponent=!0;var oe=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(G,$,me){var ye=me.ref;return{$$typeof:n,type:G,key:$,ref:ye!==void 0?ye:null,props:me}}function P(G,$){return N(G.type,$,G.props)}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function F(G){var $={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(me){return $[me]})}var V=/\/+/g;function xe(G,$){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):$.toString(36)}function Ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(q,q):(G.status="pending",G.then(function($){G.status==="pending"&&(G.status="fulfilled",G.value=$)},function($){G.status==="pending"&&(G.status="rejected",G.reason=$)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function W(G,$,me,ye,Re){var Fe=typeof G;(Fe==="undefined"||Fe==="boolean")&&(G=null);var tt=!1;if(G===null)tt=!0;else switch(Fe){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(G.$$typeof){case n:case e:tt=!0;break;case g:return tt=G._init,W(tt(G._payload),$,me,ye,Re)}}if(tt)return Re=Re(G),tt=ye===""?"."+xe(G,0):ye,oe(Re)?(me="",tt!=null&&(me=tt.replace(V,"$&/")+"/"),W(Re,$,me,"",function(ds){return ds})):Re!=null&&(D(Re)&&(Re=P(Re,me+(Re.key==null||G&&G.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+tt)),$.push(Re)),1;tt=0;var Qt=ye===""?".":ye+":";if(oe(G))for(var Qe=0;Qe<G.length;Qe++)ye=G[Qe],Fe=Qt+xe(ye,Qe),tt+=W(ye,$,me,Fe,Re);else if(Qe=b(G),typeof Qe=="function")for(G=Qe.call(G),Qe=0;!(ye=G.next()).done;)ye=ye.value,Fe=Qt+xe(ye,Qe++),tt+=W(ye,$,me,Fe,Re);else if(Fe==="object"){if(typeof G.then=="function")return W(Ce(G),$,me,ye,Re);throw $=String(G),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return tt}function ce(G,$,me){if(G==null)return G;var ye=[],Re=0;return W(G,ye,"","",function(Fe){return $.call(me,Fe,Re++)}),ye}function Ee(G){if(G._status===-1){var $=G._result;$=$(),$.then(function(me){(G._status===0||G._status===-1)&&(G._status=1,G._result=me)},function(me){(G._status===0||G._status===-1)&&(G._status=2,G._result=me)}),G._status===-1&&(G._status=0,G._result=$)}if(G._status===1)return G._result.default;throw G._result}var He=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Le={map:ce,forEach:function(G,$,me){ce(G,function(){$.apply(this,arguments)},me)},count:function(G){var $=0;return ce(G,function(){$++}),$},toArray:function(G){return ce(G,function($){return $})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Je.Activity=E,Je.Children=Le,Je.Component=j,Je.Fragment=t,Je.Profiler=r,Je.PureComponent=z,Je.StrictMode=i,Je.Suspense=m,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Je.__COMPILER_RUNTIME={__proto__:null,c:function(G){return R.H.useMemoCache(G)}},Je.cache=function(G){return function(){return G.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(G,$,me){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=L({},G.props),Re=G.key;if($!=null)for(Fe in $.key!==void 0&&(Re=""+$.key),$)!C.call($,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&$.ref===void 0||(ye[Fe]=$[Fe]);var Fe=arguments.length-2;if(Fe===1)ye.children=me;else if(1<Fe){for(var tt=Array(Fe),Qt=0;Qt<Fe;Qt++)tt[Qt]=arguments[Qt+2];ye.children=tt}return N(G.type,Re,ye)},Je.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Je.createElement=function(G,$,me){var ye,Re={},Fe=null;if($!=null)for(ye in $.key!==void 0&&(Fe=""+$.key),$)C.call($,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Re[ye]=$[ye]);var tt=arguments.length-2;if(tt===1)Re.children=me;else if(1<tt){for(var Qt=Array(tt),Qe=0;Qe<tt;Qe++)Qt[Qe]=arguments[Qe+2];Re.children=Qt}if(G&&G.defaultProps)for(ye in tt=G.defaultProps,tt)Re[ye]===void 0&&(Re[ye]=tt[ye]);return N(G,Fe,Re)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(G){return{$$typeof:h,render:G}},Je.isValidElement=D,Je.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:Ee}},Je.memo=function(G,$){return{$$typeof:f,type:G,compare:$===void 0?null:$}},Je.startTransition=function(G){var $=R.T,me={};R.T=me;try{var ye=G(),Re=R.S;Re!==null&&Re(me,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(q,He)}catch(Fe){He(Fe)}finally{$!==null&&me.types!==null&&($.types=me.types),R.T=$}},Je.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Je.use=function(G){return R.H.use(G)},Je.useActionState=function(G,$,me){return R.H.useActionState(G,$,me)},Je.useCallback=function(G,$){return R.H.useCallback(G,$)},Je.useContext=function(G){return R.H.useContext(G)},Je.useDebugValue=function(){},Je.useDeferredValue=function(G,$){return R.H.useDeferredValue(G,$)},Je.useEffect=function(G,$){return R.H.useEffect(G,$)},Je.useEffectEvent=function(G){return R.H.useEffectEvent(G)},Je.useId=function(){return R.H.useId()},Je.useImperativeHandle=function(G,$,me){return R.H.useImperativeHandle(G,$,me)},Je.useInsertionEffect=function(G,$){return R.H.useInsertionEffect(G,$)},Je.useLayoutEffect=function(G,$){return R.H.useLayoutEffect(G,$)},Je.useMemo=function(G,$){return R.H.useMemo(G,$)},Je.useOptimistic=function(G,$){return R.H.useOptimistic(G,$)},Je.useReducer=function(G,$,me){return R.H.useReducer(G,$,me)},Je.useRef=function(G){return R.H.useRef(G)},Je.useState=function(G){return R.H.useState(G)},Je.useSyncExternalStore=function(G,$,me){return R.H.useSyncExternalStore(G,$,me)},Je.useTransition=function(){return R.H.useTransition()},Je.version="19.2.3",Je}var RT;function Tv(){return RT||(RT=1,ty.exports=X2()),ty.exports}var U=Tv();const bA=Ev(U),wv=wA({__proto__:null,default:bA},[U]);var ny={exports:{}},Uu={},iy={exports:{}},sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function Z2(){return DT||(DT=1,(function(n){function e(W,ce){var Ee=W.length;W.push(ce);e:for(;0<Ee;){var He=Ee-1>>>1,Le=W[He];if(0<r(Le,ce))W[He]=ce,W[Ee]=Le,Ee=He;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ce=W[0],Ee=W.pop();if(Ee!==ce){W[0]=Ee;e:for(var He=0,Le=W.length,G=Le>>>1;He<G;){var $=2*(He+1)-1,me=W[$],ye=$+1,Re=W[ye];if(0>r(me,Ee))ye<Le&&0>r(Re,me)?(W[He]=Re,W[ye]=Ee,He=ye):(W[He]=me,W[$]=Ee,He=$);else if(ye<Le&&0>r(Re,Ee))W[He]=Re,W[ye]=Ee,He=ye;else break e}}return ce}function r(W,ce){var Ee=W.sortIndex-ce.sortIndex;return Ee!==0?Ee:W.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],f=[],g=1,E=null,T=3,b=!1,I=!1,L=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var ce=t(f);ce!==null;){if(ce.callback===null)i(f);else if(ce.startTime<=W)i(f),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(f)}}function oe(W){if(L=!1,ne(W),!I)if(t(m)!==null)I=!0,q||(q=!0,F());else{var ce=t(f);ce!==null&&Ce(oe,ce.startTime-W)}}var q=!1,R=-1,C=5,N=-1;function P(){return M?!0:!(n.unstable_now()-N<C)}function D(){if(M=!1,q){var W=n.unstable_now();N=W;var ce=!0;try{e:{I=!1,L&&(L=!1,H(R),R=-1),b=!0;var Ee=T;try{t:{for(ne(W),E=t(m);E!==null&&!(E.expirationTime>W&&P());){var He=E.callback;if(typeof He=="function"){E.callback=null,T=E.priorityLevel;var Le=He(E.expirationTime<=W);if(W=n.unstable_now(),typeof Le=="function"){E.callback=Le,ne(W),ce=!0;break t}E===t(m)&&i(m),ne(W)}else i(m);E=t(m)}if(E!==null)ce=!0;else{var G=t(f);G!==null&&Ce(oe,G.startTime-W),ce=!1}}break e}finally{E=null,T=Ee,b=!1}ce=void 0}}finally{ce?F():q=!1}}}var F;if(typeof z=="function")F=function(){z(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xe=V.port2;V.port1.onmessage=D,F=function(){xe.postMessage(null)}}else F=function(){j(D,0)};function Ce(W,ce){R=j(function(){W(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var Ee=T;T=ce;try{return W()}finally{T=Ee}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Ee=T;T=W;try{return ce()}finally{T=Ee}},n.unstable_scheduleCallback=function(W,ce,Ee){var He=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?He+Ee:He):Ee=He,W){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Ee+Le,W={id:g++,callback:ce,priorityLevel:W,startTime:Ee,expirationTime:Le,sortIndex:-1},Ee>He?(W.sortIndex=Ee,e(f,W),t(m)===null&&W===t(f)&&(L?(H(R),R=-1):L=!0,Ce(oe,Ee-He))):(W.sortIndex=Le,e(m,W),I||b||(I=!0,q||(q=!0,F()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var ce=T;return function(){var Ee=T;T=ce;try{return W.apply(this,arguments)}finally{T=Ee}}}})(sy)),sy}var MT;function eD(){return MT||(MT=1,iy.exports=Z2()),iy.exports}var ry={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function tD(){if(kT)return Wn;kT=1;var n=Tv();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(m,f,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:m,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(m,f,null,g)},Wn.flushSync=function(m){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=f,i.p=g,i.d.f()}},Wn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},Wn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,E=h(g,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:b}):g==="script"&&i.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},Wn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,E=h(g,f.crossOrigin);i.d.L(m,g,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wn.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=h(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},Wn.requestFormReset=function(m){i.d.r(m)},Wn.unstable_batchedUpdates=function(m,f){return m(f)},Wn.useFormState=function(m,f,g){return c.H.useFormState(m,f,g)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.2.3",Wn}var PT;function SA(){if(PT)return ry.exports;PT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ry.exports=tD(),ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function nD(){if(LT)return Uu;LT=1;var n=eD(),e=Tv(),t=SA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function m(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,d=o;;){var _=l.return;if(_===null)break;var x=_.alternate;if(x===null){if(d=_.return,d!==null){l=d;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===l)return m(_),s;if(x===d)return m(_),o;x=x.sibling}throw Error(i(188))}if(l.return!==d.return)l=_,d=x;else{for(var S=!1,k=_.child;k;){if(k===l){S=!0,l=_,d=x;break}if(k===d){S=!0,d=_,l=x;break}k=k.sibling}if(!S){for(k=x.child;k;){if(k===l){S=!0,l=x,d=_;break}if(k===d){S=!0,d=x,l=_;break}k=k.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case oe:return"Suspense";case q:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case z:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case ne:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}var Ce=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},He=[],Le=-1;function G(s){return{current:s}}function $(s){0>Le||(s.current=He[Le],He[Le]=null,Le--)}function me(s,o){Le++,He[Le]=s.current,s.current=o}var ye=G(null),Re=G(null),Fe=G(null),tt=G(null);function Qt(s,o){switch(me(Fe,o),me(Re,s),me(ye,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?WE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=WE(o),s=QE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(ye),me(ye,s)}function Qe(){$(ye),$(Re),$(Fe)}function ds(s){s.memoizedState!==null&&me(tt,s);var o=ye.current,l=QE(o,s.type);o!==l&&(me(Re,s),me(ye,l))}function en(s){Re.current===s&&($(ye),$(Re)),tt.current===s&&($(tt),Du._currentValue=Ee)}var ui,Bi;function zn(s){if(ui===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ui=o&&o[1]||"",Bi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+s+Bi}var $n=!1;function di(s,o){if(!s||$n)return"";$n=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var te=se}Reflect.construct(s,[],de)}else{try{de.call()}catch(se){te=se}s.call(de.prototype)}}else{try{throw Error()}catch(se){te=se}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),S=x[0],k=x[1];if(S&&k){var B=S.split(`
`),Z=k.split(`
`);for(_=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(d===B.length||_===Z.length)for(d=B.length-1,_=Z.length-1;1<=d&&0<=_&&B[d]!==Z[_];)_--;for(;1<=d&&0<=_;d--,_--)if(B[d]!==Z[_]){if(d!==1||_!==1)do if(d--,_--,0>_||B[d]!==Z[_]){var ae=`
`+B[d].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=d&&0<=_);break}}}finally{$n=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?zn(l):""}function Ps(s,o){switch(s.tag){case 26:case 27:case 5:return zn(s.type);case 16:return zn("Lazy");case 13:return s.child!==o&&o!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return di(s.type,!1);case 11:return di(s.type.render,!1);case 1:return di(s.type,!0);case 31:return zn("Activity");default:return""}}function or(s){try{var o="",l=null;do o+=Ps(s,l),l=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Lt=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,Pn=n.unstable_cancelCallback,Yr=n.unstable_shouldYield,fe=n.unstable_requestPaint,Me=n.unstable_now,pt=n.unstable_getCurrentPriorityLevel,Kn=n.unstable_ImmediatePriority,Yn=n.unstable_UserBlockingPriority,hi=n.unstable_NormalPriority,ti=n.unstable_LowPriority,Ai=n.unstable_IdlePriority,Ni=n.log,Ls=n.unstable_setDisableYieldValue,Jn=null,tn=null;function Ln(s){if(typeof Ni=="function"&&Ls(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Jn,s)}catch{}}var $t=Math.clz32?Math.clz32:ca,Jr=Math.log,Wr=Math.LN2;function ca(s){return s>>>=0,s===0?32:31-(Jr(s)/Wr|0)|0}var Gi=256,Us=262144,nn=4194304;function Y(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ee(s,o,l){var d=s.pendingLanes;if(d===0)return 0;var _=0,x=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var k=d&134217727;return k!==0?(d=k&~x,d!==0?_=Y(d):(S&=k,S!==0?_=Y(S):l||(l=k&~s,l!==0&&(_=Y(l))))):(k=d&~x,k!==0?_=Y(k):S!==0?_=Y(S):l||(l=d&~s,l!==0&&(_=Y(l)))),_===0?0:o!==0&&o!==_&&(o&x)===0&&(x=_&-_,l=o&-o,x>=l||x===32&&(l&4194048)!==0)?o:_}function re(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ge(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Se(){var s=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),s}function Be(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Pe(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ue(s,o,l,d,_,x){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,B=s.expirationTimes,Z=s.hiddenUpdates;for(l=S&~l;0<l;){var ae=31-$t(l),de=1<<ae;k[ae]=0,B[ae]=-1;var te=Z[ae];if(te!==null)for(Z[ae]=null,ae=0;ae<te.length;ae++){var se=te[ae];se!==null&&(se.lane&=-536870913)}l&=~de}d!==0&&Ne(s,d,0),x!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=x&~(S&~o))}function Ne(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-$t(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|l&261930}function nt(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-$t(l),_=1<<d;_&o|s[d]&o&&(s[d]|=o),l&=~_}}function Kt(s,o){var l=o&-o;return l=(l&42)!==0?1:ze(l),(l&(s.suspendedLanes|o))!==0?0:l}function ze(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ot(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sn(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:xT(s.type))}function Ot(s,o){var l=ce.p;try{return ce.p=s,o()}finally{ce.p=l}}var wt=Math.random().toString(36).slice(2),kt="__reactFiber$"+wt,rn="__reactProps$"+wt,Un="__reactContainer$"+wt,ni="__reactEvents$"+wt,hs="__reactListeners$"+wt,Qr="__reactHandles$"+wt,Vs="__reactResources$"+wt,fi="__reactMarker$"+wt;function Ii(s){delete s[kt],delete s[rn],delete s[ni],delete s[hs],delete s[Qr]}function ii(s){var o=s[kt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Un]||l[kt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=sT(s);s!==null;){if(l=s[kt])return l;s=sT(s)}return o}s=l,l=s.parentNode}return null}function Ye(s){if(s=s[kt]||s[Un]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Xe(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function jt(s){var o=s[Vs];return o||(o=s[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ft(s){s[fi]=!0}var ua=new Set,jc={};function Os(s,o){js(s,o),js(s+"Capture",o)}function js(s,o){for(jc[s]=o,s=0;s<o.length;s++)ua.add(o[s])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Hc={};function qd(s){return Lt.call(Hc,s)?!0:Lt.call(qc,s)?!1:Fc.test(s)?Hc[s]=!0:(qc[s]=!0,!1)}function Xa(s,o,l){if(qd(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Ci(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function gn(s,o,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+d)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xr(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bc(s,o,l){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,x=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return _.call(this)},set:function(S){l=""+S,x.call(this,S)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function bt(s){if(!s._valueTracker){var o=Xr(s)?"checked":"value";s._valueTracker=Bc(s,o,""+s[o])}}function da(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Xr(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function Fs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ha=/[\n"\\]/g;function mi(s){return s.replace(ha,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Za(s,o,l,d,_,x,S,k){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+In(o)):s.value!==""+In(o)&&(s.value=""+In(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?Gc(s,S,In(o)):l!=null?Gc(s,S,In(l)):d!=null&&s.removeAttribute("value"),_==null&&x!=null&&(s.defaultChecked=!!x),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+In(k):s.removeAttribute("name")}function Hd(s,o,l,d,_,x,S,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){bt(s);return}l=l!=null?""+In(l):"",o=o!=null?""+In(o):l,k||o===s.value||(s.value=o),s.defaultValue=o}d=d??_,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=k?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),bt(s)}function Gc(s,o,l){o==="number"&&Fs(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zr(s,o,l,d){if(s=s.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<s.length;l++)_=o.hasOwnProperty("$"+s[l].value),s[l].selected!==_&&(s[l].selected=_),_&&d&&(s[l].defaultSelected=!0)}else{for(l=""+In(l),o=null,_=0;_<s.length;_++){if(s[_].value===l){s[_].selected=!0,d&&(s[_].defaultSelected=!0);return}o!==null||s[_].disabled||(o=s[_])}o!==null&&(o.selected=!0)}}function Bd(s,o,l){if(o!=null&&(o=""+In(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+In(l):""}function eo(s,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(i(92));if(Ce(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=In(o),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d),bt(s)}function pi(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Gd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(s,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,l):typeof l!="number"||l===0||Gd.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function $c(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var _ in o)d=o[_],o.hasOwnProperty(_)&&l[_]!==d&&zc(s,_,d)}else for(var x in o)o.hasOwnProperty(x)&&zc(s,x,o[x])}function el(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(s){return to.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fs(){}var Kc=null;function zi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,qs=null;function fa(s){var o=Ye(s);if(o&&(s=o.stateNode)){var l=s[rn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mi(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var _=d[rn]||null;if(!_)throw Error(i(90));Za(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===s.form&&da(d)}break e;case"textarea":Bd(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Zr(s,!!l.multiple,o,!1)}}}var nl=!1;function io(s,o,l){if(nl)return s(o,l);nl=!0;try{var d=s(o);return d}finally{if(nl=!1,(no!==null||qs!==null)&&(Oh(),no&&(o=no,s=qs,qs=no=null,fa(o),s)))for(o=0;o<s.length;o++)fa(s[o])}}function ms(s,o){var l=s.stateNode;if(l===null)return null;var d=l[rn]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if($i)try{var It={};Object.defineProperty(It,"passive",{get:function(){ma=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{ma=!1}var Hs=null,Yc=null,pa=null;function Jc(){if(pa)return pa;var s,o=Yc,l=o.length,d,_="value"in Hs?Hs.value:Hs.textContent,x=_.length;for(s=0;s<l&&o[s]===_[s];s++);var S=l-s;for(d=1;d<=S&&o[l-d]===_[x-d];d++);return pa=_.slice(s,1<d?1-d:void 0)}function ga(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ar(){return!0}function ps(){return!1}function Vn(s){function o(l,d,_,x,S){this._reactName=l,this._targetInst=_,this.type=d,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ar:ps,this.isPropagationStopped=ps,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),o}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Vn(lr),so=E({},lr,{view:0,detail:0}),Wc=Vn(so),ro,il,Gs,sl=E({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gs&&(Gs&&s.type==="mousemove"?(ro=s.screenX-Gs.screenX,il=s.screenY-Gs.screenY):il=ro=0,Gs=s),ro)},movementY:function(s){return"movementY"in s?s.movementY:il}}),Qc=Vn(sl),ya=E({},sl,{dataTransfer:0}),$d=Vn(ya),Kd=E({},so,{relatedTarget:0}),va=Vn(Kd),Xc=E({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=Vn(Xc),rl=E({},lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=Vn(rl),Wd=E({},lr,{data:0}),zs=Vn(Wd),Qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Zd[s])?!!o[s]:!1}function oo(){return eh}var si=E({},so,{key:function(s){if(s.key){var o=Qd[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(s){return s.type==="keypress"?ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),th=Vn(si),nh=E({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Vn(nh),v=E({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),w=Vn(v),A=E({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=Vn(A),Q=E({},sl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Vn(Q),ve=E({},lr,{newState:0,oldState:0}),Ze=Vn(ve),dn=[9,13,27,32],xt=$i&&"CompositionEvent"in window,Yt=null;$i&&"documentMode"in document&&(Yt=document.documentMode);var Ki=$i&&"TextEvent"in window&&!Yt,$s=$i&&(!xt||Yt&&8<Yt&&11>=Yt),gs=" ",ys=!1;function _a(s,o){switch(s){case"keyup":return dn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var al=!1;function xR(s,o){switch(s){case"compositionend":return ol(o);case"keypress":return o.which!==32?null:(ys=!0,gs);case"textInput":return s=o.data,s===gs&&ys?null:s;default:return null}}function ER(s,o){if(al)return s==="compositionend"||!xt&&_a(s,o)?(s=Jc(),pa=Yc=Hs=null,al=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $s&&o.locale!=="ko"?null:o.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!TR[s.type]:o==="textarea"}function l_(s,o,l,d){no?qs?qs.push(d):qs=[d]:no=d,o=zh(o,"onChange"),0<o.length&&(l=new Bs("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var Zc=null,eu=null;function wR(s){GE(s,0)}function ih(s){var o=Xe(s);if(da(o))return s}function c_(s,o){if(s==="change")return o}var u_=!1;if($i){var ap;if($i){var lp="oninput"in document;if(!lp){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),lp=typeof d_.oninput=="function"}ap=lp}else ap=!1;u_=ap&&(!document.documentMode||9<document.documentMode)}function h_(){Zc&&(Zc.detachEvent("onpropertychange",f_),eu=Zc=null)}function f_(s){if(s.propertyName==="value"&&ih(eu)){var o=[];l_(o,eu,s,zi(s)),io(wR,o)}}function bR(s,o,l){s==="focusin"?(h_(),Zc=o,eu=l,Zc.attachEvent("onpropertychange",f_)):s==="focusout"&&h_()}function SR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ih(eu)}function AR(s,o){if(s==="click")return ih(o)}function NR(s,o){if(s==="input"||s==="change")return ih(o)}function IR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ri=typeof Object.is=="function"?Object.is:IR;function tu(s,o){if(Ri(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var _=l[d];if(!Lt.call(o,_)||!Ri(s[_],o[_]))return!1}return!0}function m_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function p_(s,o){var l=m_(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=m_(l)}}function g_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?g_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function y_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Fs(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Fs(s.document)}return o}function cp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var CR=$i&&"documentMode"in document&&11>=document.documentMode,ll=null,up=null,nu=null,dp=!1;function v_(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dp||ll==null||ll!==Fs(d)||(d=ll,"selectionStart"in d&&cp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),nu&&tu(nu,d)||(nu=d,d=zh(up,"onSelect"),0<d.length&&(o=new Bs("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=ll)))}function xa(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var cl={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},hp={},__={};$i&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Ea(s){if(hp[s])return hp[s];if(!cl[s])return s;var o=cl[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in __)return hp[s]=o[l];return s}var x_=Ea("animationend"),E_=Ea("animationiteration"),T_=Ea("animationstart"),RR=Ea("transitionrun"),DR=Ea("transitionstart"),MR=Ea("transitioncancel"),w_=Ea("transitionend"),b_=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function vs(s,o){b_.set(s,o),Os(o,[s])}var sh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yi=[],ul=0,mp=0;function rh(){for(var s=ul,o=mp=ul=0;o<s;){var l=Yi[o];Yi[o++]=null;var d=Yi[o];Yi[o++]=null;var _=Yi[o];Yi[o++]=null;var x=Yi[o];if(Yi[o++]=null,d!==null&&_!==null){var S=d.pending;S===null?_.next=_:(_.next=S.next,S.next=_),d.pending=_}x!==0&&S_(l,_,x)}}function oh(s,o,l,d){Yi[ul++]=s,Yi[ul++]=o,Yi[ul++]=l,Yi[ul++]=d,mp|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function pp(s,o,l,d){return oh(s,o,l,d),ah(s)}function Ta(s,o){return oh(s,null,null,o),ah(s)}function S_(s,o,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var _=!1,x=s.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(_=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,_&&o!==null&&(_=31-$t(l),s=x.hiddenUpdates,d=s[_],d===null?s[_]=[o]:d.push(o),o.lane=l|536870912),x):null}function ah(s){if(50<bu)throw bu=0,bg=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var dl={};function kR(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(s,o,l,d){return new kR(s,o,l,d)}function gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ur(s,o){var l=s.alternate;return l===null?(l=Di(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function A_(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function lh(s,o,l,d,_,x){var S=0;if(d=s,typeof s=="function")gp(s)&&(S=1);else if(typeof s=="string")S=O2(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Di(31,l,o,_),s.elementType=N,s.lanes=x,s;case L:return wa(l.children,_,x,o);case M:S=8,_|=24;break;case j:return s=Di(12,l,o,_|2),s.elementType=j,s.lanes=x,s;case oe:return s=Di(13,l,o,_),s.elementType=oe,s.lanes=x,s;case q:return s=Di(19,l,o,_),s.elementType=q,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:S=10;break e;case H:S=9;break e;case ne:S=11;break e;case R:S=14;break e;case C:S=16,d=null;break e}S=29,l=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=Di(S,l,o,_),o.elementType=s,o.type=d,o.lanes=x,o}function wa(s,o,l,d){return s=Di(7,s,d,o),s.lanes=l,s}function yp(s,o,l){return s=Di(6,s,null,o),s.lanes=l,s}function N_(s){var o=Di(18,null,null,0);return o.stateNode=s,o}function vp(s,o,l){return o=Di(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var I_=new WeakMap;function Ji(s,o){if(typeof s=="object"&&s!==null){var l=I_.get(s);return l!==void 0?l:(o={value:s,source:o,stack:or(o)},I_.set(s,o),o)}return{value:s,source:o,stack:or(o)}}var hl=[],fl=0,ch=null,iu=0,Wi=[],Qi=0,ao=null,Ks=1,Ys="";function dr(s,o){hl[fl++]=iu,hl[fl++]=ch,ch=s,iu=o}function C_(s,o,l){Wi[Qi++]=Ks,Wi[Qi++]=Ys,Wi[Qi++]=ao,ao=s;var d=Ks;s=Ys;var _=32-$t(d)-1;d&=~(1<<_),l+=1;var x=32-$t(o)+_;if(30<x){var S=_-_%5;x=(d&(1<<S)-1).toString(32),d>>=S,_-=S,Ks=1<<32-$t(o)+_|l<<_|d,Ys=x+s}else Ks=1<<x|l<<_|d,Ys=s}function _p(s){s.return!==null&&(dr(s,1),C_(s,1,0))}function xp(s){for(;s===ch;)ch=hl[--fl],hl[fl]=null,iu=hl[--fl],hl[fl]=null;for(;s===ao;)ao=Wi[--Qi],Wi[Qi]=null,Ys=Wi[--Qi],Wi[Qi]=null,Ks=Wi[--Qi],Wi[Qi]=null}function R_(s,o){Wi[Qi++]=Ks,Wi[Qi++]=Ys,Wi[Qi++]=ao,Ks=o.id,Ys=o.overflow,ao=s}var On=null,qt=null,ht=!1,lo=null,Xi=!1,Ep=Error(i(519));function co(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Ji(o,s)),Ep}function D_(s){var o=s.stateNode,l=s.type,d=s.memoizedProps;switch(o[kt]=s,o[rn]=d,l){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(l=0;l<Au.length;l++)rt(Au[l],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),Hd(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),eo(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||YE(o.textContent,l)?(d.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),d.onScroll!=null&&rt("scroll",o),d.onScrollEnd!=null&&rt("scrollend",o),d.onClick!=null&&(o.onclick=fs),o=!0):o=!1,o||co(s,!0)}function M_(s){for(On=s.return;On;)switch(On.tag){case 5:case 31:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:On=On.return}}function ml(s){if(s!==On)return!1;if(!ht)return M_(s),ht=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||jg(s.type,s.memoizedProps)),l=!l),l&&qt&&co(s),M_(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));qt=iT(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));qt=iT(s)}else o===27?(o=qt,bo(s.type)?(s=Gg,Gg=null,qt=s):qt=o):qt=On?es(s.stateNode.nextSibling):null;return!0}function ba(){qt=On=null,ht=!1}function Tp(){var s=lo;return s!==null&&(_i===null?_i=s:_i.push.apply(_i,s),lo=null),s}function su(s){lo===null?lo=[s]:lo.push(s)}var wp=G(null),Sa=null,hr=null;function uo(s,o,l){me(wp,o._currentValue),o._currentValue=l}function fr(s){s._currentValue=wp.current,$(wp)}function bp(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function Sp(s,o,l,d){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var x=_.dependencies;if(x!==null){var S=_.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=_;for(var B=0;B<o.length;B++)if(k.context===o[B]){x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),bp(x.return,l,s),d||(S=null);break e}x=k.next}}else if(_.tag===18){if(S=_.return,S===null)throw Error(i(341));S.lanes|=l,x=S.alternate,x!==null&&(x.lanes|=l),bp(S,l,s),S=null}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===s){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}}function pl(s,o,l,d){s=null;for(var _=o,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var S=_.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var k=_.type;Ri(_.pendingProps.value,S.value)||(s!==null?s.push(k):s=[k])}}else if(_===tt.current){if(S=_.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Du):s=[Du])}_=_.return}s!==null&&Sp(o,s,l,d),o.flags|=262144}function uh(s){for(s=s.firstContext;s!==null;){if(!Ri(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){Sa=s,hr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function jn(s){return k_(Sa,s)}function dh(s,o){return Sa===null&&Aa(s),k_(s,o)}function k_(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},hr===null){if(s===null)throw Error(i(308));hr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else hr=hr.next=o;return l}var PR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},LR=n.unstable_scheduleCallback,UR=n.unstable_NormalPriority,yn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new PR,data:new Map,refCount:0}}function ru(s){s.refCount--,s.refCount===0&&LR(UR,function(){s.controller.abort()})}var ou=null,Np=0,gl=0,yl=null;function VR(s,o){if(ou===null){var l=ou=[];Np=0,gl=Rg(),yl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Np++,o.then(P_,P_),o}function P_(){if(--Np===0&&ou!==null){yl!==null&&(yl.status="fulfilled");var s=ou;ou=null,gl=0,yl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function OR(s,o){var l=[],d={status:"pending",value:null,reason:null,then:function(_){l.push(_)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var _=0;_<l.length;_++)(0,l[_])(o)},function(_){for(d.status="rejected",d.reason=_,_=0;_<l.length;_++)(0,l[_])(void 0)}),d}var L_=W.S;W.S=function(s,o){vE=Me(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&VR(s,o),L_!==null&&L_(s,o)};var Na=G(null);function Ip(){var s=Na.current;return s!==null?s:Pt.pooledCache}function hh(s,o){o===null?me(Na,Na.current):me(Na,o.pool)}function U_(){var s=Ip();return s===null?null:{parent:yn._currentValue,pool:s}}var vl=Error(i(460)),Cp=Error(i(474)),fh=Error(i(542)),mh={then:function(){}};function V_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function O_(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(fs,fs),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,F_(s),s;default:if(typeof o.status=="string")o.then(fs,fs);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=d}},function(d){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,F_(s),s}throw Ca=o,vl}}function Ia(s){try{var o=s._init;return o(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ca=l,vl):l}}var Ca=null;function j_(){if(Ca===null)throw Error(i(459));var s=Ca;return Ca=null,s}function F_(s){if(s===vl||s===fh)throw Error(i(483))}var _l=null,au=0;function ph(s){var o=au;return au+=1,_l===null&&(_l=[]),O_(_l,s,o)}function lu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function gh(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function q_(s){function o(J,K){if(s){var X=J.deletions;X===null?(J.deletions=[K],J.flags|=16):X.push(K)}}function l(J,K){if(!s)return null;for(;K!==null;)o(J,K),K=K.sibling;return null}function d(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function _(J,K){return J=ur(J,K),J.index=0,J.sibling=null,J}function x(J,K,X){return J.index=X,s?(X=J.alternate,X!==null?(X=X.index,X<K?(J.flags|=67108866,K):X):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function S(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function k(J,K,X,ue){return K===null||K.tag!==6?(K=yp(X,J.mode,ue),K.return=J,K):(K=_(K,X),K.return=J,K)}function B(J,K,X,ue){var ke=X.type;return ke===L?ae(J,K,X.props.children,ue,X.key):K!==null&&(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===C&&Ia(ke)===K.type)?(K=_(K,X.props),lu(K,X),K.return=J,K):(K=lh(X.type,X.key,X.props,null,J.mode,ue),lu(K,X),K.return=J,K)}function Z(J,K,X,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==X.containerInfo||K.stateNode.implementation!==X.implementation?(K=vp(X,J.mode,ue),K.return=J,K):(K=_(K,X.children||[]),K.return=J,K)}function ae(J,K,X,ue,ke){return K===null||K.tag!==7?(K=wa(X,J.mode,ue,ke),K.return=J,K):(K=_(K,X),K.return=J,K)}function de(J,K,X){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=yp(""+K,J.mode,X),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return X=lh(K.type,K.key,K.props,null,J.mode,X),lu(X,K),X.return=J,X;case I:return K=vp(K,J.mode,X),K.return=J,K;case C:return K=Ia(K),de(J,K,X)}if(Ce(K)||F(K))return K=wa(K,J.mode,X,null),K.return=J,K;if(typeof K.then=="function")return de(J,ph(K),X);if(K.$$typeof===z)return de(J,dh(J,K),X);gh(J,K)}return null}function te(J,K,X,ue){var ke=K!==null?K.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:k(J,K,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===ke?B(J,K,X,ue):null;case I:return X.key===ke?Z(J,K,X,ue):null;case C:return X=Ia(X),te(J,K,X,ue)}if(Ce(X)||F(X))return ke!==null?null:ae(J,K,X,ue,null);if(typeof X.then=="function")return te(J,K,ph(X),ue);if(X.$$typeof===z)return te(J,K,dh(J,X),ue);gh(J,X)}return null}function se(J,K,X,ue,ke){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return J=J.get(X)||null,k(K,J,""+ue,ke);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return J=J.get(ue.key===null?X:ue.key)||null,B(K,J,ue,ke);case I:return J=J.get(ue.key===null?X:ue.key)||null,Z(K,J,ue,ke);case C:return ue=Ia(ue),se(J,K,X,ue,ke)}if(Ce(ue)||F(ue))return J=J.get(X)||null,ae(K,J,ue,ke,null);if(typeof ue.then=="function")return se(J,K,X,ph(ue),ke);if(ue.$$typeof===z)return se(J,K,X,dh(K,ue),ke);gh(K,ue)}return null}function Ae(J,K,X,ue){for(var ke=null,yt=null,Ie=K,it=K=0,lt=null;Ie!==null&&it<X.length;it++){Ie.index>it?(lt=Ie,Ie=null):lt=Ie.sibling;var vt=te(J,Ie,X[it],ue);if(vt===null){Ie===null&&(Ie=lt);break}s&&Ie&&vt.alternate===null&&o(J,Ie),K=x(vt,K,it),yt===null?ke=vt:yt.sibling=vt,yt=vt,Ie=lt}if(it===X.length)return l(J,Ie),ht&&dr(J,it),ke;if(Ie===null){for(;it<X.length;it++)Ie=de(J,X[it],ue),Ie!==null&&(K=x(Ie,K,it),yt===null?ke=Ie:yt.sibling=Ie,yt=Ie);return ht&&dr(J,it),ke}for(Ie=d(Ie);it<X.length;it++)lt=se(Ie,J,it,X[it],ue),lt!==null&&(s&&lt.alternate!==null&&Ie.delete(lt.key===null?it:lt.key),K=x(lt,K,it),yt===null?ke=lt:yt.sibling=lt,yt=lt);return s&&Ie.forEach(function(Co){return o(J,Co)}),ht&&dr(J,it),ke}function qe(J,K,X,ue){if(X==null)throw Error(i(151));for(var ke=null,yt=null,Ie=K,it=K=0,lt=null,vt=X.next();Ie!==null&&!vt.done;it++,vt=X.next()){Ie.index>it?(lt=Ie,Ie=null):lt=Ie.sibling;var Co=te(J,Ie,vt.value,ue);if(Co===null){Ie===null&&(Ie=lt);break}s&&Ie&&Co.alternate===null&&o(J,Ie),K=x(Co,K,it),yt===null?ke=Co:yt.sibling=Co,yt=Co,Ie=lt}if(vt.done)return l(J,Ie),ht&&dr(J,it),ke;if(Ie===null){for(;!vt.done;it++,vt=X.next())vt=de(J,vt.value,ue),vt!==null&&(K=x(vt,K,it),yt===null?ke=vt:yt.sibling=vt,yt=vt);return ht&&dr(J,it),ke}for(Ie=d(Ie);!vt.done;it++,vt=X.next())vt=se(Ie,J,it,vt.value,ue),vt!==null&&(s&&vt.alternate!==null&&Ie.delete(vt.key===null?it:vt.key),K=x(vt,K,it),yt===null?ke=vt:yt.sibling=vt,yt=vt);return s&&Ie.forEach(function(J2){return o(J,J2)}),ht&&dr(J,it),ke}function Dt(J,K,X,ue){if(typeof X=="object"&&X!==null&&X.type===L&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var ke=X.key;K!==null;){if(K.key===ke){if(ke=X.type,ke===L){if(K.tag===7){l(J,K.sibling),ue=_(K,X.props.children),ue.return=J,J=ue;break e}}else if(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===C&&Ia(ke)===K.type){l(J,K.sibling),ue=_(K,X.props),lu(ue,X),ue.return=J,J=ue;break e}l(J,K);break}else o(J,K);K=K.sibling}X.type===L?(ue=wa(X.props.children,J.mode,ue,X.key),ue.return=J,J=ue):(ue=lh(X.type,X.key,X.props,null,J.mode,ue),lu(ue,X),ue.return=J,J=ue)}return S(J);case I:e:{for(ke=X.key;K!==null;){if(K.key===ke)if(K.tag===4&&K.stateNode.containerInfo===X.containerInfo&&K.stateNode.implementation===X.implementation){l(J,K.sibling),ue=_(K,X.children||[]),ue.return=J,J=ue;break e}else{l(J,K);break}else o(J,K);K=K.sibling}ue=vp(X,J.mode,ue),ue.return=J,J=ue}return S(J);case C:return X=Ia(X),Dt(J,K,X,ue)}if(Ce(X))return Ae(J,K,X,ue);if(F(X)){if(ke=F(X),typeof ke!="function")throw Error(i(150));return X=ke.call(X),qe(J,K,X,ue)}if(typeof X.then=="function")return Dt(J,K,ph(X),ue);if(X.$$typeof===z)return Dt(J,K,dh(J,X),ue);gh(J,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,K!==null&&K.tag===6?(l(J,K.sibling),ue=_(K,X),ue.return=J,J=ue):(l(J,K),ue=yp(X,J.mode,ue),ue.return=J,J=ue),S(J)):l(J,K)}return function(J,K,X,ue){try{au=0;var ke=Dt(J,K,X,ue);return _l=null,ke}catch(Ie){if(Ie===vl||Ie===fh)throw Ie;var yt=Di(29,Ie,null,J.mode);return yt.lanes=ue,yt.return=J,yt}finally{}}}var Ra=q_(!0),H_=q_(!1),ho=!1;function Rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function mo(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Et&2)!==0){var _=d.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),d.pending=o,o=ah(s),S_(s,null,l),o}return oh(s,d,o,l),ah(s)}function cu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,nt(s,l)}}function Mp(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var _=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?_=x=S:x=x.next=S,l=l.next}while(l!==null);x===null?_=x=o:x=x.next=o}else _=x=o;l={baseState:d.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var kp=!1;function uu(){if(kp){var s=yl;if(s!==null)throw s}}function du(s,o,l,d){kp=!1;var _=s.updateQueue;ho=!1;var x=_.firstBaseUpdate,S=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var B=k,Z=B.next;B.next=null,S===null?x=Z:S.next=Z,S=B;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==S&&(k===null?ae.firstBaseUpdate=Z:k.next=Z,ae.lastBaseUpdate=B))}if(x!==null){var de=_.baseState;S=0,ae=Z=B=null,k=x;do{var te=k.lane&-536870913,se=te!==k.lane;if(se?(at&te)===te:(d&te)===te){te!==0&&te===gl&&(kp=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ae=s,qe=k;te=o;var Dt=l;switch(qe.tag){case 1:if(Ae=qe.payload,typeof Ae=="function"){de=Ae.call(Dt,de,te);break e}de=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=qe.payload,te=typeof Ae=="function"?Ae.call(Dt,de,te):Ae,te==null)break e;de=E({},de,te);break e;case 2:ho=!0}}te=k.callback,te!==null&&(s.flags|=64,se&&(s.flags|=8192),se=_.callbacks,se===null?_.callbacks=[te]:se.push(te))}else se={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(Z=ae=se,B=de):ae=ae.next=se,S|=te;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;se=k,k=se.next,se.next=null,_.lastBaseUpdate=se,_.shared.pending=null}}while(!0);ae===null&&(B=de),_.baseState=B,_.firstBaseUpdate=Z,_.lastBaseUpdate=ae,x===null&&(_.shared.lanes=0),_o|=S,s.lanes=S,s.memoizedState=de}}function B_(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function G_(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)B_(l[s],o)}var xl=G(null),yh=G(0);function z_(s,o){s=Tr,me(yh,s),me(xl,o),Tr=s|o.baseLanes}function Pp(){me(yh,Tr),me(xl,xl.current)}function Lp(){Tr=yh.current,$(xl),$(yh)}var Mi=G(null),Zi=null;function po(s){var o=s.alternate;me(hn,hn.current&1),me(Mi,s),Zi===null&&(o===null||xl.current!==null||o.memoizedState!==null)&&(Zi=s)}function Up(s){me(hn,hn.current),me(Mi,s),Zi===null&&(Zi=s)}function $_(s){s.tag===22?(me(hn,hn.current),me(Mi,s),Zi===null&&(Zi=s)):go()}function go(){me(hn,hn.current),me(Mi,Mi.current)}function ki(s){$(Mi),Zi===s&&(Zi=null),$(hn)}var hn=G(0);function vh(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Hg(l)||Bg(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var mr=0,et=null,Ct=null,vn=null,_h=!1,El=!1,Da=!1,xh=0,hu=0,Tl=null,jR=0;function on(){throw Error(i(321))}function Vp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Ri(s[l],o[l]))return!1;return!0}function Op(s,o,l,d,_,x){return mr=x,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?Cx:Zp,Da=!1,x=l(d,_),Da=!1,El&&(x=Y_(o,l,d,_)),K_(s),x}function K_(s){W.H=pu;var o=Ct!==null&&Ct.next!==null;if(mr=0,vn=Ct=et=null,_h=!1,hu=0,Tl=null,o)throw Error(i(300));s===null||_n||(s=s.dependencies,s!==null&&uh(s)&&(_n=!0))}function Y_(s,o,l,d){et=s;var _=0;do{if(El&&(Tl=null),hu=0,El=!1,25<=_)throw Error(i(301));if(_+=1,vn=Ct=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=Rx,x=o(l,d)}while(El);return x}function FR(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?fu(o):o,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(et.flags|=1024),o}function jp(){var s=xh!==0;return xh=0,s}function Fp(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function qp(s){if(_h){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}_h=!1}mr=0,vn=Ct=et=null,El=!1,hu=xh=0,Tl=null}function ri(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?et.memoizedState=vn=s:vn=vn.next=s,vn}function fn(){if(Ct===null){var s=et.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var o=vn===null?et.memoizedState:vn.next;if(o!==null)vn=o,Ct=s;else{if(s===null)throw et.alternate===null?Error(i(467)):Error(i(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},vn===null?et.memoizedState=vn=s:vn=vn.next=s}return vn}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(s){var o=hu;return hu+=1,Tl===null&&(Tl=[]),s=O_(Tl,s,o),o=et,(vn===null?o.memoizedState:vn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Cx:Zp),s}function Th(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fu(s);if(s.$$typeof===z)return jn(s)}throw Error(i(438,String(s)))}function Hp(s){var o=null,l=et.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=et.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Eh(),et.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),d=0;d<s;d++)l[d]=P;return o.index++,l}function pr(s,o){return typeof o=="function"?o(s):o}function wh(s){var o=fn();return Bp(o,Ct,s)}function Bp(s,o,l){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var _=s.baseQueue,x=d.pending;if(x!==null){if(_!==null){var S=_.next;_.next=x.next,x.next=S}o.baseQueue=_=x,d.pending=null}if(x=s.baseState,_===null)s.memoizedState=x;else{o=_.next;var k=S=null,B=null,Z=o,ae=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(at&de)===de:(mr&de)===de){var te=Z.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===gl&&(ae=!0);else if((mr&te)===te){Z=Z.next,te===gl&&(ae=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(k=B=de,S=x):B=B.next=de,et.lanes|=te,_o|=te;de=Z.action,Da&&l(x,de),x=Z.hasEagerState?Z.eagerState:l(x,de)}else te={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(k=B=te,S=x):B=B.next=te,et.lanes|=de,_o|=de;Z=Z.next}while(Z!==null&&Z!==o);if(B===null?S=x:B.next=k,!Ri(x,s.memoizedState)&&(_n=!0,ae&&(l=yl,l!==null)))throw l;s.memoizedState=x,s.baseState=S,s.baseQueue=B,d.lastRenderedState=x}return _===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Gp(s){var o=fn(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=l.dispatch,_=l.pending,x=o.memoizedState;if(_!==null){l.pending=null;var S=_=_.next;do x=s(x,S.action),S=S.next;while(S!==_);Ri(x,o.memoizedState)||(_n=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),l.lastRenderedState=x}return[x,d]}function J_(s,o,l){var d=et,_=fn(),x=ht;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=o();var S=!Ri((Ct||_).memoizedState,l);if(S&&(_.memoizedState=l,_n=!0),_=_.queue,Kp(X_.bind(null,d,_,s),[s]),_.getSnapshot!==o||S||vn!==null&&vn.memoizedState.tag&1){if(d.flags|=2048,wl(9,{destroy:void 0},Q_.bind(null,d,_,l,o),null),Pt===null)throw Error(i(349));x||(mr&127)!==0||W_(d,o,l)}return l}function W_(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=et.updateQueue,o===null?(o=Eh(),et.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Q_(s,o,l,d){o.value=l,o.getSnapshot=d,Z_(o)&&ex(s)}function X_(s,o,l){return l(function(){Z_(o)&&ex(s)})}function Z_(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Ri(s,l)}catch{return!0}}function ex(s){var o=Ta(s,2);o!==null&&xi(o,s,2)}function zp(s){var o=ri();if(typeof s=="function"){var l=s;if(s=l(),Da){Ln(!0);try{l()}finally{Ln(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:s},o}function tx(s,o,l,d){return s.baseState=l,Bp(s,Ct,typeof d=="function"?d:pr)}function qR(s,o,l,d,_){if(Ah(s))throw Error(i(485));if(s=o.action,s!==null){var x={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};W.T!==null?l(!0):x.isTransition=!1,d(x),l=o.pending,l===null?(x.next=o.pending=x,nx(o,x)):(x.next=l.next,o.pending=l.next=x)}}function nx(s,o){var l=o.action,d=o.payload,_=s.state;if(o.isTransition){var x=W.T,S={};W.T=S;try{var k=l(_,d),B=W.S;B!==null&&B(S,k),ix(s,o,k)}catch(Z){$p(s,o,Z)}finally{x!==null&&S.types!==null&&(x.types=S.types),W.T=x}}else try{x=l(_,d),ix(s,o,x)}catch(Z){$p(s,o,Z)}}function ix(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){sx(s,o,d)},function(d){return $p(s,o,d)}):sx(s,o,l)}function sx(s,o,l){o.status="fulfilled",o.value=l,rx(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,nx(s,l)))}function $p(s,o,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,rx(o),o=o.next;while(o!==d)}s.action=null}function rx(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function ox(s,o){return o}function ax(s,o){if(ht){var l=Pt.formState;if(l!==null){e:{var d=et;if(ht){if(qt){t:{for(var _=qt,x=Xi;_.nodeType!==8;){if(!x){_=null;break t}if(_=es(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){qt=es(_.nextSibling),d=_.data==="F!";break e}}co(d)}d=!1}d&&(o=l[0])}}return l=ri(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ox,lastRenderedState:o},l.queue=d,l=Ax.bind(null,et,d),d.dispatch=l,d=zp(!1),x=Xp.bind(null,et,!1,d.queue),d=ri(),_={state:o,dispatch:null,action:s,pending:null},d.queue=_,l=qR.bind(null,et,_,x,l),_.dispatch=l,d.memoizedState=s,[o,l,!1]}function lx(s){var o=fn();return cx(o,Ct,s)}function cx(s,o,l){if(o=Bp(s,o,ox)[0],s=wh(pr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=fu(o)}catch(S){throw S===vl?fh:S}else d=o;o=fn();var _=o.queue,x=_.dispatch;return l!==o.memoizedState&&(et.flags|=2048,wl(9,{destroy:void 0},HR.bind(null,_,l),null)),[d,x,s]}function HR(s,o){s.action=o}function ux(s){var o=fn(),l=Ct;if(l!==null)return cx(o,l,s);fn(),o=o.memoizedState,l=fn();var d=l.queue.dispatch;return l.memoizedState=s,[o,d,!1]}function wl(s,o,l,d){return s={tag:s,create:l,deps:d,inst:o,next:null},o=et.updateQueue,o===null&&(o=Eh(),et.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s),s}function dx(){return fn().memoizedState}function bh(s,o,l,d){var _=ri();et.flags|=s,_.memoizedState=wl(1|o,{destroy:void 0},l,d===void 0?null:d)}function Sh(s,o,l,d){var _=fn();d=d===void 0?null:d;var x=_.memoizedState.inst;Ct!==null&&d!==null&&Vp(d,Ct.memoizedState.deps)?_.memoizedState=wl(o,x,l,d):(et.flags|=s,_.memoizedState=wl(1|o,x,l,d))}function hx(s,o){bh(8390656,8,s,o)}function Kp(s,o){Sh(2048,8,s,o)}function BR(s){et.flags|=4;var o=et.updateQueue;if(o===null)o=Eh(),et.updateQueue=o,o.events=[s];else{var l=o.events;l===null?o.events=[s]:l.push(s)}}function fx(s){var o=fn().memoizedState;return BR({ref:o,nextImpl:s}),function(){if((Et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function mx(s,o){return Sh(4,2,s,o)}function px(s,o){return Sh(4,4,s,o)}function gx(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function yx(s,o,l){l=l!=null?l.concat([s]):null,Sh(4,4,gx.bind(null,o,s),l)}function Yp(){}function vx(s,o){var l=fn();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&Vp(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function _x(s,o){var l=fn();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&Vp(o,d[1]))return d[0];if(d=s(),Da){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[d,o],d}function Jp(s,o,l){return l===void 0||(mr&1073741824)!==0&&(at&261930)===0?s.memoizedState=o:(s.memoizedState=l,s=xE(),et.lanes|=s,_o|=s,l)}function xx(s,o,l,d){return Ri(l,o)?l:xl.current!==null?(s=Jp(s,l,d),Ri(s,o)||(_n=!0),s):(mr&42)===0||(mr&1073741824)!==0&&(at&261930)===0?(_n=!0,s.memoizedState=l):(s=xE(),et.lanes|=s,_o|=s,o)}function Ex(s,o,l,d,_){var x=ce.p;ce.p=x!==0&&8>x?x:8;var S=W.T,k={};W.T=k,Xp(s,!1,o,l);try{var B=_(),Z=W.S;if(Z!==null&&Z(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ae=OR(B,d);mu(s,o,ae,Ui(s))}else mu(s,o,d,Ui(s))}catch(de){mu(s,o,{then:function(){},status:"rejected",reason:de},Ui())}finally{ce.p=x,S!==null&&k.types!==null&&(S.types=k.types),W.T=S}}function GR(){}function Wp(s,o,l,d){if(s.tag!==5)throw Error(i(476));var _=Tx(s).queue;Ex(s,_,o,Ee,l===null?GR:function(){return wx(s),l(d)})}function Tx(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:Ee},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function wx(s){var o=Tx(s);o.next===null&&(o=s.alternate.memoizedState),mu(s,o.next.queue,{},Ui())}function Qp(){return jn(Du)}function bx(){return fn().memoizedState}function Sx(){return fn().memoizedState}function zR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Ui();s=fo(l);var d=mo(o,s,l);d!==null&&(xi(d,o,l),cu(d,o,l)),o={cache:Ap()},s.payload=o;return}o=o.return}}function $R(s,o,l){var d=Ui();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ah(s)?Nx(o,l):(l=pp(s,o,l,d),l!==null&&(xi(l,s,d),Ix(l,o,d)))}function Ax(s,o,l){var d=Ui();mu(s,o,l,d)}function mu(s,o,l,d){var _={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ah(s))Nx(o,_);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var S=o.lastRenderedState,k=x(S,l);if(_.hasEagerState=!0,_.eagerState=k,Ri(k,S))return oh(s,o,_,0),Pt===null&&rh(),!1}catch{}finally{}if(l=pp(s,o,_,d),l!==null)return xi(l,s,d),Ix(l,o,d),!0}return!1}function Xp(s,o,l,d){if(d={lane:2,revertLane:Rg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ah(s)){if(o)throw Error(i(479))}else o=pp(s,l,d,2),o!==null&&xi(o,s,2)}function Ah(s){var o=s.alternate;return s===et||o!==null&&o===et}function Nx(s,o){El=_h=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Ix(s,o,l){if((l&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,nt(s,l)}}var pu={readContext:jn,use:Th,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};pu.useEffectEvent=on;var Cx={readContext:jn,use:Th,useCallback:function(s,o){return ri().memoizedState=[s,o===void 0?null:o],s},useContext:jn,useEffect:hx,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,bh(4194308,4,gx.bind(null,o,s),l)},useLayoutEffect:function(s,o){return bh(4194308,4,s,o)},useInsertionEffect:function(s,o){bh(4,2,s,o)},useMemo:function(s,o){var l=ri();o=o===void 0?null:o;var d=s();if(Da){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[d,o],d},useReducer:function(s,o,l){var d=ri();if(l!==void 0){var _=l(o);if(Da){Ln(!0);try{l(o)}finally{Ln(!1)}}}else _=o;return d.memoizedState=d.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},d.queue=s,s=s.dispatch=$R.bind(null,et,s),[d.memoizedState,s]},useRef:function(s){var o=ri();return s={current:s},o.memoizedState=s},useState:function(s){s=zp(s);var o=s.queue,l=Ax.bind(null,et,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Yp,useDeferredValue:function(s,o){var l=ri();return Jp(l,s,o)},useTransition:function(){var s=zp(!1);return s=Ex.bind(null,et,s.queue,!0,!1),ri().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var d=et,_=ri();if(ht){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),Pt===null)throw Error(i(349));(at&127)!==0||W_(d,o,l)}_.memoizedState=l;var x={value:l,getSnapshot:o};return _.queue=x,hx(X_.bind(null,d,x,s),[s]),d.flags|=2048,wl(9,{destroy:void 0},Q_.bind(null,d,x,l,o),null),l},useId:function(){var s=ri(),o=Pt.identifierPrefix;if(ht){var l=Ys,d=Ks;l=(d&~(1<<32-$t(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=xh++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=jR++,o="_"+o+"r_"+l.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Qp,useFormState:ax,useActionState:ax,useOptimistic:function(s){var o=ri();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Xp.bind(null,et,!0,l),l.dispatch=o,[s,o]},useMemoCache:Hp,useCacheRefresh:function(){return ri().memoizedState=zR.bind(null,et)},useEffectEvent:function(s){var o=ri(),l={impl:s};return o.memoizedState=l,function(){if((Et&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Zp={readContext:jn,use:Th,useCallback:vx,useContext:jn,useEffect:Kp,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:_x,useReducer:wh,useRef:dx,useState:function(){return wh(pr)},useDebugValue:Yp,useDeferredValue:function(s,o){var l=fn();return xx(l,Ct.memoizedState,s,o)},useTransition:function(){var s=wh(pr)[0],o=fn().memoizedState;return[typeof s=="boolean"?s:fu(s),o]},useSyncExternalStore:J_,useId:bx,useHostTransitionStatus:Qp,useFormState:lx,useActionState:lx,useOptimistic:function(s,o){var l=fn();return tx(l,Ct,s,o)},useMemoCache:Hp,useCacheRefresh:Sx};Zp.useEffectEvent=fx;var Rx={readContext:jn,use:Th,useCallback:vx,useContext:jn,useEffect:Kp,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:_x,useReducer:Gp,useRef:dx,useState:function(){return Gp(pr)},useDebugValue:Yp,useDeferredValue:function(s,o){var l=fn();return Ct===null?Jp(l,s,o):xx(l,Ct.memoizedState,s,o)},useTransition:function(){var s=Gp(pr)[0],o=fn().memoizedState;return[typeof s=="boolean"?s:fu(s),o]},useSyncExternalStore:J_,useId:bx,useHostTransitionStatus:Qp,useFormState:ux,useActionState:ux,useOptimistic:function(s,o){var l=fn();return Ct!==null?tx(l,Ct,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:Sx};Rx.useEffectEvent=fx;function eg(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:E({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tg={enqueueSetState:function(s,o,l){s=s._reactInternals;var d=Ui(),_=fo(d);_.payload=o,l!=null&&(_.callback=l),o=mo(s,_,d),o!==null&&(xi(o,s,d),cu(o,s,d))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=Ui(),_=fo(d);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=mo(s,_,d),o!==null&&(xi(o,s,d),cu(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Ui(),d=fo(l);d.tag=2,o!=null&&(d.callback=o),o=mo(s,d,l),o!==null&&(xi(o,s,l),cu(o,s,l))}};function Dx(s,o,l,d,_,x,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,S):o.prototype&&o.prototype.isPureReactComponent?!tu(l,d)||!tu(_,x):!0}function Mx(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&tg.enqueueReplaceState(o,o.state,null)}function Ma(s,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(s=s.defaultProps){l===o&&(l=E({},l));for(var _ in s)l[_]===void 0&&(l[_]=s[_])}return l}function kx(s){sh(s)}function Px(s){console.error(s)}function Lx(s){sh(s)}function Nh(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Ux(s,o,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ng(s,o,l){return l=fo(l),l.tag=3,l.payload={element:null},l.callback=function(){Nh(s,o)},l}function Vx(s){return s=fo(s),s.tag=3,s}function Ox(s,o,l,d){var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var x=d.value;s.payload=function(){return _(x)},s.callback=function(){Ux(o,l,d)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Ux(o,l,d),typeof _!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function KR(s,o,l,d,_){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&pl(o,l,_,!0),l=Mi.current,l!==null){switch(l.tag){case 31:case 13:return Zi===null?jh():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=_,d===mh?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),Ng(s,d,_)),!1;case 22:return l.flags|=65536,d===mh?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),Ng(s,d,_)),!1}throw Error(i(435,l.tag))}return Ng(s,d,_),jh(),!1}if(ht)return o=Mi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,d!==Ep&&(s=Error(i(422),{cause:d}),su(Ji(s,l)))):(d!==Ep&&(o=Error(i(423),{cause:d}),su(Ji(o,l))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,d=Ji(d,l),_=ng(s.stateNode,d,_),Mp(s,_),an!==4&&(an=2)),!1;var x=Error(i(520),{cause:d});if(x=Ji(x,l),wu===null?wu=[x]:wu.push(x),an!==4&&(an=2),o===null)return!0;d=Ji(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=_&-_,l.lanes|=s,s=ng(l.stateNode,d,s),Mp(l,s),!1;case 1:if(o=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xo===null||!xo.has(x))))return l.flags|=65536,_&=-_,l.lanes|=_,_=Vx(_),Ox(_,s,l,d),Mp(l,_),!1}l=l.return}while(l!==null);return!1}var ig=Error(i(461)),_n=!1;function Fn(s,o,l,d){o.child=s===null?H_(o,null,l,d):Ra(o,s.child,l,d)}function jx(s,o,l,d,_){l=l.render;var x=o.ref;if("ref"in d){var S={};for(var k in d)k!=="ref"&&(S[k]=d[k])}else S=d;return Aa(o),d=Op(s,o,l,S,x,_),k=jp(),s!==null&&!_n?(Fp(s,o,_),gr(s,o,_)):(ht&&k&&_p(o),o.flags|=1,Fn(s,o,d,_),o.child)}function Fx(s,o,l,d,_){if(s===null){var x=l.type;return typeof x=="function"&&!gp(x)&&x.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=x,qx(s,o,x,d,_)):(s=lh(l.type,null,d,o,o.mode,_),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!dg(s,_)){var S=x.memoizedProps;if(l=l.compare,l=l!==null?l:tu,l(S,d)&&s.ref===o.ref)return gr(s,o,_)}return o.flags|=1,s=ur(x,d),s.ref=o.ref,s.return=o,o.child=s}function qx(s,o,l,d,_){if(s!==null){var x=s.memoizedProps;if(tu(x,d)&&s.ref===o.ref)if(_n=!1,o.pendingProps=d=x,dg(s,_))(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,gr(s,o,_)}return sg(s,o,l,d,_)}function Hx(s,o,l,d){var _=d.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,s!==null){for(d=o.child=s.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;d=_&~x}else d=0,o.child=null;return Bx(s,o,x,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&hh(o,x!==null?x.cachePool:null),x!==null?z_(o,x):Pp(),$_(o);else return d=o.lanes=536870912,Bx(s,o,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(hh(o,x.cachePool),z_(o,x),go(),o.memoizedState=null):(s!==null&&hh(o,null),Pp(),go());return Fn(s,o,_,l),o.child}function gu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Bx(s,o,l,d,_){var x=Ip();return x=x===null?null:{parent:yn._currentValue,pool:x},o.memoizedState={baseLanes:l,cachePool:x},s!==null&&hh(o,null),Pp(),$_(o),s!==null&&pl(s,o,d,!0),o.childLanes=_,null}function Ih(s,o){return o=Rh({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Gx(s,o,l){return Ra(o,s.child,null,l),s=Ih(o,o.pendingProps),s.flags|=2,ki(o),o.memoizedState=null,s}function YR(s,o,l){var d=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(ht){if(d.mode==="hidden")return s=Ih(o,d),o.lanes=536870912,gu(null,s);if(Up(o),(s=qt)?(s=nT(s,Xi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ao!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=N_(s),l.return=o,o.child=l,On=o,qt=null)):s=null,s===null)throw co(o);return o.lanes=536870912,null}return Ih(o,d)}var x=s.memoizedState;if(x!==null){var S=x.dehydrated;if(Up(o),_)if(o.flags&256)o.flags&=-257,o=Gx(s,o,l);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(_n||pl(s,o,l,!1),_=(l&s.childLanes)!==0,_n||_){if(d=Pt,d!==null&&(S=Kt(d,l),S!==0&&S!==x.retryLane))throw x.retryLane=S,Ta(s,S),xi(d,s,S),ig;jh(),o=Gx(s,o,l)}else s=x.treeContext,qt=es(S.nextSibling),On=o,ht=!0,lo=null,Xi=!1,s!==null&&R_(o,s),o=Ih(o,d),o.flags|=4096;return o}return s=ur(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Ch(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function sg(s,o,l,d,_){return Aa(o),l=Op(s,o,l,d,void 0,_),d=jp(),s!==null&&!_n?(Fp(s,o,_),gr(s,o,_)):(ht&&d&&_p(o),o.flags|=1,Fn(s,o,l,_),o.child)}function zx(s,o,l,d,_,x){return Aa(o),o.updateQueue=null,l=Y_(o,d,l,_),K_(s),d=jp(),s!==null&&!_n?(Fp(s,o,x),gr(s,o,x)):(ht&&d&&_p(o),o.flags|=1,Fn(s,o,l,x),o.child)}function $x(s,o,l,d,_){if(Aa(o),o.stateNode===null){var x=dl,S=l.contextType;typeof S=="object"&&S!==null&&(x=jn(S)),x=new l(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=tg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Rp(o),S=l.contextType,x.context=typeof S=="object"&&S!==null?jn(S):dl,x.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(eg(o,l,S,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&tg.enqueueReplaceState(x,x.state,null),du(o,d,x,_),uu(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){x=o.stateNode;var k=o.memoizedProps,B=Ma(l,k);x.props=B;var Z=x.context,ae=l.contextType;S=dl,typeof ae=="object"&&ae!==null&&(S=jn(ae));var de=l.getDerivedStateFromProps;ae=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||Z!==S)&&Mx(o,x,d,S),ho=!1;var te=o.memoizedState;x.state=te,du(o,d,x,_),uu(),Z=o.memoizedState,k||te!==Z||ho?(typeof de=="function"&&(eg(o,l,de,d),Z=o.memoizedState),(B=ho||Dx(o,l,B,d,te,Z,S))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Z),x.props=d,x.state=Z,x.context=S,d=B):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Dp(s,o),S=o.memoizedProps,ae=Ma(l,S),x.props=ae,de=o.pendingProps,te=x.context,Z=l.contextType,B=dl,typeof Z=="object"&&Z!==null&&(B=jn(Z)),k=l.getDerivedStateFromProps,(Z=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==de||te!==B)&&Mx(o,x,d,B),ho=!1,te=o.memoizedState,x.state=te,du(o,d,x,_),uu();var se=o.memoizedState;S!==de||te!==se||ho||s!==null&&s.dependencies!==null&&uh(s.dependencies)?(typeof k=="function"&&(eg(o,l,k,d),se=o.memoizedState),(ae=ho||Dx(o,l,ae,d,te,se,B)||s!==null&&s.dependencies!==null&&uh(s.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,se,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,se,B)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=se),x.props=d,x.state=se,x.context=B,d=ae):(typeof x.componentDidUpdate!="function"||S===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),d=!1)}return x=d,Ch(s,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&d?(o.child=Ra(o,s.child,null,_),o.child=Ra(o,null,l,_)):Fn(s,o,l,_),o.memoizedState=x.state,s=o.child):s=gr(s,o,_),s}function Kx(s,o,l,d){return ba(),o.flags|=256,Fn(s,o,l,d),o.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(s){return{baseLanes:s,cachePool:U_()}}function ag(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=Li),s}function Yx(s,o,l){var d=o.pendingProps,_=!1,x=(o.flags&128)!==0,S;if((S=x)||(S=s!==null&&s.memoizedState===null?!1:(hn.current&2)!==0),S&&(_=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(ht){if(_?po(o):go(),(s=qt)?(s=nT(s,Xi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ao!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=N_(s),l.return=o,o.child=l,On=o,qt=null)):s=null,s===null)throw co(o);return Bg(s)?o.lanes=32:o.lanes=536870912,null}var k=d.children;return d=d.fallback,_?(go(),_=o.mode,k=Rh({mode:"hidden",children:k},_),d=wa(d,_,l,null),k.return=o,d.return=o,k.sibling=d,o.child=k,d=o.child,d.memoizedState=og(l),d.childLanes=ag(s,S,l),o.memoizedState=rg,gu(null,d)):(po(o),lg(o,k))}var B=s.memoizedState;if(B!==null&&(k=B.dehydrated,k!==null)){if(x)o.flags&256?(po(o),o.flags&=-257,o=cg(s,o,l)):o.memoizedState!==null?(go(),o.child=s.child,o.flags|=128,o=null):(go(),k=d.fallback,_=o.mode,d=Rh({mode:"visible",children:d.children},_),k=wa(k,_,l,null),k.flags|=2,d.return=o,k.return=o,d.sibling=k,o.child=d,Ra(o,s.child,null,l),d=o.child,d.memoizedState=og(l),d.childLanes=ag(s,S,l),o.memoizedState=rg,o=gu(null,d));else if(po(o),Bg(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var Z=S.dgst;S=Z,d=Error(i(419)),d.stack="",d.digest=S,su({value:d,source:null,stack:null}),o=cg(s,o,l)}else if(_n||pl(s,o,l,!1),S=(l&s.childLanes)!==0,_n||S){if(S=Pt,S!==null&&(d=Kt(S,l),d!==0&&d!==B.retryLane))throw B.retryLane=d,Ta(s,d),xi(S,s,d),ig;Hg(k)||jh(),o=cg(s,o,l)}else Hg(k)?(o.flags|=192,o.child=s.child,o=null):(s=B.treeContext,qt=es(k.nextSibling),On=o,ht=!0,lo=null,Xi=!1,s!==null&&R_(o,s),o=lg(o,d.children),o.flags|=4096);return o}return _?(go(),k=d.fallback,_=o.mode,B=s.child,Z=B.sibling,d=ur(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,Z!==null?k=ur(Z,k):(k=wa(k,_,l,null),k.flags|=2),k.return=o,d.return=o,d.sibling=k,o.child=d,gu(null,d),d=o.child,k=s.child.memoizedState,k===null?k=og(l):(_=k.cachePool,_!==null?(B=yn._currentValue,_=_.parent!==B?{parent:B,pool:B}:_):_=U_(),k={baseLanes:k.baseLanes|l,cachePool:_}),d.memoizedState=k,d.childLanes=ag(s,S,l),o.memoizedState=rg,gu(s.child,d)):(po(o),l=s.child,s=l.sibling,l=ur(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=l,o.memoizedState=null,l)}function lg(s,o){return o=Rh({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Rh(s,o){return s=Di(22,s,null,o),s.lanes=0,s}function cg(s,o,l){return Ra(o,s.child,null,l),s=lg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Jx(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),bp(s.return,o,l)}function ug(s,o,l,d,_,x){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:_,treeForkCount:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=l,S.tailMode=_,S.treeForkCount=x)}function Wx(s,o,l){var d=o.pendingProps,_=d.revealOrder,x=d.tail;d=d.children;var S=hn.current,k=(S&2)!==0;if(k?(S=S&1|2,o.flags|=128):S&=1,me(hn,S),Fn(s,o,d,l),d=ht?iu:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jx(s,l,o);else if(s.tag===19)Jx(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(l=o.child,_=null;l!==null;)s=l.alternate,s!==null&&vh(s)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),ug(o,!1,_,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(s=_.alternate,s!==null&&vh(s)===null){o.child=_;break}s=_.sibling,_.sibling=l,l=_,_=s}ug(o,!0,l,null,x,d);break;case"together":ug(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function gr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),_o|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(pl(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=ur(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ur(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function dg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&uh(s)))}function JR(s,o,l){switch(o.tag){case 3:Qt(o,o.stateNode.containerInfo),uo(o,yn,s.memoizedState.cache),ba();break;case 27:case 5:ds(o);break;case 4:Qt(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Up(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(po(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Yx(s,o,l):(po(o),s=gr(s,o,l),s!==null?s.sibling:null);po(o);break;case 19:var _=(s.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(pl(s,o,l,!1),d=(l&o.childLanes)!==0),_){if(d)return Wx(s,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),me(hn,hn.current),d)break;return null;case 22:return o.lanes=0,Hx(s,o,l,o.pendingProps);case 24:uo(o,yn,s.memoizedState.cache)}return gr(s,o,l)}function Qx(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)_n=!0;else{if(!dg(s,l)&&(o.flags&128)===0)return _n=!1,JR(s,o,l);_n=(s.flags&131072)!==0}else _n=!1,ht&&(o.flags&1048576)!==0&&C_(o,iu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(s=Ia(o.elementType),o.type=s,typeof s=="function")gp(s)?(d=Ma(s,d),o.tag=1,o=$x(null,o,s,d,l)):(o.tag=0,o=sg(null,o,s,d,l));else{if(s!=null){var _=s.$$typeof;if(_===ne){o.tag=11,o=jx(null,o,s,d,l);break e}else if(_===R){o.tag=14,o=Fx(null,o,s,d,l);break e}}throw o=xe(s)||s,Error(i(306,o,""))}}return o;case 0:return sg(s,o,o.type,o.pendingProps,l);case 1:return d=o.type,_=Ma(d,o.pendingProps),$x(s,o,d,_,l);case 3:e:{if(Qt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;_=x.element,Dp(s,o),du(o,d,null,l);var S=o.memoizedState;if(d=S.cache,uo(o,yn,d),d!==x.cache&&Sp(o,[yn],l,!0),uu(),d=S.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Kx(s,o,d,l);break e}else if(d!==_){_=Ji(Error(i(424)),o),su(_),o=Kx(s,o,d,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(qt=es(s.firstChild),On=o,ht=!0,lo=null,Xi=!0,l=H_(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ba(),d===_){o=gr(s,o,l);break e}Fn(s,o,d,l)}o=o.child}return o;case 26:return Ch(s,o),s===null?(l=lT(o.type,null,o.pendingProps,null))?o.memoizedState=l:ht||(l=o.type,s=o.pendingProps,d=$h(Fe.current).createElement(l),d[kt]=o,d[rn]=s,qn(d,l,s),Ft(d),o.stateNode=d):o.memoizedState=lT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ds(o),s===null&&ht&&(d=o.stateNode=rT(o.type,o.pendingProps,Fe.current),On=o,Xi=!0,_=qt,bo(o.type)?(Gg=_,qt=es(d.firstChild)):qt=_),Fn(s,o,o.pendingProps.children,l),Ch(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ht&&((_=d=qt)&&(d=S2(d,o.type,o.pendingProps,Xi),d!==null?(o.stateNode=d,On=o,qt=es(d.firstChild),Xi=!1,_=!0):_=!1),_||co(o)),ds(o),_=o.type,x=o.pendingProps,S=s!==null?s.memoizedProps:null,d=x.children,jg(_,x)?d=null:S!==null&&jg(_,S)&&(o.flags|=32),o.memoizedState!==null&&(_=Op(s,o,FR,null,null,l),Du._currentValue=_),Ch(s,o),Fn(s,o,d,l),o.child;case 6:return s===null&&ht&&((s=l=qt)&&(l=A2(l,o.pendingProps,Xi),l!==null?(o.stateNode=l,On=o,qt=null,s=!0):s=!1),s||co(o)),null;case 13:return Yx(s,o,l);case 4:return Qt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Ra(o,null,d,l):Fn(s,o,d,l),o.child;case 11:return jx(s,o,o.type,o.pendingProps,l);case 7:return Fn(s,o,o.pendingProps,l),o.child;case 8:return Fn(s,o,o.pendingProps.children,l),o.child;case 12:return Fn(s,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,uo(o,o.type,d.value),Fn(s,o,d.children,l),o.child;case 9:return _=o.type._context,d=o.pendingProps.children,Aa(o),_=jn(_),d=d(_),o.flags|=1,Fn(s,o,d,l),o.child;case 14:return Fx(s,o,o.type,o.pendingProps,l);case 15:return qx(s,o,o.type,o.pendingProps,l);case 19:return Wx(s,o,l);case 31:return YR(s,o,l);case 22:return Hx(s,o,l,o.pendingProps);case 24:return Aa(o),d=jn(yn),s===null?(_=Ip(),_===null&&(_=Pt,x=Ap(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=l),_=x),o.memoizedState={parent:d,cache:_},Rp(o),uo(o,yn,_)):((s.lanes&l)!==0&&(Dp(s,o),du(o,null,null,l),uu()),_=s.memoizedState,x=o.memoizedState,_.parent!==d?(_={parent:d,cache:d},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),uo(o,yn,d)):(d=x.cache,uo(o,yn,d),d!==_.cache&&Sp(o,[yn],l,!0))),Fn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function yr(s){s.flags|=4}function hg(s,o,l,d,_){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(bE())s.flags|=8192;else throw Ca=mh,Cp}else s.flags&=-16777217}function Xx(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fT(o))if(bE())s.flags|=8192;else throw Ca=mh,Cp}function Dh(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Se():536870912,s.lanes|=o,Nl|=o)}function yu(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var _=s.child;_!==null;)l|=_.lanes|_.childLanes,d|=_.subtreeFlags&65011712,d|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)l|=_.lanes|_.childLanes,d|=_.subtreeFlags,d|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function WR(s,o,l){var d=o.pendingProps;switch(xp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return Ht(o),null;case 3:return l=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),fr(yn),Qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ml(o)?yr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tp())),Ht(o),null;case 26:var _=o.type,x=o.memoizedState;return s===null?(yr(o),x!==null?(Ht(o),Xx(o,x)):(Ht(o),hg(o,_,null,d,l))):x?x!==s.memoizedState?(yr(o),Ht(o),Xx(o,x)):(Ht(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&yr(o),Ht(o),hg(o,_,s,d,l)),null;case 27:if(en(o),l=Fe.current,_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&yr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ht(o),null}s=ye.current,ml(o)?D_(o):(s=rT(_,d,l),o.stateNode=s,yr(o))}return Ht(o),null;case 5:if(en(o),_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&yr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ht(o),null}if(x=ye.current,ml(o))D_(o);else{var S=$h(Fe.current);switch(x){case 1:x=S.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=S.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=S.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=S.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=S.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?S.createElement(_,{is:d.is}):S.createElement(_)}}x[kt]=o,x[rn]=d;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)x.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=x;e:switch(qn(x,_,d),_){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&yr(o)}}return Ht(o),hg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,l),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&yr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=Fe.current,ml(o)){if(s=o.stateNode,l=o.memoizedProps,d=null,_=On,_!==null)switch(_.tag){case 27:case 5:d=_.memoizedProps}s[kt]=o,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||YE(s.nodeValue,l)),s||co(o,!0)}else s=$h(s).createTextNode(d),s[kt]=o,o.stateNode=s}return Ht(o),null;case 31:if(l=o.memoizedState,s===null||s.memoizedState!==null){if(d=ml(o),l!==null){if(s===null){if(!d)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[kt]=o}else ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),s=!1}else l=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return o.flags&256?(ki(o),o):(ki(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Ht(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=ml(o),d!==null&&d.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[kt]=o}else ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),_=!1}else _=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(ki(o),o):(ki(o),null)}return ki(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,s=s!==null&&s.memoizedState!==null,l&&(d=o.child,_=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(_=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==_&&(d.flags|=2048)),l!==s&&l&&(o.child.flags|=8192),Dh(o,o.updateQueue),Ht(o),null);case 4:return Qe(),s===null&&Pg(o.stateNode.containerInfo),Ht(o),null;case 10:return fr(o.type),Ht(o),null;case 19:if($(hn),d=o.memoizedState,d===null)return Ht(o),null;if(_=(o.flags&128)!==0,x=d.rendering,x===null)if(_)yu(d,!1);else{if(an!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=vh(s),x!==null){for(o.flags|=128,yu(d,!1),s=x.updateQueue,o.updateQueue=s,Dh(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)A_(l,s),l=l.sibling;return me(hn,hn.current&1|2),ht&&dr(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&Me()>Uh&&(o.flags|=128,_=!0,yu(d,!1),o.lanes=4194304)}else{if(!_)if(s=vh(x),s!==null){if(o.flags|=128,_=!0,s=s.updateQueue,o.updateQueue=s,Dh(o,s),yu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ht)return Ht(o),null}else 2*Me()-d.renderingStartTime>Uh&&l!==536870912&&(o.flags|=128,_=!0,yu(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(s=d.last,s!==null?s.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Me(),s.sibling=null,l=hn.current,me(hn,_?l&1|2:l&1),ht&&dr(o,d.treeForkCount),s):(Ht(o),null);case 22:case 23:return ki(o),Lp(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),l=o.updateQueue,l!==null&&Dh(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),s!==null&&$(Na),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),fr(yn),Ht(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function QR(s,o){switch(xp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return fr(yn),Qe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return en(o),null;case 31:if(o.memoizedState!==null){if(ki(o),o.alternate===null)throw Error(i(340));ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(ki(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return $(hn),null;case 4:return Qe(),null;case 10:return fr(o.type),null;case 22:case 23:return ki(o),Lp(),s!==null&&$(Na),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return fr(yn),null;case 25:return null;default:return null}}function Zx(s,o){switch(xp(o),o.tag){case 3:fr(yn),Qe();break;case 26:case 27:case 5:en(o);break;case 4:Qe();break;case 31:o.memoizedState!==null&&ki(o);break;case 13:ki(o);break;case 19:$(hn);break;case 10:fr(o.type);break;case 22:case 23:ki(o),Lp(),s!==null&&$(Na);break;case 24:fr(yn)}}function vu(s,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var _=d.next;l=_;do{if((l.tag&s)===s){d=void 0;var x=l.create,S=l.inst;d=x(),S.destroy=d}l=l.next}while(l!==_)}}catch(k){At(o,o.return,k)}}function yo(s,o,l){try{var d=o.updateQueue,_=d!==null?d.lastEffect:null;if(_!==null){var x=_.next;d=x;do{if((d.tag&s)===s){var S=d.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,_=o;var B=l,Z=k;try{Z()}catch(ae){At(_,B,ae)}}}d=d.next}while(d!==x)}}catch(ae){At(o,o.return,ae)}}function eE(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{G_(o,l)}catch(d){At(s,s.return,d)}}}function tE(s,o,l){l.props=Ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){At(s,o,d)}}function _u(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(_){At(s,o,_)}}function Js(s,o){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(_){At(s,o,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(_){At(s,o,_)}else l.current=null}function nE(s){var o=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(_){At(s,s.return,_)}}function fg(s,o,l){try{var d=s.stateNode;_2(d,s.type,l,o),d[rn]=o}catch(_){At(s,s.return,_)}}function iE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&bo(s.type)||s.tag===4}function mg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&bo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=fs));else if(d!==4&&(d===27&&bo(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(pg(s,o,l),s=s.sibling;s!==null;)pg(s,o,l),s=s.sibling}function Mh(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(d===27&&bo(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Mh(s,o,l),s=s.sibling;s!==null;)Mh(s,o,l),s=s.sibling}function sE(s){var o=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);qn(o,d,l),o[kt]=s,o[rn]=l}catch(x){At(s,s.return,x)}}var vr=!1,xn=!1,gg=!1,rE=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function XR(s,o){if(s=s.containerInfo,Vg=Zh,s=y_(s),cp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var _=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var S=0,k=-1,B=-1,Z=0,ae=0,de=s,te=null;t:for(;;){for(var se;de!==l||_!==0&&de.nodeType!==3||(k=S+_),de!==x||d!==0&&de.nodeType!==3||(B=S+d),de.nodeType===3&&(S+=de.nodeValue.length),(se=de.firstChild)!==null;)te=de,de=se;for(;;){if(de===s)break t;if(te===l&&++Z===_&&(k=S),te===x&&++ae===d&&(B=S),(se=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=se}l=k===-1||B===-1?null:{start:k,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Og={focusedElem:s,selectionRange:l},Zh=!1,Cn=o;Cn!==null;)if(o=Cn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Cn=s;else for(;Cn!==null;){switch(o=Cn,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)_=s[l],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=o,_=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Ae=Ma(l.type,_);s=d.getSnapshotBeforeUpdate(Ae,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(qe){At(l,l.return,qe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Cn=s;break}Cn=o.return}}function oE(s,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:xr(s,l),d&4&&vu(5,l);break;case 1:if(xr(s,l),d&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(S){At(l,l.return,S)}else{var _=Ma(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(_,o,s.__reactInternalSnapshotBeforeUpdate)}catch(S){At(l,l.return,S)}}d&64&&eE(l),d&512&&_u(l,l.return);break;case 3:if(xr(s,l),d&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{G_(s,o)}catch(S){At(l,l.return,S)}}break;case 27:o===null&&d&4&&sE(l);case 26:case 5:xr(s,l),o===null&&d&4&&nE(l),d&512&&_u(l,l.return);break;case 12:xr(s,l);break;case 31:xr(s,l),d&4&&cE(s,l);break;case 13:xr(s,l),d&4&&uE(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=a2.bind(null,l),N2(s,l))));break;case 22:if(d=l.memoizedState!==null||vr,!d){o=o!==null&&o.memoizedState!==null||xn,_=vr;var x=xn;vr=d,(xn=o)&&!x?Er(s,l,(l.subtreeFlags&8772)!==0):xr(s,l),vr=_,xn=x}break;case 30:break;default:xr(s,l)}}function aE(s){var o=s.alternate;o!==null&&(s.alternate=null,aE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ii(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,gi=!1;function _r(s,o,l){for(l=l.child;l!==null;)lE(s,o,l),l=l.sibling}function lE(s,o,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Jn,l)}catch{}switch(l.tag){case 26:xn||Js(l,o),_r(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xn||Js(l,o);var d=Jt,_=gi;bo(l.type)&&(Jt=l.stateNode,gi=!1),_r(s,o,l),Iu(l.stateNode),Jt=d,gi=_;break;case 5:xn||Js(l,o);case 6:if(d=Jt,_=gi,Jt=null,_r(s,o,l),Jt=d,gi=_,Jt!==null)if(gi)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(l.stateNode)}catch(x){At(l,o,x)}else try{Jt.removeChild(l.stateNode)}catch(x){At(l,o,x)}break;case 18:Jt!==null&&(gi?(s=Jt,eT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ll(s)):eT(Jt,l.stateNode));break;case 4:d=Jt,_=gi,Jt=l.stateNode.containerInfo,gi=!0,_r(s,o,l),Jt=d,gi=_;break;case 0:case 11:case 14:case 15:yo(2,l,o),xn||yo(4,l,o),_r(s,o,l);break;case 1:xn||(Js(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&tE(l,o,d)),_r(s,o,l);break;case 21:_r(s,o,l);break;case 22:xn=(d=xn)||l.memoizedState!==null,_r(s,o,l),xn=d;break;default:_r(s,o,l)}}function cE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ll(s)}catch(l){At(o,o.return,l)}}}function uE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ll(s)}catch(l){At(o,o.return,l)}}function ZR(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new rE),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new rE),o;default:throw Error(i(435,s.tag))}}function kh(s,o){var l=ZR(s);o.forEach(function(d){if(!l.has(d)){l.add(d);var _=l2.bind(null,s,d);d.then(_,_)}})}function yi(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var _=l[d],x=s,S=o,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(bo(k.type)){Jt=k.stateNode,gi=!1;break e}break;case 5:Jt=k.stateNode,gi=!1;break e;case 3:case 4:Jt=k.stateNode.containerInfo,gi=!0;break e}k=k.return}if(Jt===null)throw Error(i(160));lE(x,S,_),Jt=null,gi=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)dE(o,s),o=o.sibling}var _s=null;function dE(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:yi(o,s),vi(s),d&4&&(yo(3,s,s.return),vu(3,s),yo(5,s,s.return));break;case 1:yi(o,s),vi(s),d&512&&(xn||l===null||Js(l,l.return)),d&64&&vr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var _=_s;if(yi(o,s),vi(s),d&512&&(xn||l===null||Js(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,_=_.ownerDocument||_;t:switch(d){case"title":x=_.getElementsByTagName("title")[0],(!x||x[fi]||x[kt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(d),_.head.insertBefore(x,_.querySelector("head > title"))),qn(x,d,l),x[kt]=s,Ft(x),d=x;break e;case"link":var S=dT("link","href",_).get(d+(l.href||""));if(S){for(var k=0;k<S.length;k++)if(x=S[k],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(k,1);break t}}x=_.createElement(d),qn(x,d,l),_.head.appendChild(x);break;case"meta":if(S=dT("meta","content",_).get(d+(l.content||""))){for(k=0;k<S.length;k++)if(x=S[k],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(k,1);break t}}x=_.createElement(d),qn(x,d,l),_.head.appendChild(x);break;default:throw Error(i(468,d))}x[kt]=s,Ft(x),d=x}s.stateNode=d}else hT(_,s.type,s.stateNode);else s.stateNode=uT(_,d,s.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?hT(_,s.type,s.stateNode):uT(_,d,s.memoizedProps)):d===null&&s.stateNode!==null&&fg(s,s.memoizedProps,l.memoizedProps)}break;case 27:yi(o,s),vi(s),d&512&&(xn||l===null||Js(l,l.return)),l!==null&&d&4&&fg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(yi(o,s),vi(s),d&512&&(xn||l===null||Js(l,l.return)),s.flags&32){_=s.stateNode;try{pi(_,"")}catch(Ae){At(s,s.return,Ae)}}d&4&&s.stateNode!=null&&(_=s.memoizedProps,fg(s,_,l!==null?l.memoizedProps:_)),d&1024&&(gg=!0);break;case 6:if(yi(o,s),vi(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(Ae){At(s,s.return,Ae)}}break;case 3:if(Jh=null,_=_s,_s=Kh(o.containerInfo),yi(o,s),_s=_,vi(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ll(o.containerInfo)}catch(Ae){At(s,s.return,Ae)}gg&&(gg=!1,hE(s));break;case 4:d=_s,_s=Kh(s.stateNode.containerInfo),yi(o,s),vi(s),_s=d;break;case 12:yi(o,s),vi(s);break;case 31:yi(o,s),vi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 13:yi(o,s),vi(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lh=Me()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 22:_=s.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Z=vr,ae=xn;if(vr=Z||_,xn=ae||B,yi(o,s),xn=ae,vr=Z,vi(s),d&8192)e:for(o=s.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(l===null||B||vr||xn||ka(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){B=l=o;try{if(x=B.stateNode,_)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=B.stateNode;var de=B.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){At(B,B.return,Ae)}}}else if(o.tag===6){if(l===null){B=o;try{B.stateNode.nodeValue=_?"":B.memoizedProps}catch(Ae){At(B,B.return,Ae)}}}else if(o.tag===18){if(l===null){B=o;try{var se=B.stateNode;_?tT(se,!0):tT(B.stateNode,!1)}catch(Ae){At(B,B.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,kh(s,l))));break;case 19:yi(o,s),vi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,kh(s,d)));break;case 30:break;case 21:break;default:yi(o,s),vi(s)}}function vi(s){var o=s.flags;if(o&2){try{for(var l,d=s.return;d!==null;){if(iE(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var _=l.stateNode,x=mg(s);Mh(s,x,_);break;case 5:var S=l.stateNode;l.flags&32&&(pi(S,""),l.flags&=-33);var k=mg(s);Mh(s,k,S);break;case 3:case 4:var B=l.stateNode.containerInfo,Z=mg(s);pg(s,Z,B);break;default:throw Error(i(161))}}catch(ae){At(s,s.return,ae)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function hE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;hE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function xr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)oE(s,o.alternate,o),o=o.sibling}function ka(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),ka(o);break;case 1:Js(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&tE(o,o.return,l),ka(o);break;case 27:Iu(o.stateNode);case 26:case 5:Js(o,o.return),ka(o);break;case 22:o.memoizedState===null&&ka(o);break;case 30:ka(o);break;default:ka(o)}s=s.sibling}}function Er(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,_=s,x=o,S=x.flags;switch(x.tag){case 0:case 11:case 15:Er(_,x,l),vu(4,x);break;case 1:if(Er(_,x,l),d=x,_=d.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){At(d,d.return,Z)}if(d=x,_=d.updateQueue,_!==null){var k=d.stateNode;try{var B=_.shared.hiddenCallbacks;if(B!==null)for(_.shared.hiddenCallbacks=null,_=0;_<B.length;_++)B_(B[_],k)}catch(Z){At(d,d.return,Z)}}l&&S&64&&eE(x),_u(x,x.return);break;case 27:sE(x);case 26:case 5:Er(_,x,l),l&&d===null&&S&4&&nE(x),_u(x,x.return);break;case 12:Er(_,x,l);break;case 31:Er(_,x,l),l&&S&4&&cE(_,x);break;case 13:Er(_,x,l),l&&S&4&&uE(_,x);break;case 22:x.memoizedState===null&&Er(_,x,l),_u(x,x.return);break;case 30:break;default:Er(_,x,l)}o=o.sibling}}function yg(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ru(l))}function vg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ru(s))}function xs(s,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fE(s,o,l,d),o=o.sibling}function fE(s,o,l,d){var _=o.flags;switch(o.tag){case 0:case 11:case 15:xs(s,o,l,d),_&2048&&vu(9,o);break;case 1:xs(s,o,l,d);break;case 3:xs(s,o,l,d),_&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ru(s)));break;case 12:if(_&2048){xs(s,o,l,d),s=o.stateNode;try{var x=o.memoizedProps,S=x.id,k=x.onPostCommit;typeof k=="function"&&k(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){At(o,o.return,B)}}else xs(s,o,l,d);break;case 31:xs(s,o,l,d);break;case 13:xs(s,o,l,d);break;case 23:break;case 22:x=o.stateNode,S=o.alternate,o.memoizedState!==null?x._visibility&2?xs(s,o,l,d):xu(s,o):x._visibility&2?xs(s,o,l,d):(x._visibility|=2,bl(s,o,l,d,(o.subtreeFlags&10256)!==0||!1)),_&2048&&yg(S,o);break;case 24:xs(s,o,l,d),_&2048&&vg(o.alternate,o);break;default:xs(s,o,l,d)}}function bl(s,o,l,d,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,S=o,k=l,B=d,Z=S.flags;switch(S.tag){case 0:case 11:case 15:bl(x,S,k,B,_),vu(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?bl(x,S,k,B,_):xu(x,S):(ae._visibility|=2,bl(x,S,k,B,_)),_&&Z&2048&&yg(S.alternate,S);break;case 24:bl(x,S,k,B,_),_&&Z&2048&&vg(S.alternate,S);break;default:bl(x,S,k,B,_)}o=o.sibling}}function xu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,d=o,_=d.flags;switch(d.tag){case 22:xu(l,d),_&2048&&yg(d.alternate,d);break;case 24:xu(l,d),_&2048&&vg(d.alternate,d);break;default:xu(l,d)}o=o.sibling}}var Eu=8192;function Sl(s,o,l){if(s.subtreeFlags&Eu)for(s=s.child;s!==null;)mE(s,o,l),s=s.sibling}function mE(s,o,l){switch(s.tag){case 26:Sl(s,o,l),s.flags&Eu&&s.memoizedState!==null&&j2(l,_s,s.memoizedState,s.memoizedProps);break;case 5:Sl(s,o,l);break;case 3:case 4:var d=_s;_s=Kh(s.stateNode.containerInfo),Sl(s,o,l),_s=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Eu,Eu=16777216,Sl(s,o,l),Eu=d):Sl(s,o,l));break;default:Sl(s,o,l)}}function pE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Tu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Cn=d,yE(d,s)}pE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gE(s),s=s.sibling}function gE(s){switch(s.tag){case 0:case 11:case 15:Tu(s),s.flags&2048&&yo(9,s,s.return);break;case 3:Tu(s);break;case 12:Tu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ph(s)):Tu(s);break;default:Tu(s)}}function Ph(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Cn=d,yE(d,s)}pE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:yo(8,o,o.return),Ph(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ph(o));break;default:Ph(o)}s=s.sibling}}function yE(s,o){for(;Cn!==null;){var l=Cn;switch(l.tag){case 0:case 11:case 15:yo(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ru(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Cn=d;else e:for(l=s;Cn!==null;){d=Cn;var _=d.sibling,x=d.return;if(aE(d),d===l){Cn=null;break e}if(_!==null){_.return=x,Cn=_;break e}Cn=x}}}var e2={getCacheForType:function(s){var o=jn(yn),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l},cacheSignal:function(){return jn(yn).controller.signal}},t2=typeof WeakMap=="function"?WeakMap:Map,Et=0,Pt=null,st=null,at=0,St=0,Pi=null,vo=!1,Al=!1,_g=!1,Tr=0,an=0,_o=0,Pa=0,xg=0,Li=0,Nl=0,wu=null,_i=null,Eg=!1,Lh=0,vE=0,Uh=1/0,Vh=null,xo=null,Sn=0,Eo=null,Il=null,wr=0,Tg=0,wg=null,_E=null,bu=0,bg=null;function Ui(){return(Et&2)!==0&&at!==0?at&-at:W.T!==null?Rg():sn()}function xE(){if(Li===0)if((at&536870912)===0||ht){var s=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),Li=s}else Li=536870912;return s=Mi.current,s!==null&&(s.flags|=32),Li}function xi(s,o,l){(s===Pt&&(St===2||St===9)||s.cancelPendingCommit!==null)&&(Cl(s,0),To(s,at,Li,!1)),Pe(s,l),((Et&2)===0||s!==Pt)&&(s===Pt&&((Et&2)===0&&(Pa|=l),an===4&&To(s,at,Li,!1)),Ws(s))}function EE(s,o,l){if((Et&6)!==0)throw Error(i(327));var d=!l&&(o&127)===0&&(o&s.expiredLanes)===0||re(s,o),_=d?s2(s,o):Ag(s,o,!0),x=d;do{if(_===0){Al&&!d&&To(s,o,0,!1);break}else{if(l=s.current.alternate,x&&!n2(l)){_=Ag(s,o,!1),x=!1;continue}if(_===2){if(x=o,s.errorRecoveryDisabledLanes&x)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var k=s;_=wu;var B=k.current.memoizedState.isDehydrated;if(B&&(Cl(k,S).flags|=256),S=Ag(k,S,!1),S!==2){if(_g&&!B){k.errorRecoveryDisabledLanes|=x,Pa|=x,_=4;break e}x=_i,_i=_,x!==null&&(_i===null?_i=x:_i.push.apply(_i,x))}_=S}if(x=!1,_!==2)continue}}if(_===1){Cl(s,0),To(s,o,0,!0);break}e:{switch(d=s,x=_,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:To(d,o,Li,!vo);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=Lh+300-Me(),10<_)){if(To(d,o,Li,!vo),ee(d,0,!0)!==0)break e;wr=o,d.timeoutHandle=XE(TE.bind(null,d,l,_i,Vh,Eg,o,Li,Pa,Nl,vo,x,"Throttled",-0,0),_);break e}TE(d,l,_i,Vh,Eg,o,Li,Pa,Nl,vo,x,null,-0,0)}}break}while(!0);Ws(s)}function TE(s,o,l,d,_,x,S,k,B,Z,ae,de,te,se){if(s.timeoutHandle=-1,de=o.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fs},mE(o,x,de);var Ae=(x&62914560)===x?Lh-Me():(x&4194048)===x?vE-Me():0;if(Ae=F2(de,Ae),Ae!==null){wr=x,s.cancelPendingCommit=Ae(RE.bind(null,s,o,x,l,d,_,S,k,B,ae,de,null,te,se)),To(s,x,S,!Z);return}}RE(s,o,x,l,d,_,S,k,B)}function n2(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var _=l[d],x=_.getSnapshot;_=_.value;try{if(!Ri(x(),_))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function To(s,o,l,d){o&=~xg,o&=~Pa,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var _=o;0<_;){var x=31-$t(_),S=1<<x;d[x]=-1,_&=~S}l!==0&&Ne(s,l,o)}function Oh(){return(Et&6)===0?(Su(0),!1):!0}function Sg(){if(st!==null){if(St===0)var s=st.return;else s=st,hr=Sa=null,qp(s),_l=null,au=0,s=st;for(;s!==null;)Zx(s.alternate,s),s=s.return;st=null}}function Cl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,T2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),wr=0,Sg(),Pt=s,st=l=ur(s.current,null),at=o,St=0,Pi=null,vo=!1,Al=re(s,o),_g=!1,Nl=Li=xg=Pa=_o=an=0,_i=wu=null,Eg=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var _=31-$t(d),x=1<<_;o|=s[_],d&=~x}return Tr=o,rh(),l}function wE(s,o){et=null,W.H=pu,o===vl||o===fh?(o=j_(),St=3):o===Cp?(o=j_(),St=4):St=o===ig?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pi=o,st===null&&(an=1,Nh(s,Ji(o,s.current)))}function bE(){var s=Mi.current;return s===null?!0:(at&4194048)===at?Zi===null:(at&62914560)===at||(at&536870912)!==0?s===Zi:!1}function SE(){var s=W.H;return W.H=pu,s===null?pu:s}function AE(){var s=W.A;return W.A=e2,s}function jh(){an=4,vo||(at&4194048)!==at&&Mi.current!==null||(Al=!0),(_o&134217727)===0&&(Pa&134217727)===0||Pt===null||To(Pt,at,Li,!1)}function Ag(s,o,l){var d=Et;Et|=2;var _=SE(),x=AE();(Pt!==s||at!==o)&&(Vh=null,Cl(s,o)),o=!1;var S=an;e:do try{if(St!==0&&st!==null){var k=st,B=Pi;switch(St){case 8:Sg(),S=6;break e;case 3:case 2:case 9:case 6:Mi.current===null&&(o=!0);var Z=St;if(St=0,Pi=null,Rl(s,k,B,Z),l&&Al){S=0;break e}break;default:Z=St,St=0,Pi=null,Rl(s,k,B,Z)}}i2(),S=an;break}catch(ae){wE(s,ae)}while(!0);return o&&s.shellSuspendCounter++,hr=Sa=null,Et=d,W.H=_,W.A=x,st===null&&(Pt=null,at=0,rh()),S}function i2(){for(;st!==null;)NE(st)}function s2(s,o){var l=Et;Et|=2;var d=SE(),_=AE();Pt!==s||at!==o?(Vh=null,Uh=Me()+500,Cl(s,o)):Al=re(s,o);e:do try{if(St!==0&&st!==null){o=st;var x=Pi;t:switch(St){case 1:St=0,Pi=null,Rl(s,o,x,1);break;case 2:case 9:if(V_(x)){St=0,Pi=null,IE(o);break}o=function(){St!==2&&St!==9||Pt!==s||(St=7),Ws(s)},x.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:V_(x)?(St=0,Pi=null,IE(o)):(St=0,Pi=null,Rl(s,o,x,7));break;case 5:var S=null;switch(st.tag){case 26:S=st.memoizedState;case 5:case 27:var k=st;if(S?fT(S):k.stateNode.complete){St=0,Pi=null;var B=k.sibling;if(B!==null)st=B;else{var Z=k.return;Z!==null?(st=Z,Fh(Z)):st=null}break t}}St=0,Pi=null,Rl(s,o,x,5);break;case 6:St=0,Pi=null,Rl(s,o,x,6);break;case 8:Sg(),an=6;break e;default:throw Error(i(462))}}r2();break}catch(ae){wE(s,ae)}while(!0);return hr=Sa=null,W.H=d,W.A=_,Et=l,st!==null?0:(Pt=null,at=0,rh(),an)}function r2(){for(;st!==null&&!Yr();)NE(st)}function NE(s){var o=Qx(s.alternate,s,Tr);s.memoizedProps=s.pendingProps,o===null?Fh(s):st=o}function IE(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=zx(l,o,o.pendingProps,o.type,void 0,at);break;case 11:o=zx(l,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:qp(o);default:Zx(l,o),o=st=A_(o,Tr),o=Qx(l,o,Tr)}s.memoizedProps=s.pendingProps,o===null?Fh(s):st=o}function Rl(s,o,l,d){hr=Sa=null,qp(o),_l=null,au=0;var _=o.return;try{if(KR(s,_,o,l,at)){an=1,Nh(s,Ji(l,s.current)),st=null;return}}catch(x){if(_!==null)throw st=_,x;an=1,Nh(s,Ji(l,s.current)),st=null;return}o.flags&32768?(ht||d===1?s=!0:Al||(at&536870912)!==0?s=!1:(vo=s=!0,(d===2||d===9||d===3||d===6)&&(d=Mi.current,d!==null&&d.tag===13&&(d.flags|=16384))),CE(o,s)):Fh(o)}function Fh(s){var o=s;do{if((o.flags&32768)!==0){CE(o,vo);return}s=o.return;var l=WR(o.alternate,o,Tr);if(l!==null){st=l;return}if(o=o.sibling,o!==null){st=o;return}st=o=s}while(o!==null);an===0&&(an=5)}function CE(s,o){do{var l=QR(s.alternate,s);if(l!==null){l.flags&=32767,st=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){st=s;return}st=s=l}while(s!==null);an=6,st=null}function RE(s,o,l,d,_,x,S,k,B){s.cancelPendingCommit=null;do qh();while(Sn!==0);if((Et&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=mp,Ue(s,l,x,S,k,B),s===Pt&&(st=Pt=null,at=0),Il=o,Eo=s,wr=l,Tg=x,wg=_,_E=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c2(hi,function(){return LE(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,_=ce.p,ce.p=2,S=Et,Et|=4;try{XR(s,o,l)}finally{Et=S,ce.p=_,W.T=d}}Sn=1,DE(),ME(),kE()}}function DE(){if(Sn===1){Sn=0;var s=Eo,o=Il,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var d=ce.p;ce.p=2;var _=Et;Et|=4;try{dE(o,s);var x=Og,S=y_(s.containerInfo),k=x.focusedElem,B=x.selectionRange;if(S!==k&&k&&k.ownerDocument&&g_(k.ownerDocument.documentElement,k)){if(B!==null&&cp(k)){var Z=B.start,ae=B.end;if(ae===void 0&&(ae=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ae,k.value.length);else{var de=k.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var se=te.getSelection(),Ae=k.textContent.length,qe=Math.min(B.start,Ae),Dt=B.end===void 0?qe:Math.min(B.end,Ae);!se.extend&&qe>Dt&&(S=Dt,Dt=qe,qe=S);var J=p_(k,qe),K=p_(k,Dt);if(J&&K&&(se.rangeCount!==1||se.anchorNode!==J.node||se.anchorOffset!==J.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var X=de.createRange();X.setStart(J.node,J.offset),se.removeAllRanges(),qe>Dt?(se.addRange(X),se.extend(K.node,K.offset)):(X.setEnd(K.node,K.offset),se.addRange(X))}}}}for(de=[],se=k;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ue=de[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Zh=!!Vg,Og=Vg=null}finally{Et=_,ce.p=d,W.T=l}}s.current=o,Sn=2}}function ME(){if(Sn===2){Sn=0;var s=Eo,o=Il,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var d=ce.p;ce.p=2;var _=Et;Et|=4;try{oE(s,o.alternate,o)}finally{Et=_,ce.p=d,W.T=l}}Sn=3}}function kE(){if(Sn===4||Sn===3){Sn=0,fe();var s=Eo,o=Il,l=wr,d=_E;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Sn=5:(Sn=0,Il=Eo=null,PE(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(xo=null),ot(l),o=o.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=W.T,_=ce.p,ce.p=2,W.T=null;try{for(var x=s.onRecoverableError,S=0;S<d.length;S++){var k=d[S];x(k.value,{componentStack:k.stack})}}finally{W.T=o,ce.p=_}}(wr&3)!==0&&qh(),Ws(s),_=s.pendingLanes,(l&261930)!==0&&(_&42)!==0?s===bg?bu++:(bu=0,bg=s):bu=0,Su(0)}}function PE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,ru(o)))}function qh(){return DE(),ME(),kE(),LE()}function LE(){if(Sn!==5)return!1;var s=Eo,o=Tg;Tg=0;var l=ot(wr),d=W.T,_=ce.p;try{ce.p=32>l?32:l,W.T=null,l=wg,wg=null;var x=Eo,S=wr;if(Sn=0,Il=Eo=null,wr=0,(Et&6)!==0)throw Error(i(331));var k=Et;if(Et|=4,gE(x.current),fE(x,x.current,S,l),Et=k,Su(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Jn,x)}catch{}return!0}finally{ce.p=_,W.T=d,PE(s,o)}}function UE(s,o,l){o=Ji(l,o),o=ng(s.stateNode,o,2),s=mo(s,o,2),s!==null&&(Pe(s,2),Ws(s))}function At(s,o,l){if(s.tag===3)UE(s,s,l);else for(;o!==null;){if(o.tag===3){UE(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xo===null||!xo.has(d))){s=Ji(l,s),l=Vx(2),d=mo(o,l,2),d!==null&&(Ox(l,d,o,s),Pe(d,2),Ws(d));break}}o=o.return}}function Ng(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new t2;var _=new Set;d.set(o,_)}else _=d.get(o),_===void 0&&(_=new Set,d.set(o,_));_.has(l)||(_g=!0,_.add(l),s=o2.bind(null,s,o,l),o.then(s,s))}function o2(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Pt===s&&(at&l)===l&&(an===4||an===3&&(at&62914560)===at&&300>Me()-Lh?(Et&2)===0&&Cl(s,0):xg|=l,Nl===at&&(Nl=0)),Ws(s)}function VE(s,o){o===0&&(o=Se()),s=Ta(s,o),s!==null&&(Pe(s,o),Ws(s))}function a2(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),VE(s,l)}function l2(s,o){var l=0;switch(s.tag){case 31:case 13:var d=s.stateNode,_=s.memoizedState;_!==null&&(l=_.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),VE(s,l)}function c2(s,o){return Ut(s,o)}var Hh=null,Dl=null,Ig=!1,Bh=!1,Cg=!1,wo=0;function Ws(s){s!==Dl&&s.next===null&&(Dl===null?Hh=Dl=s:Dl=Dl.next=s),Bh=!0,Ig||(Ig=!0,d2())}function Su(s,o){if(!Cg&&Bh){Cg=!0;do for(var l=!1,d=Hh;d!==null;){if(s!==0){var _=d.pendingLanes;if(_===0)var x=0;else{var S=d.suspendedLanes,k=d.pingedLanes;x=(1<<31-$t(42|s)+1)-1,x&=_&~(S&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,qE(d,x))}else x=at,x=ee(d,d===Pt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||re(d,x)||(l=!0,qE(d,x));d=d.next}while(l);Cg=!1}}function u2(){OE()}function OE(){Bh=Ig=!1;var s=0;wo!==0&&E2()&&(s=wo);for(var o=Me(),l=null,d=Hh;d!==null;){var _=d.next,x=jE(d,o);x===0?(d.next=null,l===null?Hh=_:l.next=_,_===null&&(Dl=l)):(l=d,(s!==0||(x&3)!==0)&&(Bh=!0)),d=_}Sn!==0&&Sn!==5||Su(s),wo!==0&&(wo=0)}function jE(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,_=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var S=31-$t(x),k=1<<S,B=_[S];B===-1?((k&l)===0||(k&d)!==0)&&(_[S]=ge(k,o)):B<=o&&(s.expiredLanes|=k),x&=~k}if(o=Pt,l=at,l=ee(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===o&&(St===2||St===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Pn(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||re(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(d!==null&&Pn(d),ot(l)){case 2:case 8:l=Yn;break;case 32:l=hi;break;case 268435456:l=Ai;break;default:l=hi}return d=FE.bind(null,s),l=Ut(l,d),s.callbackPriority=o,s.callbackNode=l,o}return d!==null&&d!==null&&Pn(d),s.callbackPriority=2,s.callbackNode=null,2}function FE(s,o){if(Sn!==0&&Sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(qh()&&s.callbackNode!==l)return null;var d=at;return d=ee(s,s===Pt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(EE(s,d,o),jE(s,Me()),s.callbackNode!=null&&s.callbackNode===l?FE.bind(null,s):null)}function qE(s,o){if(qh())return null;EE(s,o,!0)}function d2(){w2(function(){(Et&6)!==0?Ut(Kn,u2):OE()})}function Rg(){if(wo===0){var s=gl;s===0&&(s=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),wo=s}return wo}function HE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:tl(""+s)}function BE(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function h2(s,o,l,d,_){if(o==="submit"&&l&&l.stateNode===_){var x=HE((_[rn]||null).action),S=d.submitter;S&&(o=(o=S[rn]||null)?HE(o.formAction):S.getAttribute("formAction"),o!==null&&(x=o,S=null));var k=new Bs("action","action",null,d,_);s.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(wo!==0){var B=S?BE(_,S):new FormData(_);Wp(l,{pending:!0,data:B,method:_.method,action:x},null,B)}}else typeof x=="function"&&(k.preventDefault(),B=S?BE(_,S):new FormData(_),Wp(l,{pending:!0,data:B,method:_.method,action:x},x,B))},currentTarget:_}]})}}for(var Dg=0;Dg<fp.length;Dg++){var Mg=fp[Dg],f2=Mg.toLowerCase(),m2=Mg[0].toUpperCase()+Mg.slice(1);vs(f2,"on"+m2)}vs(x_,"onAnimationEnd"),vs(E_,"onAnimationIteration"),vs(T_,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(RR,"onTransitionRun"),vs(DR,"onTransitionStart"),vs(MR,"onTransitionCancel"),vs(w_,"onTransitionEnd"),js("onMouseEnter",["mouseout","mouseover"]),js("onMouseLeave",["mouseout","mouseover"]),js("onPointerEnter",["pointerout","pointerover"]),js("onPointerLeave",["pointerout","pointerover"]),Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Os("onBeforeInput",["compositionend","keypress","textInput","paste"]),Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function GE(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],_=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var S=d.length-1;0<=S;S--){var k=d[S],B=k.instance,Z=k.currentTarget;if(k=k.listener,B!==x&&_.isPropagationStopped())break e;x=k,_.currentTarget=Z;try{x(_)}catch(ae){sh(ae)}_.currentTarget=null,x=B}else for(S=0;S<d.length;S++){if(k=d[S],B=k.instance,Z=k.currentTarget,k=k.listener,B!==x&&_.isPropagationStopped())break e;x=k,_.currentTarget=Z;try{x(_)}catch(ae){sh(ae)}_.currentTarget=null,x=B}}}}function rt(s,o){var l=o[ni];l===void 0&&(l=o[ni]=new Set);var d=s+"__bubble";l.has(d)||(zE(o,s,2,!1),l.add(d))}function kg(s,o,l){var d=0;o&&(d|=4),zE(l,s,d,o)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Pg(s){if(!s[Gh]){s[Gh]=!0,ua.forEach(function(l){l!=="selectionchange"&&(p2.has(l)||kg(l,!1,s),kg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gh]||(o[Gh]=!0,kg("selectionchange",!1,o))}}function zE(s,o,l,d){switch(xT(o)){case 2:var _=B2;break;case 8:_=G2;break;default:_=Jg}l=_.bind(null,o,l,s),_=void 0,!ma||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),d?_!==void 0?s.addEventListener(o,l,{capture:!0,passive:_}):s.addEventListener(o,l,!0):_!==void 0?s.addEventListener(o,l,{passive:_}):s.addEventListener(o,l,!1)}function Lg(s,o,l,d,_){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var k=d.stateNode.containerInfo;if(k===_)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===_)return;S=S.return}for(;k!==null;){if(S=ii(k),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){d=x=S;continue e}k=k.parentNode}}d=d.return}io(function(){var Z=x,ae=zi(l),de=[];e:{var te=b_.get(s);if(te!==void 0){var se=Bs,Ae=s;switch(s){case"keypress":if(ga(l)===0)break e;case"keydown":case"keyup":se=th;break;case"focusin":Ae="focus",se=va;break;case"focusout":Ae="blur",se=va;break;case"beforeblur":case"afterblur":se=va;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=w;break;case x_:case E_:case T_:se=Yd;break;case w_:se=O;break;case"scroll":case"scrollend":se=Wc;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=cr;break;case"toggle":case"beforetoggle":se=Ze}var qe=(o&4)!==0,Dt=!qe&&(s==="scroll"||s==="scrollend"),J=qe?te!==null?te+"Capture":null:te;qe=[];for(var K=Z,X;K!==null;){var ue=K;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||J===null||(ue=ms(K,J),ue!=null&&qe.push(Nu(K,ue,X))),Dt)break;K=K.return}0<qe.length&&(te=new se(te,Ae,null,l,ae),de.push({event:te,listeners:qe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",te&&l!==Kc&&(Ae=l.relatedTarget||l.fromElement)&&(ii(Ae)||Ae[Un]))break e;if((se||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Ae=l.relatedTarget||l.toElement,se=Z,Ae=Ae?ii(Ae):null,Ae!==null&&(Dt=a(Ae),qe=Ae.tag,Ae!==Dt||qe!==5&&qe!==27&&qe!==6)&&(Ae=null)):(se=null,Ae=Z),se!==Ae)){if(qe=Qc,ue="onMouseLeave",J="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(qe=cr,ue="onPointerLeave",J="onPointerEnter",K="pointer"),Dt=se==null?te:Xe(se),X=Ae==null?te:Xe(Ae),te=new qe(ue,K+"leave",se,l,ae),te.target=Dt,te.relatedTarget=X,ue=null,ii(ae)===Z&&(qe=new qe(J,K+"enter",Ae,l,ae),qe.target=X,qe.relatedTarget=Dt,ue=qe),Dt=ue,se&&Ae)t:{for(qe=g2,J=se,K=Ae,X=0,ue=J;ue;ue=qe(ue))X++;ue=0;for(var ke=K;ke;ke=qe(ke))ue++;for(;0<X-ue;)J=qe(J),X--;for(;0<ue-X;)K=qe(K),ue--;for(;X--;){if(J===K||K!==null&&J===K.alternate){qe=J;break t}J=qe(J),K=qe(K)}qe=null}else qe=null;se!==null&&$E(de,te,se,qe,!1),Ae!==null&&Dt!==null&&$E(de,Dt,Ae,qe,!0)}}e:{if(te=Z?Xe(Z):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var yt=c_;else if(a_(te))if(u_)yt=NR;else{yt=SR;var Ie=bR}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&el(Z.elementType)&&(yt=c_):yt=AR;if(yt&&(yt=yt(s,Z))){l_(de,yt,l,ae);break e}Ie&&Ie(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Gc(te,"number",te.value)}switch(Ie=Z?Xe(Z):window,s){case"focusin":(a_(Ie)||Ie.contentEditable==="true")&&(ll=Ie,up=Z,nu=null);break;case"focusout":nu=up=ll=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,v_(de,l,ae);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":v_(de,l,ae)}var it;if(xt)e:{switch(s){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else al?_a(s,l)&&(lt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(lt="onCompositionStart");lt&&($s&&l.locale!=="ko"&&(al||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&al&&(it=Jc()):(Hs=ae,Yc="value"in Hs?Hs.value:Hs.textContent,al=!0)),Ie=zh(Z,lt),0<Ie.length&&(lt=new zs(lt,s,null,l,ae),de.push({event:lt,listeners:Ie}),it?lt.data=it:(it=ol(l),it!==null&&(lt.data=it)))),(it=Ki?xR(s,l):ER(s,l))&&(lt=zh(Z,"onBeforeInput"),0<lt.length&&(Ie=new zs("onBeforeInput","beforeinput",null,l,ae),de.push({event:Ie,listeners:lt}),Ie.data=it)),h2(de,s,Z,l,ae)}GE(de,o)})}function Nu(s,o,l){return{instance:s,listener:o,currentTarget:l}}function zh(s,o){for(var l=o+"Capture",d=[];s!==null;){var _=s,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=ms(s,l),_!=null&&d.unshift(Nu(s,_,x)),_=ms(s,o),_!=null&&d.push(Nu(s,_,x))),s.tag===3)return d;s=s.return}return[]}function g2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $E(s,o,l,d,_){for(var x=o._reactName,S=[];l!==null&&l!==d;){var k=l,B=k.alternate,Z=k.stateNode;if(k=k.tag,B!==null&&B===d)break;k!==5&&k!==26&&k!==27||Z===null||(B=Z,_?(Z=ms(l,x),Z!=null&&S.unshift(Nu(l,Z,B))):_||(Z=ms(l,x),Z!=null&&S.push(Nu(l,Z,B)))),l=l.return}S.length!==0&&s.push({event:o,listeners:S})}var y2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function KE(s){return(typeof s=="string"?s:""+s).replace(y2,`
`).replace(v2,"")}function YE(s,o){return o=KE(o),KE(s)===o}function Rt(s,o,l,d,_,x){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||pi(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&pi(s,""+d);break;case"className":Ci(s,"class",d);break;case"tabIndex":Ci(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(s,l,d);break;case"style":$c(s,d,x);break;case"data":if(o!=="object"){Ci(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=tl(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(o!=="input"&&Rt(s,o,"name",_.name,_,null),Rt(s,o,"formEncType",_.formEncType,_,null),Rt(s,o,"formMethod",_.formMethod,_,null),Rt(s,o,"formTarget",_.formTarget,_,null)):(Rt(s,o,"encType",_.encType,_,null),Rt(s,o,"method",_.method,_,null),Rt(s,o,"target",_.target,_,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=tl(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=fs);break;case"onScroll":d!=null&&rt("scroll",s);break;case"onScrollEnd":d!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=tl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":rt("beforetoggle",s),rt("toggle",s),Xa(s,"popover",d);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Xa(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zd.get(l)||l,Xa(s,l,d))}}function Ug(s,o,l,d,_,x){switch(l){case"style":$c(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof d=="string"?pi(s,d):(typeof d=="number"||typeof d=="bigint")&&pi(s,""+d);break;case"onScroll":d!=null&&rt("scroll",s);break;case"onScrollEnd":d!=null&&rt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(_=l.endsWith("Capture"),o=l.slice(2,_?l.length-7:void 0),x=s[rn]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(o,x,_),typeof d=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,d,_);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):Xa(s,l,d)}}}function qn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var d=!1,_=!1,x;for(x in l)if(l.hasOwnProperty(x)){var S=l[x];if(S!=null)switch(x){case"src":d=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Rt(s,o,x,S,l,null)}}_&&Rt(s,o,"srcSet",l.srcSet,l,null),d&&Rt(s,o,"src",l.src,l,null);return;case"input":rt("invalid",s);var k=x=S=_=null,B=null,Z=null;for(d in l)if(l.hasOwnProperty(d)){var ae=l[d];if(ae!=null)switch(d){case"name":_=ae;break;case"type":S=ae;break;case"checked":B=ae;break;case"defaultChecked":Z=ae;break;case"value":x=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,o));break;default:Rt(s,o,d,ae,l,null)}}Hd(s,x,k,B,Z,S,_,!1);return;case"select":rt("invalid",s),d=S=x=null;for(_ in l)if(l.hasOwnProperty(_)&&(k=l[_],k!=null))switch(_){case"value":x=k;break;case"defaultValue":S=k;break;case"multiple":d=k;default:Rt(s,o,_,k,l,null)}o=x,l=S,s.multiple=!!d,o!=null?Zr(s,!!d,o,!1):l!=null&&Zr(s,!!d,l,!0);return;case"textarea":rt("invalid",s),x=_=d=null;for(S in l)if(l.hasOwnProperty(S)&&(k=l[S],k!=null))switch(S){case"value":d=k;break;case"defaultValue":_=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Rt(s,o,S,k,l,null)}eo(s,d,_,x);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(d=l[B],d!=null))switch(B){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Rt(s,o,B,d,l,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(d=0;d<Au.length;d++)rt(Au[d],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Rt(s,o,Z,d,l,null)}return;default:if(el(o)){for(ae in l)l.hasOwnProperty(ae)&&(d=l[ae],d!==void 0&&Ug(s,o,ae,d,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(d=l[k],d!=null&&Rt(s,o,k,d,l,null))}function _2(s,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,S=null,k=null,B=null,Z=null,ae=null;for(se in l){var de=l[se];if(l.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":B=de;default:d.hasOwnProperty(se)||Rt(s,o,se,null,d,de)}}for(var te in d){var se=d[te];if(de=l[te],d.hasOwnProperty(te)&&(se!=null||de!=null))switch(te){case"type":x=se;break;case"name":_=se;break;case"checked":Z=se;break;case"defaultChecked":ae=se;break;case"value":S=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,o));break;default:se!==de&&Rt(s,o,te,se,d,de)}}Za(s,S,k,B,Z,ae,x,_);return;case"select":se=S=k=te=null;for(x in l)if(B=l[x],l.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":se=B;default:d.hasOwnProperty(x)||Rt(s,o,x,null,d,B)}for(_ in d)if(x=d[_],B=l[_],d.hasOwnProperty(_)&&(x!=null||B!=null))switch(_){case"value":te=x;break;case"defaultValue":k=x;break;case"multiple":S=x;default:x!==B&&Rt(s,o,_,x,d,B)}o=k,l=S,d=se,te!=null?Zr(s,!!l,te,!1):!!d!=!!l&&(o!=null?Zr(s,!!l,o,!0):Zr(s,!!l,l?[]:"",!1));return;case"textarea":se=te=null;for(k in l)if(_=l[k],l.hasOwnProperty(k)&&_!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Rt(s,o,k,null,d,_)}for(S in d)if(_=d[S],x=l[S],d.hasOwnProperty(S)&&(_!=null||x!=null))switch(S){case"value":te=_;break;case"defaultValue":se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==x&&Rt(s,o,S,_,d,x)}Bd(s,te,se);return;case"option":for(var Ae in l)if(te=l[Ae],l.hasOwnProperty(Ae)&&te!=null&&!d.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:Rt(s,o,Ae,null,d,te)}for(B in d)if(te=d[B],se=l[B],d.hasOwnProperty(B)&&te!==se&&(te!=null||se!=null))switch(B){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Rt(s,o,B,te,d,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in l)te=l[qe],l.hasOwnProperty(qe)&&te!=null&&!d.hasOwnProperty(qe)&&Rt(s,o,qe,null,d,te);for(Z in d)if(te=d[Z],se=l[Z],d.hasOwnProperty(Z)&&te!==se&&(te!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:Rt(s,o,Z,te,d,se)}return;default:if(el(o)){for(var Dt in l)te=l[Dt],l.hasOwnProperty(Dt)&&te!==void 0&&!d.hasOwnProperty(Dt)&&Ug(s,o,Dt,void 0,d,te);for(ae in d)te=d[ae],se=l[ae],!d.hasOwnProperty(ae)||te===se||te===void 0&&se===void 0||Ug(s,o,ae,te,d,se);return}}for(var J in l)te=l[J],l.hasOwnProperty(J)&&te!=null&&!d.hasOwnProperty(J)&&Rt(s,o,J,null,d,te);for(de in d)te=d[de],se=l[de],!d.hasOwnProperty(de)||te===se||te==null&&se==null||Rt(s,o,de,te,d,se)}function JE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var _=l[d],x=_.transferSize,S=_.initiatorType,k=_.duration;if(x&&k&&JE(S)){for(S=0,k=_.responseEnd,d+=1;d<l.length;d++){var B=l[d],Z=B.startTime;if(Z>k)break;var ae=B.transferSize,de=B.initiatorType;ae&&JE(de)&&(B=B.responseEnd,S+=ae*(B<k?1:(k-Z)/(B-Z)))}if(--d,o+=8*(x+S)/(_.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Vg=null,Og=null;function $h(s){return s.nodeType===9?s:s.ownerDocument}function WE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function jg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fg=null;function E2(){var s=window.event;return s&&s.type==="popstate"?s===Fg?!1:(Fg=s,!0):(Fg=null,!1)}var XE=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(s){return ZE.resolve(null).then(s).catch(b2)}:XE;function b2(s){setTimeout(function(){throw s})}function bo(s){return s==="head"}function eT(s,o){var l=o,d=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"||l==="/&"){if(d===0){s.removeChild(_),Ll(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Iu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Iu(l);for(var x=l.firstChild;x;){var S=x.nextSibling,k=x.nodeName;x[fi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=S}}else l==="body"&&Iu(s.ownerDocument.body);l=_}while(l);Ll(o)}function tT(s,o){var l=s;s=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=d}while(l)}function qg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Ii(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function S2(s,o,l,d){for(;s.nodeType===1;){var _=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[fi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=es(s.nextSibling),s===null)break}return null}function A2(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=es(s.nextSibling),s===null))return null;return s}function nT(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=es(s.nextSibling),s===null))return null;return s}function Hg(s){return s.data==="$?"||s.data==="$~"}function Bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function N2(s,o){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function es(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Gg=null;function iT(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(o===0)return es(s.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}s=s.nextSibling}return null}function sT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return s;o--}else l!=="/$"&&l!=="/&"||o++}s=s.previousSibling}return null}function rT(s,o,l){switch(o=$h(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Iu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ii(s)}var ts=new Map,oT=new Set;function Kh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var br=ce.d;ce.d={f:I2,r:C2,D:R2,C:D2,L:M2,m:k2,X:L2,S:P2,M:U2};function I2(){var s=br.f(),o=Oh();return s||o}function C2(s){var o=Ye(s);o!==null&&o.tag===5&&o.type==="form"?wx(o):br.r(s)}var Ml=typeof document>"u"?null:document;function aT(s,o,l){var d=Ml;if(d&&typeof o=="string"&&o){var _=mi(o);_='link[rel="'+s+'"][href="'+_+'"]',typeof l=="string"&&(_+='[crossorigin="'+l+'"]'),oT.has(_)||(oT.add(_),s={rel:s,crossOrigin:l,href:o},d.querySelector(_)===null&&(o=d.createElement("link"),qn(o,"link",s),Ft(o),d.head.appendChild(o)))}}function R2(s){br.D(s),aT("dns-prefetch",s,null)}function D2(s,o){br.C(s,o),aT("preconnect",s,o)}function M2(s,o,l){br.L(s,o,l);var d=Ml;if(d&&s&&o){var _='link[rel="preload"][as="'+mi(o)+'"]';o==="image"&&l&&l.imageSrcSet?(_+='[imagesrcset="'+mi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(_+='[imagesizes="'+mi(l.imageSizes)+'"]')):_+='[href="'+mi(s)+'"]';var x=_;switch(o){case"style":x=kl(s);break;case"script":x=Pl(s)}ts.has(x)||(s=E({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ts.set(x,s),d.querySelector(_)!==null||o==="style"&&d.querySelector(Cu(x))||o==="script"&&d.querySelector(Ru(x))||(o=d.createElement("link"),qn(o,"link",s),Ft(o),d.head.appendChild(o)))}}function k2(s,o){br.m(s,o);var l=Ml;if(l&&s){var d=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+mi(d)+'"][href="'+mi(s)+'"]',x=_;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Pl(s)}if(!ts.has(x)&&(s=E({rel:"modulepreload",href:s},o),ts.set(x,s),l.querySelector(_)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ru(x)))return}d=l.createElement("link"),qn(d,"link",s),Ft(d),l.head.appendChild(d)}}}function P2(s,o,l){br.S(s,o,l);var d=Ml;if(d&&s){var _=jt(d).hoistableStyles,x=kl(s);o=o||"default";var S=_.get(x);if(!S){var k={loading:0,preload:null};if(S=d.querySelector(Cu(x)))k.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ts.get(x))&&zg(s,l);var B=S=d.createElement("link");Ft(B),qn(B,"link",s),B._p=new Promise(function(Z,ae){B.onload=Z,B.onerror=ae}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Yh(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:k},_.set(x,S)}}}function L2(s,o){br.X(s,o);var l=Ml;if(l&&s){var d=jt(l).hoistableScripts,_=Pl(s),x=d.get(_);x||(x=l.querySelector(Ru(_)),x||(s=E({src:s,async:!0},o),(o=ts.get(_))&&$g(s,o),x=l.createElement("script"),Ft(x),qn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(_,x))}}function U2(s,o){br.M(s,o);var l=Ml;if(l&&s){var d=jt(l).hoistableScripts,_=Pl(s),x=d.get(_);x||(x=l.querySelector(Ru(_)),x||(s=E({src:s,async:!0,type:"module"},o),(o=ts.get(_))&&$g(s,o),x=l.createElement("script"),Ft(x),qn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(_,x))}}function lT(s,o,l,d){var _=(_=Fe.current)?Kh(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=kl(l.href),l=jt(_).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=kl(l.href);var x=jt(_).hoistableStyles,S=x.get(s);if(S||(_=_.ownerDocument||_,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,S),(x=_.querySelector(Cu(s)))&&!x._p&&(S.instance=x,S.state.loading=5),ts.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ts.set(s,l),x||V2(_,s,l,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pl(l),l=jt(_).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function kl(s){return'href="'+mi(s)+'"'}function Cu(s){return'link[rel="stylesheet"]['+s+"]"}function cT(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function V2(s,o,l,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),qn(o,"link",l),Ft(o),s.head.appendChild(o))}function Pl(s){return'[src="'+mi(s)+'"]'}function Ru(s){return"script[async]"+s}function uT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+mi(l.href)+'"]');if(d)return o.instance=d,Ft(d),d;var _=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Ft(d),qn(d,"style",_),Yh(d,l.precedence,s),o.instance=d;case"stylesheet":_=kl(l.href);var x=s.querySelector(Cu(_));if(x)return o.state.loading|=4,o.instance=x,Ft(x),x;d=cT(l),(_=ts.get(_))&&zg(d,_),x=(s.ownerDocument||s).createElement("link"),Ft(x);var S=x;return S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),qn(x,"link",d),o.state.loading|=4,Yh(x,l.precedence,s),o.instance=x;case"script":return x=Pl(l.src),(_=s.querySelector(Ru(x)))?(o.instance=_,Ft(_),_):(d=l,(_=ts.get(x))&&(d=E({},l),$g(d,_)),s=s.ownerDocument||s,_=s.createElement("script"),Ft(_),qn(_,"link",d),s.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Yh(d,l.precedence,s));return o.instance}function Yh(s,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=d.length?d[d.length-1]:null,x=_,S=0;S<d.length;S++){var k=d[S];if(k.dataset.precedence===o)x=k;else if(x!==_)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function zg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function $g(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Jh=null;function dT(s,o,l){if(Jh===null){var d=new Map,_=Jh=new Map;_.set(l,d)}else _=Jh,d=_.get(l),d||(d=new Map,_.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),_=0;_<l.length;_++){var x=l[_];if(!(x[fi]||x[kt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(o)||"";S=s+S;var k=d.get(S);k?k.push(x):d.set(S,[x])}}return d}function hT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function O2(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function j2(s,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=kl(d.href),x=o.querySelector(Cu(_));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Wh.bind(s),o.then(s,s)),l.state.loading|=4,l.instance=x,Ft(x);return}x=o.ownerDocument||o,d=cT(d),(_=ts.get(_))&&zg(d,_),x=x.createElement("link"),Ft(x);var S=x;S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),qn(x,"link",d),l.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Wh.bind(s),o.addEventListener("load",l),o.addEventListener("error",l))}}var Kg=0;function F2(s,o){return s.stylesheets&&s.count===0&&Xh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var d=setTimeout(function(){if(s.stylesheets&&Xh(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&Kg===0&&(Kg=62500*x2());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xh(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>Kg?50:800)+o);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(_)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qh=null;function Xh(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qh=new Map,o.forEach(q2,s),Qh=null,Wh.call(s))}function q2(s,o){if(!(o.state.loading&4)){var l=Qh.get(s);if(l)var d=l.get(null);else{l=new Map,Qh.set(s,l);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var S=_[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),d=S)}d&&l.set(null,d)}_=o.instance,S=_.getAttribute("data-precedence"),x=l.get(S)||d,x===d&&l.set(null,_),l.set(S,_),this.count++,d=Wh.bind(this),_.addEventListener("load",d),_.addEventListener("error",d),x?x.parentNode.insertBefore(_,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),o.state.loading|=4}}var Du={$$typeof:z,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function H2(s,o,l,d,_,x,S,k,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=d,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function mT(s,o,l,d,_,x,S,k,B,Z,ae,de){return s=new H2(s,o,l,S,B,Z,ae,de,k),o=1,x===!0&&(o|=24),x=Di(3,null,null,o),s.current=x,x.stateNode=s,o=Ap(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:o},Rp(x),s}function pT(s){return s?(s=dl,s):dl}function gT(s,o,l,d,_,x){_=pT(_),d.context===null?d.context=_:d.pendingContext=_,d=fo(o),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=mo(s,d,o),l!==null&&(xi(l,s,o),cu(l,s,o))}function yT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Yg(s,o){yT(s,o),(s=s.alternate)&&yT(s,o)}function vT(s){if(s.tag===13||s.tag===31){var o=Ta(s,67108864);o!==null&&xi(o,s,67108864),Yg(s,67108864)}}function _T(s){if(s.tag===13||s.tag===31){var o=Ui();o=ze(o);var l=Ta(s,o);l!==null&&xi(l,s,o),Yg(s,o)}}var Zh=!0;function B2(s,o,l,d){var _=W.T;W.T=null;var x=ce.p;try{ce.p=2,Jg(s,o,l,d)}finally{ce.p=x,W.T=_}}function G2(s,o,l,d){var _=W.T;W.T=null;var x=ce.p;try{ce.p=8,Jg(s,o,l,d)}finally{ce.p=x,W.T=_}}function Jg(s,o,l,d){if(Zh){var _=Wg(d);if(_===null)Lg(s,o,d,ef,l),ET(s,d);else if($2(_,s,o,l,d))d.stopPropagation();else if(ET(s,d),o&4&&-1<z2.indexOf(s)){for(;_!==null;){var x=Ye(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=Y(x.pendingLanes);if(S!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var B=1<<31-$t(S);k.entanglements[1]|=B,S&=~B}Ws(x),(Et&6)===0&&(Uh=Me()+500,Su(0))}}break;case 31:case 13:k=Ta(x,2),k!==null&&xi(k,x,2),Oh(),Yg(x,2)}if(x=Wg(d),x===null&&Lg(s,o,d,ef,l),x===_)break;_=x}_!==null&&d.stopPropagation()}else Lg(s,o,d,null,l)}}function Wg(s){return s=zi(s),Qg(s)}var ef=null;function Qg(s){if(ef=null,s=ii(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=c(o),s!==null)return s;s=null}else if(l===31){if(s=h(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return ef=s,null}function xT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case Kn:return 2;case Yn:return 8;case hi:case ti:return 32;case Ai:return 268435456;default:return 32}default:return 32}}var Xg=!1,So=null,Ao=null,No=null,Mu=new Map,ku=new Map,Io=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ET(s,o){switch(s){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Mu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(o.pointerId)}}function Pu(s,o,l,d,_,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[_]},o!==null&&(o=Ye(o),o!==null&&vT(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),s)}function $2(s,o,l,d,_){switch(o){case"focusin":return So=Pu(So,s,o,l,d,_),!0;case"dragenter":return Ao=Pu(Ao,s,o,l,d,_),!0;case"mouseover":return No=Pu(No,s,o,l,d,_),!0;case"pointerover":var x=_.pointerId;return Mu.set(x,Pu(Mu.get(x)||null,s,o,l,d,_)),!0;case"gotpointercapture":return x=_.pointerId,ku.set(x,Pu(ku.get(x)||null,s,o,l,d,_)),!0}return!1}function TT(s){var o=ii(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){s.blockedOn=o,Ot(s.priority,function(){_T(l)});return}}else if(o===31){if(o=h(l),o!==null){s.blockedOn=o,Ot(s.priority,function(){_T(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Wg(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Kc=d,l.target.dispatchEvent(d),Kc=null}else return o=Ye(l),o!==null&&vT(o),s.blockedOn=l,!1;o.shift()}return!0}function wT(s,o,l){tf(s)&&l.delete(o)}function K2(){Xg=!1,So!==null&&tf(So)&&(So=null),Ao!==null&&tf(Ao)&&(Ao=null),No!==null&&tf(No)&&(No=null),Mu.forEach(wT),ku.forEach(wT)}function nf(s,o){s.blockedOn===o&&(s.blockedOn=null,Xg||(Xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,K2)))}var sf=null;function bT(s){sf!==s&&(sf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sf===s&&(sf=null);for(var o=0;o<s.length;o+=3){var l=s[o],d=s[o+1],_=s[o+2];if(typeof d!="function"){if(Qg(d||l)===null)continue;break}var x=Ye(l);x!==null&&(s.splice(o,3),o-=3,Wp(x,{pending:!0,data:_,method:l.method,action:d},d,_))}}))}function Ll(s){function o(B){return nf(B,s)}So!==null&&nf(So,s),Ao!==null&&nf(Ao,s),No!==null&&nf(No,s),Mu.forEach(o),ku.forEach(o);for(var l=0;l<Io.length;l++){var d=Io[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Io.length&&(l=Io[0],l.blockedOn===null);)TT(l),l.blockedOn===null&&Io.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var _=l[d],x=l[d+1],S=_[rn]||null;if(typeof x=="function")S||bT(l);else if(S){var k=null;if(x&&x.hasAttribute("formAction")){if(_=x,S=x[rn]||null)k=S.formAction;else if(Qg(_)!==null)continue}else k=S.action;typeof k=="function"?l[d+1]=k:(l.splice(d,3),d-=3),bT(l)}}}function ST(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(S){return _=S})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Zg(s){this._internalRoot=s}rf.prototype.render=Zg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,d=Ui();gT(l,d,s,o,null,null)},rf.prototype.unmount=Zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;gT(s.current,2,null,s,null,null),Oh(),o[Un]=null}};function rf(s){this._internalRoot=s}rf.prototype.unstable_scheduleHydration=function(s){if(s){var o=sn();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Io.length&&o!==0&&o<Io[l].priority;l++);Io.splice(l,0,s),l===0&&TT(s)}};var AT=e.version;if(AT!=="19.2.3")throw Error(i(527,AT,"19.2.3"));ce.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Y2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Jn=of.inject(Y2),tn=of}catch{}}return Uu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,d="",_=kx,x=Px,S=Lx;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=mT(s,1,!1,null,null,l,d,null,_,x,S,ST),s[Un]=o.current,Pg(s),new Zg(o)},Uu.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var d=!1,_="",x=kx,S=Px,k=Lx,B=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),o=mT(s,1,!0,o,l??null,d,_,B,x,S,k,ST),o.context=pT(null),l=o.current,d=Ui(),d=ze(d),_=fo(d),_.callback=null,mo(l,_,d),l=d,o.current.lanes=l,Pe(o,l),Ws(o),s[Un]=o.current,Pg(s),new rf(o)},Uu.version="19.2.3",Uu}var UT;function iD(){if(UT)return ny.exports;UT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ny.exports=nD(),ny.exports}var sD=iD();const rD=Ev(sD);var AA=SA();const oD=Ev(AA),aD=wA({__proto__:null,default:oD},[AA]);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wt(){return Wt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wt.apply(this,arguments)}var Vt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Vt||(Vt={}));const VT="popstate";function NA(n){n===void 0&&(n={});let{initialEntries:e=["/"],initialIndex:t,v5Compat:i=!1}=n,r;r=e.map((b,I)=>g(b,typeof b=="string"?null:b.state,I===0?"default":void 0));let a=m(t??r.length-1),c=Vt.Pop,h=null;function m(b){return Math.min(Math.max(b,0),r.length-1)}function f(){return r[a]}function g(b,I,L){I===void 0&&(I=null);let M=Ba(r?f().pathname:"/",b,I,L);return Mr(M.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(b)),M}function E(b){return typeof b=="string"?b:Ns(b)}return{get index(){return a},get action(){return c},get location(){return f()},createHref:E,createURL(b){return new URL(E(b),"http://localhost")},encodeLocation(b){let I=typeof b=="string"?us(b):b;return{pathname:I.pathname||"",search:I.search||"",hash:I.hash||""}},push(b,I){c=Vt.Push;let L=g(b,I);a+=1,r.splice(a,r.length,L),i&&h&&h({action:c,location:L,delta:1})},replace(b,I){c=Vt.Replace;let L=g(b,I);r[a]=L,i&&h&&h({action:c,location:L,delta:0})},go(b){c=Vt.Pop;let I=m(a+b),L=r[I];a=I,h&&h({action:c,location:L,delta:b})},listen(b){return h=b,()=>{h=null}}}}function IA(n){n===void 0&&(n={});function e(i,r){let{pathname:a,search:c,hash:h}=i.location;return Ba("",{pathname:a,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Ns(r)}return RA(e,t,null,n)}function CA(n){n===void 0&&(n={});function e(r,a){let{pathname:c="/",search:h="",hash:m=""}=us(r.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ba("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=r.location.href,f=m.indexOf("#");h=f===-1?m:m.slice(0,f)}return h+"#"+(typeof a=="string"?a:Ns(a))}function i(r,a){Mr(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return RA(e,t,i,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lD(){return Math.random().toString(36).substr(2,8)}function OT(n,e){return{usr:n.state,key:n.key,idx:e}}function Ba(n,e,t,i){return t===void 0&&(t=null),Wt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?us(e):e,{state:t,key:e&&e.key||i||lD()})}function Ns(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function us(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function RA(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,c=r.history,h=Vt.Pop,m=null,f=g();f==null&&(f=0,c.replaceState(Wt({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function E(){h=Vt.Pop;let M=g(),j=M==null?null:M-f;f=M,m&&m({action:h,location:L.location,delta:j})}function T(M,j){h=Vt.Push;let H=Ba(L.location,M,j);t&&t(H,M),f=g()+1;let z=OT(H,f),ne=L.createHref(H);try{c.pushState(z,"",ne)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;r.location.assign(ne)}a&&m&&m({action:h,location:L.location,delta:1})}function b(M,j){h=Vt.Replace;let H=Ba(L.location,M,j);t&&t(H,M),f=g();let z=OT(H,f),ne=L.createHref(H);c.replaceState(z,"",ne),a&&m&&m({action:h,location:L.location,delta:0})}function I(M){let j=r.location.origin!=="null"?r.location.origin:r.location.href,H=typeof M=="string"?M:Ns(M);return H=H.replace(/ $/,"%20"),Ve(j,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,j)}let L={get action(){return h},get location(){return n(r,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(VT,E),m=M,()=>{r.removeEventListener(VT,E),m=null}},createHref(M){return e(r,M)},createURL:I,encodeLocation(M){let j=I(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:b,go(M){return c.go(M)}};return L}var ln;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ln||(ln={}));const cD=new Set(["lazy","caseSensitive","path","id","index","children"]);function uD(n){return n.index===!0}function Ry(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,a)=>{let c=[...t,a],h=typeof r.id=="string"?r.id:c.join("-");if(Ve(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ve(!i[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),uD(r)){let m=Wt({},r,e(r),{id:h});return i[h]=m,m}else{let m=Wt({},r,e(r),{id:h,children:void 0});return i[h]=m,r.children&&(m.children=Ry(r.children,e,c,i)),m}})}function Va(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?us(e):e,r=wi(i.pathname||"/",t);if(r==null)return null;let a=MA(n);dD(a);let c=null;for(let h=0;c==null&&h<a.length;++h){let m=wD(r);c=xD(a[h],m)}return c}function DA(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function MA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(a,c,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(Ve(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let f=Zs([i,m.relativePath]),g=t.concat(m);a.children&&a.children.length>0&&(Ve(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),MA(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:vD(f,a.index),routesMeta:g})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))r(a,c);else for(let m of kA(a.path))r(a,c,m)}),e}function kA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let c=kA(i.join("/")),h=[];return h.push(...c.map(m=>m===""?a:[a,m].join("/"))),r&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function dD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_D(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const hD=/^:[\w-]+$/,fD=3,mD=2,pD=1,gD=10,yD=-2,jT=n=>n==="*";function vD(n,e){let t=n.split("/"),i=t.length;return t.some(jT)&&(i+=yD),e&&(i+=mD),t.filter(r=>!jT(r)).reduce((r,a)=>r+(hD.test(a)?fD:a===""?pD:gD),i)}function _D(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function xD(n,e){let{routesMeta:t}=n,i={},r="/",a=[];for(let c=0;c<t.length;++c){let h=t[c],m=c===t.length-1,f=r==="/"?e:e.slice(r.length)||"/",g=cd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},f);if(!g)return null;Object.assign(i,g.params);let E=h.route;a.push({params:i,pathname:Zs([r,g.pathname]),pathnameBase:SD(Zs([r,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(r=Zs([r,g.pathnameBase]))}return a}function ED(n,e){e===void 0&&(e={});let t=n;t.endsWith("*")&&t!=="*"&&!t.endsWith("/*")&&(Mr(!1,'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".')),t=t.replace(/\*$/,"/*"));const i=t.startsWith("/")?"/":"",r=c=>c==null?"":typeof c=="string"?c:String(c),a=t.split(/\/+/).map((c,h,m)=>{if(h===m.length-1&&c==="*")return r(e["*"]);const g=c.match(/^:([\w-]+)(\??)$/);if(g){const[,E,T]=g;let b=e[E];return Ve(T==="?"||b!=null,'Missing ":'+E+'" param'),r(b)}return c.replace(/\?$/g,"")}).filter(c=>!!c);return i+a.join("/")}function cd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=TD(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],c=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((f,g,E)=>{let{paramName:T,isOptional:b}=g;if(T==="*"){let L=h[E]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const I=h[E];return b&&!I?f[T]=void 0:f[T]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:n}}function TD(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function wD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function PA(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?us(n):n;return{pathname:t?t.startsWith("/")?t:bD(t,e):e,search:AD(i),hash:ND(r)}}function bD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function oy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dm(n,e){let t=LA(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function hm(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=us(n):(r=Wt({},n),Ve(!r.pathname||!r.pathname.includes("?"),oy("?","pathname","search",r)),Ve(!r.pathname||!r.pathname.includes("#"),oy("#","pathname","hash",r)),Ve(!r.search||!r.search.includes("#"),oy("#","search","hash",r)));let a=n===""||r.pathname==="",c=a?"/":r.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;r.pathname=T.join("/")}h=E>=0?e[E]:"/"}let m=PA(r,h),f=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}const Zs=n=>n.join("/").replace(/\/\/+/g,"/"),SD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ND=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ID=function(e,t){t===void 0&&(t={});let i=typeof t=="number"?{status:t}:t,r=new Headers(i.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),Wt({},i,{headers:r}))};class Lf extends Error{}class CD{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Ve(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((a,c)=>i=c),this.controller=new AbortController;let r=()=>i(new Lf("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((a,c)=>{let[h,m]=c;return Object.assign(a,{[h]:this.trackPromise(h,m)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(r=>this.onSettle(i,e,void 0,r),r=>this.onSettle(i,e,r));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,r){if(this.controller.signal.aborted&&i instanceof Lf)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i===void 0&&r===void 0){let a=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>a}),this.emit(!1,t),Promise.reject(a)}return r===void 0?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r)}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(r=>{this.subscribe(a=>{e.removeEventListener("abort",i),(a||this.done)&&r(a)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Ve(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,r]=t;return Object.assign(e,{[i]:DD(r)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function RD(n){return n instanceof Promise&&n._tracked===!0}function DD(n){if(!RD(n))return n;if(n._error)throw n._error;return n._data}const MD=function(e,t){t===void 0&&(t={});let i=typeof t=="number"?{status:t}:t;return new CD(e,i)},UA=function(e,t){t===void 0&&(t=302);let i=t;typeof i=="number"?i={status:i}:typeof i.status>"u"&&(i.status=302);let r=new Headers(i.headers);return r.set("Location",e),new Response(null,Wt({},i,{headers:r}))},kD=(n,e)=>{let t=UA(n,e);return t.headers.set("X-Remix-Reload-Document","true"),t};class bv{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Sv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const VA=["post","put","patch","delete"],PD=new Set(VA),LD=["get",...VA],UD=new Set(LD),VD=new Set([301,302,303,307,308]),OD=new Set([307,308]),ay={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ol={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),FA="remix-router-transitions";function Av(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Ve(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let Y=n.detectErrorBoundary;r=ee=>({hasErrorBoundary:Y(ee)})}else r=jD;let a={},c=Ry(n.routes,r,void 0,a),h,m=n.basename||"/",f=Wt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),g=null,E=new Set,T=null,b=null,I=null,L=n.hydrationData!=null,M=Va(c,n.history.location,m),j=null;if(M==null){let Y=ss(404,{pathname:n.history.location.pathname}),{matches:ee,route:re}=KT(c);M=ee,j={[re.id]:Y}}let H,z=M.some(Y=>Y.route.lazy),ne=M.some(Y=>Y.route.loader);if(z)H=!1;else if(!ne)H=!0;else if(f.v7_partialHydration){let Y=n.hydrationData?n.hydrationData.loaderData:null,ee=n.hydrationData?n.hydrationData.errors:null,re=ge=>ge.route.loader?ge.route.loader.hydrate===!0?!1:Y&&Y[ge.route.id]!==void 0||ee&&ee[ge.route.id]!==void 0:!0;if(ee){let ge=M.findIndex(Se=>ee[Se.route.id]!==void 0);H=M.slice(0,ge+1).every(re)}else H=M.every(re)}else H=n.hydrationData!=null;let oe,q={historyAction:n.history.action,location:n.history.location,matches:M,initialized:H,navigation:ay,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},R=Vt.Pop,C=!1,N,P=!1,D=new Map,F=null,V=!1,xe=!1,Ce=[],W=[],ce=new Map,Ee=0,He=-1,Le=new Map,G=new Set,$=new Map,me=new Map,ye=new Set,Re=new Map,Fe=new Map,tt=!1;function Qt(){if(g=n.history.listen(Y=>{let{action:ee,location:re,delta:ge}=Y;if(tt){tt=!1;return}Mr(Fe.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=$t({currentLocation:q.location,nextLocation:re,historyAction:ee});if(Se&&ge!=null){tt=!0,n.history.go(ge*-1),Ln(Se,{state:"blocked",location:re,proceed(){Ln(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),n.history.go(ge)},reset(){let Be=new Map(q.blockers);Be.set(Se,Ol),en({blockers:Be})}});return}return $n(ee,re)}),t){WD(e,D);let Y=()=>QD(e,D);e.addEventListener("pagehide",Y),F=()=>e.removeEventListener("pagehide",Y)}return q.initialized||$n(Vt.Pop,q.location,{initialHydration:!0}),oe}function Qe(){g&&g(),F&&F(),E.clear(),N&&N.abort(),q.fetchers.forEach((Y,ee)=>Yn(ee)),q.blockers.forEach((Y,ee)=>tn(ee))}function ds(Y){return E.add(Y),()=>E.delete(Y)}function en(Y,ee){ee===void 0&&(ee={}),q=Wt({},q,Y);let re=[],ge=[];f.v7_fetcherPersist&&q.fetchers.forEach((Se,Be)=>{Se.state==="idle"&&(ye.has(Be)?ge.push(Be):re.push(Be))}),[...E].forEach(Se=>Se(q,{deletedFetchers:ge,unstable_viewTransitionOpts:ee.viewTransitionOpts,unstable_flushSync:ee.flushSync===!0})),f.v7_fetcherPersist&&(re.forEach(Se=>q.fetchers.delete(Se)),ge.forEach(Se=>Yn(Se)))}function ui(Y,ee,re){var ge,Se;let{flushSync:Be}=re===void 0?{}:re,Pe=q.actionData!=null&&q.navigation.formMethod!=null&&Es(q.navigation.formMethod)&&q.navigation.state==="loading"&&((ge=Y.state)==null?void 0:ge._isRedirect)!==!0,Ue;ee.actionData?Object.keys(ee.actionData).length>0?Ue=ee.actionData:Ue=null:Pe?Ue=q.actionData:Ue=null;let Ne=ee.loaderData?$T(q.loaderData,ee.loaderData,ee.matches||[],ee.errors):q.loaderData,nt=q.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((ot,sn)=>nt.set(sn,Ol)));let Kt=C===!0||q.navigation.formMethod!=null&&Es(q.navigation.formMethod)&&((Se=Y.state)==null?void 0:Se._isRedirect)!==!0;h&&(c=h,h=void 0),V||R===Vt.Pop||(R===Vt.Push?n.history.push(Y,Y.state):R===Vt.Replace&&n.history.replace(Y,Y.state));let ze;if(R===Vt.Pop){let ot=D.get(q.location.pathname);ot&&ot.has(Y.pathname)?ze={currentLocation:q.location,nextLocation:Y}:D.has(Y.pathname)&&(ze={currentLocation:Y,nextLocation:q.location})}else if(P){let ot=D.get(q.location.pathname);ot?ot.add(Y.pathname):(ot=new Set([Y.pathname]),D.set(q.location.pathname,ot)),ze={currentLocation:q.location,nextLocation:Y}}en(Wt({},ee,{actionData:Ue,loaderData:Ne,historyAction:R,location:Y,initialized:!0,navigation:ay,revalidation:"idle",restoreScrollPosition:Us(Y,ee.matches||q.matches),preventScrollReset:Kt,blockers:nt}),{viewTransitionOpts:ze,flushSync:Be===!0}),R=Vt.Pop,C=!1,P=!1,V=!1,xe=!1,Ce=[],W=[]}async function Bi(Y,ee){if(typeof Y=="number"){n.history.go(Y);return}let re=Dy(q.location,q.matches,m,f.v7_prependBasename,Y,f.v7_relativeSplatPath,ee==null?void 0:ee.fromRouteId,ee==null?void 0:ee.relative),{path:ge,submission:Se,error:Be}=FT(f.v7_normalizeFormMethod,!1,re,ee),Pe=q.location,Ue=Ba(q.location,ge,ee&&ee.state);Ue=Wt({},Ue,n.history.encodeLocation(Ue));let Ne=ee&&ee.replace!=null?ee.replace:void 0,nt=Vt.Push;Ne===!0?nt=Vt.Replace:Ne===!1||Se!=null&&Es(Se.formMethod)&&Se.formAction===q.location.pathname+q.location.search&&(nt=Vt.Replace);let Kt=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,ze=(ee&&ee.unstable_flushSync)===!0,ot=$t({currentLocation:Pe,nextLocation:Ue,historyAction:nt});if(ot){Ln(ot,{state:"blocked",location:Ue,proceed(){Ln(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),Bi(Y,ee)},reset(){let sn=new Map(q.blockers);sn.set(ot,Ol),en({blockers:sn})}});return}return await $n(nt,Ue,{submission:Se,pendingError:Be,preventScrollReset:Kt,replace:ee&&ee.replace,enableViewTransition:ee&&ee.unstable_viewTransition,flushSync:ze})}function zn(){if(fe(),en({revalidation:"loading"}),q.navigation.state!=="submitting"){if(q.navigation.state==="idle"){$n(q.historyAction,q.location,{startUninterruptedRevalidation:!0});return}$n(R||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation})}}async function $n(Y,ee,re){N&&N.abort(),N=null,R=Y,V=(re&&re.startUninterruptedRevalidation)===!0,Gi(q.location,q.matches),C=(re&&re.preventScrollReset)===!0,P=(re&&re.enableViewTransition)===!0;let ge=h||c,Se=re&&re.overrideNavigation,Be=Va(ge,ee,m),Pe=(re&&re.flushSync)===!0;if(!Be){let sn=ss(404,{pathname:ee.pathname}),{matches:Ot,route:wt}=KT(ge);Jr(),ui(ee,{matches:Ot,loaderData:{},errors:{[wt.id]:sn}},{flushSync:Pe});return}if(q.initialized&&!xe&&GD(q.location,ee)&&!(re&&re.submission&&Es(re.submission.formMethod))){ui(ee,{matches:Be},{flushSync:Pe});return}N=new AbortController;let Ue=Ou(n.history,ee,N.signal,re&&re.submission),Ne,nt;if(re&&re.pendingError)nt={[Qu(Be).route.id]:re.pendingError};else if(re&&re.submission&&Es(re.submission.formMethod)){let sn=await di(Ue,ee,re.submission,Be,{replace:re.replace,flushSync:Pe});if(sn.shortCircuited)return;Ne=sn.pendingActionData,nt=sn.pendingActionError,Se=ly(ee,re.submission),Pe=!1,Ue=new Request(Ue.url,{signal:Ue.signal})}let{shortCircuited:Kt,loaderData:ze,errors:ot}=await Ps(Ue,ee,Be,Se,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Pe,Ne,nt);Kt||(N=null,ui(ee,Wt({matches:Be},Ne?{actionData:Ne}:{},{loaderData:ze,errors:ot})))}async function di(Y,ee,re,ge,Se){Se===void 0&&(Se={}),fe();let Be=YD(ee,re);en({navigation:Be},{flushSync:Se.flushSync===!0});let Pe,Ue=ky(ge,ee);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:ln.error,error:ss(405,{method:Y.method,pathname:ee.pathname,routeId:Ue.route.id})};else if(Pe=await Vu("action",Y,Ue,ge,a,r,m,f.v7_relativeSplatPath),Y.signal.aborted)return{shortCircuited:!0};if(ja(Pe)){let Ne;return Se&&Se.replace!=null?Ne=Se.replace:Ne=Pe.location===q.location.pathname+q.location.search,await Pn(q,Pe,{submission:re,replace:Ne}),{shortCircuited:!0}}if(zl(Pe)){let Ne=Qu(ge,Ue.route.id);return(Se&&Se.replace)!==!0&&(R=Vt.Push),{pendingActionData:{},pendingActionError:{[Ne.route.id]:Pe.error}}}if(Oa(Pe))throw ss(400,{type:"defer-action"});return{pendingActionData:{[Ue.route.id]:Pe.data}}}async function Ps(Y,ee,re,ge,Se,Be,Pe,Ue,Ne,nt,Kt){let ze=ge||ly(ee,Se),ot=Se||Be||WT(ze),sn=h||c,[Ot,wt]=qT(n.history,q,re,ot,ee,f.v7_partialHydration&&Ue===!0,xe,Ce,W,ye,$,G,sn,m,nt,Kt);if(Jr(Ye=>!(re&&re.some(Xe=>Xe.route.id===Ye))||Ot&&Ot.some(Xe=>Xe.route.id===Ye)),He=++Ee,Ot.length===0&&wt.length===0){let Ye=Ni();return ui(ee,Wt({matches:re,loaderData:{},errors:Kt||null},nt?{actionData:nt}:{},Ye?{fetchers:new Map(q.fetchers)}:{}),{flushSync:Ne}),{shortCircuited:!0}}if(!V&&(!f.v7_partialHydration||!Ue)){wt.forEach(Xe=>{let jt=q.fetchers.get(Xe.key),Ft=ju(void 0,jt?jt.data:void 0);q.fetchers.set(Xe.key,Ft)});let Ye=nt||q.actionData;en(Wt({navigation:ze},Ye?Object.keys(Ye).length===0?{actionData:null}:{actionData:Ye}:{},wt.length>0?{fetchers:new Map(q.fetchers)}:{}),{flushSync:Ne})}wt.forEach(Ye=>{ce.has(Ye.key)&&ti(Ye.key),Ye.controller&&ce.set(Ye.key,Ye.controller)});let kt=()=>wt.forEach(Ye=>ti(Ye.key));N&&N.signal.addEventListener("abort",kt);let{results:rn,loaderResults:Un,fetcherResults:ni}=await Yr(q.matches,re,Ot,wt,Y);if(Y.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",kt),wt.forEach(Ye=>ce.delete(Ye.key));let hs=YT(rn);if(hs){if(hs.idx>=Ot.length){let Ye=wt[hs.idx-Ot.length].key;G.add(Ye)}return await Pn(q,hs.result,{replace:Pe}),{shortCircuited:!0}}let{loaderData:Qr,errors:Vs}=zT(q,re,Ot,Un,Kt,wt,ni,Re);Re.forEach((Ye,Xe)=>{Ye.subscribe(jt=>{(jt||Ye.done)&&Re.delete(Xe)})}),f.v7_partialHydration&&Ue&&q.errors&&Object.entries(q.errors).filter(Ye=>{let[Xe]=Ye;return!Ot.some(jt=>jt.route.id===Xe)}).forEach(Ye=>{let[Xe,jt]=Ye;Vs=Object.assign(Vs||{},{[Xe]:jt})});let fi=Ni(),Ii=Ls(He),ii=fi||Ii||wt.length>0;return Wt({loaderData:Qr,errors:Vs},ii?{fetchers:new Map(q.fetchers)}:{})}function or(Y,ee,re,ge){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(Y)&&ti(Y);let Se=(ge&&ge.unstable_flushSync)===!0,Be=h||c,Pe=Dy(q.location,q.matches,m,f.v7_prependBasename,re,f.v7_relativeSplatPath,ee,ge==null?void 0:ge.relative),Ue=Va(Be,Pe,m);if(!Ue){pt(Y,ee,ss(404,{pathname:Pe}),{flushSync:Se});return}let{path:Ne,submission:nt,error:Kt}=FT(f.v7_normalizeFormMethod,!0,Pe,ge);if(Kt){pt(Y,ee,Kt,{flushSync:Se});return}let ze=ky(Ue,Ne);if(C=(ge&&ge.preventScrollReset)===!0,nt&&Es(nt.formMethod)){Lt(Y,ee,Ne,ze,Ue,Se,nt);return}$.set(Y,{routeId:ee,path:Ne}),Ut(Y,ee,Ne,ze,Ue,Se,nt)}async function Lt(Y,ee,re,ge,Se,Be,Pe){if(fe(),$.delete(Y),!ge.route.action&&!ge.route.lazy){let Xe=ss(405,{method:Pe.formMethod,pathname:re,routeId:ee});pt(Y,ee,Xe,{flushSync:Be});return}let Ue=q.fetchers.get(Y);Me(Y,JD(Pe,Ue),{flushSync:Be});let Ne=new AbortController,nt=Ou(n.history,re,Ne.signal,Pe);ce.set(Y,Ne);let Kt=Ee,ze=await Vu("action",nt,ge,Se,a,r,m,f.v7_relativeSplatPath);if(nt.signal.aborted){ce.get(Y)===Ne&&ce.delete(Y);return}if(f.v7_fetcherPersist&&ye.has(Y)){if(ja(ze)||zl(ze)){Me(Y,Do(void 0));return}}else{if(ja(ze))if(ce.delete(Y),He>Kt){Me(Y,Do(void 0));return}else return G.add(Y),Me(Y,ju(Pe)),Pn(q,ze,{fetcherSubmission:Pe});if(zl(ze)){pt(Y,ee,ze.error);return}}if(Oa(ze))throw ss(400,{type:"defer-action"});let ot=q.navigation.location||q.location,sn=Ou(n.history,ot,Ne.signal),Ot=h||c,wt=q.navigation.state!=="idle"?Va(Ot,q.navigation.location,m):q.matches;Ve(wt,"Didn't find any matches after fetcher action");let kt=++Ee;Le.set(Y,kt);let rn=ju(Pe,ze.data);q.fetchers.set(Y,rn);let[Un,ni]=qT(n.history,q,wt,Pe,ot,!1,xe,Ce,W,ye,$,G,Ot,m,{[ge.route.id]:ze.data},void 0);ni.filter(Xe=>Xe.key!==Y).forEach(Xe=>{let jt=Xe.key,Ft=q.fetchers.get(jt),ua=ju(void 0,Ft?Ft.data:void 0);q.fetchers.set(jt,ua),ce.has(jt)&&ti(jt),Xe.controller&&ce.set(jt,Xe.controller)}),en({fetchers:new Map(q.fetchers)});let hs=()=>ni.forEach(Xe=>ti(Xe.key));Ne.signal.addEventListener("abort",hs);let{results:Qr,loaderResults:Vs,fetcherResults:fi}=await Yr(q.matches,wt,Un,ni,sn);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",hs),Le.delete(Y),ce.delete(Y),ni.forEach(Xe=>ce.delete(Xe.key));let Ii=YT(Qr);if(Ii){if(Ii.idx>=Un.length){let Xe=ni[Ii.idx-Un.length].key;G.add(Xe)}return Pn(q,Ii.result)}let{loaderData:ii,errors:Ye}=zT(q,q.matches,Un,Vs,void 0,ni,fi,Re);if(q.fetchers.has(Y)){let Xe=Do(ze.data);q.fetchers.set(Y,Xe)}Ls(kt),q.navigation.state==="loading"&&kt>He?(Ve(R,"Expected pending action"),N&&N.abort(),ui(q.navigation.location,{matches:wt,loaderData:ii,errors:Ye,fetchers:new Map(q.fetchers)})):(en({errors:Ye,loaderData:$T(q.loaderData,ii,wt,Ye),fetchers:new Map(q.fetchers)}),xe=!1)}async function Ut(Y,ee,re,ge,Se,Be,Pe){let Ue=q.fetchers.get(Y);Me(Y,ju(Pe,Ue?Ue.data:void 0),{flushSync:Be});let Ne=new AbortController,nt=Ou(n.history,re,Ne.signal);ce.set(Y,Ne);let Kt=Ee,ze=await Vu("loader",nt,ge,Se,a,r,m,f.v7_relativeSplatPath);if(Oa(ze)&&(ze=await BA(ze,nt.signal,!0)||ze),ce.get(Y)===Ne&&ce.delete(Y),!nt.signal.aborted){if(ye.has(Y)){Me(Y,Do(void 0));return}if(ja(ze))if(He>Kt){Me(Y,Do(void 0));return}else{G.add(Y),await Pn(q,ze);return}if(zl(ze)){pt(Y,ee,ze.error);return}Ve(!Oa(ze),"Unhandled fetcher deferred data"),Me(Y,Do(ze.data))}}async function Pn(Y,ee,re){let{submission:ge,fetcherSubmission:Se,replace:Be}=re===void 0?{}:re;ee.revalidate&&(xe=!0);let Pe=Ba(Y.location,ee.location,{_isRedirect:!0});if(Ve(Pe,"Expected a location on the redirect navigation"),t){let ot=!1;if(ee.reloadDocument)ot=!0;else if(jA.test(ee.location)){const sn=n.history.createURL(ee.location);ot=sn.origin!==e.location.origin||wi(sn.pathname,m)==null}if(ot){Be?e.location.replace(ee.location):e.location.assign(ee.location);return}}N=null;let Ue=Be===!0?Vt.Replace:Vt.Push,{formMethod:Ne,formAction:nt,formEncType:Kt}=Y.navigation;!ge&&!Se&&Ne&&nt&&Kt&&(ge=WT(Y.navigation));let ze=ge||Se;if(OD.has(ee.status)&&ze&&Es(ze.formMethod))await $n(Ue,Pe,{submission:Wt({},ze,{formAction:ee.location}),preventScrollReset:C});else{let ot=ly(Pe,ge);await $n(Ue,Pe,{overrideNavigation:ot,fetcherSubmission:Se,preventScrollReset:C})}}async function Yr(Y,ee,re,ge,Se){let Be=await Promise.all([...re.map(Ne=>Vu("loader",Se,Ne,ee,a,r,m,f.v7_relativeSplatPath)),...ge.map(Ne=>Ne.matches&&Ne.match&&Ne.controller?Vu("loader",Ou(n.history,Ne.path,Ne.controller.signal),Ne.match,Ne.matches,a,r,m,f.v7_relativeSplatPath):{type:ln.error,error:ss(404,{pathname:Ne.path})})]),Pe=Be.slice(0,re.length),Ue=Be.slice(re.length);return await Promise.all([JT(Y,re,Pe,Pe.map(()=>Se.signal),!1,q.loaderData),JT(Y,ge.map(Ne=>Ne.match),Ue,ge.map(Ne=>Ne.controller?Ne.controller.signal:null),!0)]),{results:Be,loaderResults:Pe,fetcherResults:Ue}}function fe(){xe=!0,Ce.push(...Jr()),$.forEach((Y,ee)=>{ce.has(ee)&&(W.push(ee),ti(ee))})}function Me(Y,ee,re){re===void 0&&(re={}),q.fetchers.set(Y,ee),en({fetchers:new Map(q.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function pt(Y,ee,re,ge){ge===void 0&&(ge={});let Se=Qu(q.matches,ee);Yn(Y),en({errors:{[Se.route.id]:re},fetchers:new Map(q.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Kn(Y){return f.v7_fetcherPersist&&(me.set(Y,(me.get(Y)||0)+1),ye.has(Y)&&ye.delete(Y)),q.fetchers.get(Y)||OA}function Yn(Y){let ee=q.fetchers.get(Y);ce.has(Y)&&!(ee&&ee.state==="loading"&&Le.has(Y))&&ti(Y),$.delete(Y),Le.delete(Y),G.delete(Y),ye.delete(Y),q.fetchers.delete(Y)}function hi(Y){if(f.v7_fetcherPersist){let ee=(me.get(Y)||0)-1;ee<=0?(me.delete(Y),ye.add(Y)):me.set(Y,ee)}else Yn(Y);en({fetchers:new Map(q.fetchers)})}function ti(Y){let ee=ce.get(Y);Ve(ee,"Expected fetch controller: "+Y),ee.abort(),ce.delete(Y)}function Ai(Y){for(let ee of Y){let re=Kn(ee),ge=Do(re.data);q.fetchers.set(ee,ge)}}function Ni(){let Y=[],ee=!1;for(let re of G){let ge=q.fetchers.get(re);Ve(ge,"Expected fetcher: "+re),ge.state==="loading"&&(G.delete(re),Y.push(re),ee=!0)}return Ai(Y),ee}function Ls(Y){let ee=[];for(let[re,ge]of Le)if(ge<Y){let Se=q.fetchers.get(re);Ve(Se,"Expected fetcher: "+re),Se.state==="loading"&&(ti(re),Le.delete(re),ee.push(re))}return Ai(ee),ee.length>0}function Jn(Y,ee){let re=q.blockers.get(Y)||Ol;return Fe.get(Y)!==ee&&Fe.set(Y,ee),re}function tn(Y){q.blockers.delete(Y),Fe.delete(Y)}function Ln(Y,ee){let re=q.blockers.get(Y)||Ol;Ve(re.state==="unblocked"&&ee.state==="blocked"||re.state==="blocked"&&ee.state==="blocked"||re.state==="blocked"&&ee.state==="proceeding"||re.state==="blocked"&&ee.state==="unblocked"||re.state==="proceeding"&&ee.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+ee.state);let ge=new Map(q.blockers);ge.set(Y,ee),en({blockers:ge})}function $t(Y){let{currentLocation:ee,nextLocation:re,historyAction:ge}=Y;if(Fe.size===0)return;Fe.size>1&&Mr(!1,"A router only supports one blocker at a time");let Se=Array.from(Fe.entries()),[Be,Pe]=Se[Se.length-1],Ue=q.blockers.get(Be);if(!(Ue&&Ue.state==="proceeding")&&Pe({currentLocation:ee,nextLocation:re,historyAction:ge}))return Be}function Jr(Y){let ee=[];return Re.forEach((re,ge)=>{(!Y||Y(ge))&&(re.cancel(),ee.push(ge),Re.delete(ge))}),ee}function Wr(Y,ee,re){if(T=Y,I=ee,b=re||null,!L&&q.navigation===ay){L=!0;let ge=Us(q.location,q.matches);ge!=null&&en({restoreScrollPosition:ge})}return()=>{T=null,I=null,b=null}}function ca(Y,ee){return b&&b(Y,ee.map(ge=>DA(ge,q.loaderData)))||Y.key}function Gi(Y,ee){if(T&&I){let re=ca(Y,ee);T[re]=I()}}function Us(Y,ee){if(T){let re=ca(Y,ee),ge=T[re];if(typeof ge=="number")return ge}return null}function nn(Y){a={},h=Ry(Y,r,void 0,a)}return oe={get basename(){return m},get future(){return f},get state(){return q},get routes(){return c},get window(){return e},initialize:Qt,subscribe:ds,enableScrollRestoration:Wr,navigate:Bi,fetch:or,revalidate:zn,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:Kn,deleteFetcher:hi,dispose:Qe,getBlocker:Jn,deleteBlocker:tn,_internalFetchControllers:ce,_internalActiveDeferreds:Re,_internalSetRoutes:nn},oe}function FD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Dy(n,e,t,i,r,a,c,h){let m,f;if(c){m=[];for(let E of e)if(m.push(E),E.route.id===c){f=E;break}}else m=e,f=e[e.length-1];let g=hm(r||".",dm(m,a),wi(n.pathname,t)||n.pathname,h==="path");return r==null&&(g.search=n.search,g.hash=n.hash),(r==null||r===""||r===".")&&f&&f.route.index&&!Nv(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Zs([t,g.pathname])),Ns(g)}function FT(n,e,t,i){if(!i||!FD(i))return{path:t};if(i.formMethod&&!KD(i.formMethod))return{path:t,error:ss(405,{method:i.formMethod})};let r=()=>({path:t,error:ss(400,{type:"invalid-body"})}),a=i.formMethod||"get",c=n?a.toUpperCase():a.toLowerCase(),h=HA(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Es(c))return r();let T=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((b,I)=>{let[L,M]=I;return""+b+L+"="+M+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:void 0,text:T}}}else if(i.formEncType==="application/json"){if(!Es(c))return r();try{let T=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:h,formEncType:i.formEncType,formData:void 0,json:T,text:void 0}}}catch{return r()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let m,f;if(i.formData)m=My(i.formData),f=i.formData;else if(i.body instanceof FormData)m=My(i.body),f=i.body;else if(i.body instanceof URLSearchParams)m=i.body,f=GT(m);else if(i.body==null)m=new URLSearchParams,f=new FormData;else try{m=new URLSearchParams(i.body),f=GT(m)}catch{return r()}let g={formMethod:c,formAction:h,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Es(g.formMethod))return{path:t,submission:g};let E=us(t);return e&&E.search&&Nv(E.search)&&m.append("index",""),E.search="?"+m,{path:Ns(E),submission:g}}function qD(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function qT(n,e,t,i,r,a,c,h,m,f,g,E,T,b,I,L){let M=L?Object.values(L)[0]:I?Object.values(I)[0]:void 0,j=n.createURL(e.location),H=n.createURL(r),z=L?Object.keys(L)[0]:void 0,oe=qD(t,z).filter((R,C)=>{let{route:N}=R;if(N.lazy)return!0;if(N.loader==null)return!1;if(a)return N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(HD(e.loaderData,e.matches[C],R)||h.some(F=>F===R.route.id))return!0;let P=e.matches[C],D=R;return HT(R,Wt({currentUrl:j,currentParams:P.params,nextUrl:H,nextParams:D.params},i,{actionResult:M,defaultShouldRevalidate:c||j.pathname+j.search===H.pathname+H.search||j.search!==H.search||qA(P,D)}))}),q=[];return g.forEach((R,C)=>{if(a||!t.some(V=>V.route.id===R.routeId)||f.has(C))return;let N=Va(T,R.path,b);if(!N){q.push({key:C,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(C),D=ky(N,R.path),F=!1;E.has(C)?F=!1:m.includes(C)?F=!0:P&&P.state!=="idle"&&P.data===void 0?F=c:F=HT(D,Wt({currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:H,nextParams:t[t.length-1].params},i,{actionResult:M,defaultShouldRevalidate:c})),F&&q.push({key:C,routeId:R.routeId,path:R.path,matches:N,match:D,controller:new AbortController})}),[oe,q]}function HD(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function qA(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function HT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function BT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];Ve(r,"No route found in manifest");let a={};for(let c in i){let m=r[c]!==void 0&&c!=="hasErrorBoundary";Mr(!m,'Route "'+r.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!m&&!cD.has(c)&&(a[c]=i[c])}Object.assign(r,a),Object.assign(r,Wt({},e(r),{lazy:void 0}))}async function Vu(n,e,t,i,r,a,c,h,m){m===void 0&&(m={});let f,g,E,T=L=>{let M,j=new Promise((H,z)=>M=z);return E=()=>M(),e.signal.addEventListener("abort",E),Promise.race([L({request:e,params:t.params,context:m.requestContext}),j])};try{let L=t.route[n];if(t.route.lazy)if(L){let M,j=await Promise.all([T(L).catch(H=>{M=H}),BT(t.route,a,r)]);if(M)throw M;g=j[0]}else if(await BT(t.route,a,r),L=t.route[n],L)g=await T(L);else if(n==="action"){let M=new URL(e.url),j=M.pathname+M.search;throw ss(405,{method:e.method,pathname:j,routeId:t.route.id})}else return{type:ln.data,data:void 0};else if(L)g=await T(L);else{let M=new URL(e.url),j=M.pathname+M.search;throw ss(404,{pathname:j})}Ve(g!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(L){f=ln.error,g=L}finally{E&&e.signal.removeEventListener("abort",E)}if($D(g)){let L=g.status;if(VD.has(L)){let j=g.headers.get("Location");if(Ve(j,"Redirects returned/thrown from loaders/actions must have a Location header"),!jA.test(j))j=Dy(new URL(e.url),i.slice(0,i.indexOf(t)+1),c,!0,j,h);else if(!m.isStaticRequest){let H=new URL(e.url),z=j.startsWith("//")?new URL(H.protocol+j):new URL(j),ne=wi(z.pathname,c)!=null;z.origin===H.origin&&ne&&(j=z.pathname+z.search+z.hash)}if(m.isStaticRequest)throw g.headers.set("Location",j),g;return{type:ln.redirect,status:L,location:j,revalidate:g.headers.get("X-Remix-Revalidate")!==null,reloadDocument:g.headers.get("X-Remix-Reload-Document")!==null}}if(m.isRouteRequest)throw{type:f===ln.error?ln.error:ln.data,response:g};let M;try{let j=g.headers.get("Content-Type");j&&/\bapplication\/json\b/.test(j)?g.body==null?M=null:M=await g.json():M=await g.text()}catch(j){return{type:ln.error,error:j}}return f===ln.error?{type:f,error:new bv(L,g.statusText,M),headers:g.headers}:{type:ln.data,data:M,statusCode:g.status,headers:g.headers}}if(f===ln.error)return{type:f,error:g};if(zD(g)){var b,I;return{type:ln.deferred,deferredData:g,statusCode:(b=g.init)==null?void 0:b.status,headers:((I=g.init)==null?void 0:I.headers)&&new Headers(g.init.headers)}}return{type:ln.data,data:g}}function Ou(n,e,t,i){let r=n.createURL(HA(e)).toString(),a={signal:t};if(i&&Es(i.formMethod)){let{formMethod:c,formEncType:h}=i;a.method=c.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=My(i.formData):a.body=i.formData}return new Request(r,a)}function My(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function GT(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function BD(n,e,t,i,r){let a={},c=null,h,m=!1,f={};return t.forEach((g,E)=>{let T=e[E].route.id;if(Ve(!ja(g),"Cannot handle redirect results in processLoaderData"),zl(g)){let b=Qu(n,T),I=g.error;i&&(I=Object.values(i)[0],i=void 0),c=c||{},c[b.route.id]==null&&(c[b.route.id]=I),a[T]=void 0,m||(m=!0,h=Sv(g.error)?g.error.status:500),g.headers&&(f[T]=g.headers)}else Oa(g)?(r.set(T,g.deferredData),a[T]=g.deferredData.data):a[T]=g.data,g.statusCode!=null&&g.statusCode!==200&&!m&&(h=g.statusCode),g.headers&&(f[T]=g.headers)}),i&&(c=i,a[Object.keys(i)[0]]=void 0),{loaderData:a,errors:c,statusCode:h||200,loaderHeaders:f}}function zT(n,e,t,i,r,a,c,h){let{loaderData:m,errors:f}=BD(e,t,i,r,h);for(let g=0;g<a.length;g++){let{key:E,match:T,controller:b}=a[g];Ve(c!==void 0&&c[g]!==void 0,"Did not find corresponding fetcher result");let I=c[g];if(!(b&&b.signal.aborted))if(zl(I)){let L=Qu(n.matches,T==null?void 0:T.route.id);f&&f[L.route.id]||(f=Wt({},f,{[L.route.id]:I.error})),n.fetchers.delete(E)}else if(ja(I))Ve(!1,"Unhandled fetcher revalidation redirect");else if(Oa(I))Ve(!1,"Unhandled fetcher deferred data");else{let L=Do(I.data);n.fetchers.set(E,L)}}return{loaderData:m,errors:f}}function $T(n,e,t,i){let r=Wt({},e);for(let a of t){let c=a.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(r[c]=e[c]):n[c]!==void 0&&a.route.loader&&(r[c]=n[c]),i&&i.hasOwnProperty(c))break}return r}function Qu(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function KT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ss(n,e){let{pathname:t,routeId:i,method:r,type:a}=e===void 0?{}:e,c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&t&&i?h="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h='Route "'+i+'" does not match URL "'+t+'"'):n===404?(c="Not Found",h='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",r&&t&&i?h="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(h='Invalid request method "'+r.toUpperCase()+'"')),new bv(n||500,c,new Error(h),!0)}function YT(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(ja(t))return{result:t,idx:e}}}function HA(n){let e=typeof n=="string"?us(n):n;return Ns(Wt({},e,{hash:""}))}function GD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Oa(n){return n.type===ln.deferred}function zl(n){return n.type===ln.error}function ja(n){return(n&&n.type)===ln.redirect}function zD(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function $D(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function KD(n){return UD.has(n.toLowerCase())}function Es(n){return PD.has(n.toLowerCase())}async function JT(n,e,t,i,r,a){for(let c=0;c<t.length;c++){let h=t[c],m=e[c];if(!m)continue;let f=n.find(E=>E.route.id===m.route.id),g=f!=null&&!qA(f,m)&&(a&&a[m.route.id])!==void 0;if(Oa(h)&&(r||g)){let E=i[c];Ve(E,"Expected an AbortSignal for revalidating fetcher deferred result"),await BA(h,E,r).then(T=>{T&&(t[c]=T||t[c])})}}}async function BA(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:ln.data,data:n.deferredData.unwrappedData}}catch(r){return{type:ln.error,error:r}}return{type:ln.data,data:n.deferredData.data}}}function Nv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ky(n,e){let t=typeof e=="string"?us(e).search:e.search;if(n[n.length-1].route.index&&Nv(t||""))return n[n.length-1];let i=LA(n);return i[i.length-1]}function WT(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:a,json:c}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function ly(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ju(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Do(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function WD(n,e){try{let t=n.sessionStorage.getItem(FA);if(t){let i=JSON.parse(t);for(let[r,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(r,new Set(a||[]))}}catch{}}function QD(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(FA,JSON.stringify(t))}catch(i){Mr(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bo.apply(this,arguments)}const mc=U.createContext(null),bd=U.createContext(null),Uf=U.createContext(null),Fi=U.createContext(null),pc=U.createContext(null),qi=U.createContext({outlet:null,matches:[],isDataRoute:!1}),GA=U.createContext(null);function zA(n,e){let{relative:t}=e===void 0?{}:e;Zo()||Ve(!1);let{basename:i,navigator:r}=U.useContext(Fi),{hash:a,pathname:c,search:h}=gc(n,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Zs([i,c])),r.createHref({pathname:m,search:h,hash:a})}function Zo(){return U.useContext(pc)!=null}function Ds(){return Zo()||Ve(!1),U.useContext(pc).location}function XD(){return U.useContext(pc).navigationType}function ZD(n){Zo()||Ve(!1);let{pathname:e}=Ds();return U.useMemo(()=>cd(n,e),[e,n])}function $A(n){U.useContext(Fi).static||U.useLayoutEffect(n)}function fm(){let{isDataRoute:n}=U.useContext(qi);return n?mM():eM()}function eM(){Zo()||Ve(!1);let n=U.useContext(mc),{basename:e,future:t,navigator:i}=U.useContext(Fi),{matches:r}=U.useContext(qi),{pathname:a}=Ds(),c=JSON.stringify(dm(r,t.v7_relativeSplatPath)),h=U.useRef(!1);return $A(()=>{h.current=!0}),U.useCallback(function(f,g){if(g===void 0&&(g={}),!h.current)return;if(typeof f=="number"){i.go(f);return}let E=hm(f,JSON.parse(c),a,g.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zs([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,c,a,n])}const KA=U.createContext(null);function tM(){return U.useContext(KA)}function YA(n){let e=U.useContext(qi).outlet;return e&&U.createElement(KA.Provider,{value:n},e)}function nM(){let{matches:n}=U.useContext(qi),e=n[n.length-1];return e?e.params:{}}function gc(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=U.useContext(Fi),{matches:r}=U.useContext(qi),{pathname:a}=Ds(),c=JSON.stringify(dm(r,i.v7_relativeSplatPath));return U.useMemo(()=>hm(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function JA(n,e){return WA(n,e)}function WA(n,e,t,i){Zo()||Ve(!1);let{navigator:r}=U.useContext(Fi),{matches:a}=U.useContext(qi),c=a[a.length-1],h=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let f=Ds(),g;if(e){var E;let M=typeof e=="string"?us(e):e;m==="/"||(E=M.pathname)!=null&&E.startsWith(m)||Ve(!1),g=M}else g=f;let T=g.pathname||"/",b=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let I=Va(n,{pathname:b}),L=QA(I&&I.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Zs([m,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Zs([m,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,t,i);return e&&L?U.createElement(pc.Provider,{value:{location:Bo({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Vt.Pop}},L):L}function iM(){let n=nN(),e=Sv(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,null)}const sM=U.createElement(iM,null);class rM extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(qi.Provider,{value:this.props.routeContext},U.createElement(GA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oM(n){let{routeContext:e,match:t,children:i}=n,r=U.useContext(mc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(qi.Provider,{value:e},i)}function QA(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if((a=t)!=null&&a.errors)n=t.matches;else return null}let c=n,h=(r=t)==null?void 0:r.errors;if(h!=null){let g=c.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id]));g>=0||Ve(!1),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let E=c[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(f=g),E.route.id){let{loaderData:T,errors:b}=t,I=E.route.loader&&T[E.route.id]===void 0&&(!b||b[E.route.id]===void 0);if(E.route.lazy||I){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,E,T)=>{let b,I=!1,L=null,M=null;t&&(b=h&&E.route.id?h[E.route.id]:void 0,L=E.route.errorElement||sM,m&&(f<0&&T===0?(pM("route-fallback"),I=!0,M=null):f===T&&(I=!0,M=E.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,T+1)),H=()=>{let z;return b?z=L:I?z=M:E.route.Component?z=U.createElement(E.route.Component,null):E.route.element?z=E.route.element:z=g,U.createElement(oM,{match:E,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:z})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?U.createElement(rM,{location:t.location,revalidation:t.revalidation,component:L,error:b,children:H(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):H()},null)}var XA=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(XA||{}),bi=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(bi||{});function Iv(n){let e=U.useContext(mc);return e||Ve(!1),e}function ea(n){let e=U.useContext(bd);return e||Ve(!1),e}function aM(n){let e=U.useContext(qi);return e||Ve(!1),e}function Sd(n){let e=aM(),t=e.matches[e.matches.length-1];return t.route.id||Ve(!1),t.route.id}function ZA(){return Sd(bi.UseRouteId)}function eN(){return ea(bi.UseNavigation).navigation}function lM(){let n=Iv(),e=ea(bi.UseRevalidator);return U.useMemo(()=>({revalidate:n.router.revalidate,state:e.revalidation}),[n.router.revalidate,e.revalidation])}function tN(){let{matches:n,loaderData:e}=ea(bi.UseMatches);return U.useMemo(()=>n.map(t=>DA(t,e)),[n,e])}function cM(){let n=ea(bi.UseLoaderData),e=Sd(bi.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function uM(n){return ea(bi.UseRouteLoaderData).loaderData[n]}function dM(){let n=ea(bi.UseActionData),e=Sd(bi.UseLoaderData);return n.actionData?n.actionData[e]:void 0}function nN(){var n;let e=U.useContext(GA),t=ea(bi.UseRouteError),i=Sd(bi.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function iN(){let n=U.useContext(Uf);return n==null?void 0:n._data}function hM(){let n=U.useContext(Uf);return n==null?void 0:n._error}let fM=0;function sN(n){let{router:e,basename:t}=Iv(XA.UseBlocker),i=ea(bi.UseBlocker),[r,a]=U.useState(""),c=U.useCallback(h=>{if(typeof n!="function")return!!n;if(t==="/")return n(h);let{currentLocation:m,nextLocation:f,historyAction:g}=h;return n({currentLocation:Bo({},m,{pathname:wi(m.pathname,t)||m.pathname}),nextLocation:Bo({},f,{pathname:wi(f.pathname,t)||f.pathname}),historyAction:g})},[t,n]);return U.useEffect(()=>{let h=String(++fM);return a(h),()=>e.deleteBlocker(h)},[e]),U.useEffect(()=>{r!==""&&e.getBlocker(r,c)},[e,r,c]),r&&i.blockers.has(r)?i.blockers.get(r):Ol}function mM(){let{router:n}=Iv(),e=Sd(bi.UseNavigateStable),t=U.useRef(!1);return $A(()=>{t.current=!0}),U.useCallback(function(r,a){a===void 0&&(a={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Bo({fromRouteId:e},a)))},[n,e])}const QT={};function pM(n,e,t){QT[n]||(QT[n]=!0)}const gM="startTransition",XT=wv[gM];function yM(n){let{basename:e,children:t,initialEntries:i,initialIndex:r,future:a}=n,c=U.useRef();c.current==null&&(c.current=NA({initialEntries:i,initialIndex:r,v5Compat:!0}));let h=c.current,[m,f]=U.useState({action:h.action,location:h.location}),{v7_startTransition:g}=a||{},E=U.useCallback(T=>{g&&XT?XT(()=>f(T)):f(T)},[f,g]);return U.useLayoutEffect(()=>h.listen(E),[h,E]),U.createElement(yc,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h,future:a})}function vM(n){let{to:e,replace:t,state:i,relative:r}=n;Zo()||Ve(!1);let{future:a,static:c}=U.useContext(Fi),{matches:h}=U.useContext(qi),{pathname:m}=Ds(),f=fm(),g=hm(e,dm(h,a.v7_relativeSplatPath),m,r==="path"),E=JSON.stringify(g);return U.useEffect(()=>f(JSON.parse(E),{replace:t,state:i,relative:r}),[f,E,r,t,i]),null}function _M(n){return YA(n.context)}function rN(n){Ve(!1)}function yc(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Vt.Pop,navigator:a,static:c=!1,future:h}=n;Zo()&&Ve(!1);let m=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:m,navigator:a,static:c,future:Bo({v7_relativeSplatPath:!1},h)}),[m,h,a,c]);typeof i=="string"&&(i=us(i));let{pathname:g="/",search:E="",hash:T="",state:b=null,key:I="default"}=i,L=U.useMemo(()=>{let M=wi(g,m);return M==null?null:{location:{pathname:M,search:E,hash:T,state:b,key:I},navigationType:r}},[m,g,E,T,b,I,r]);return L==null?null:U.createElement(Fi.Provider,{value:f},U.createElement(pc.Provider,{children:t,value:L}))}function xM(n){let{children:e,location:t}=n;return JA(ud(e),t)}function EM(n){let{children:e,errorElement:t,resolve:i}=n;return U.createElement(wM,{resolve:i,errorElement:t},U.createElement(bM,null,e))}var is=(function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n})(is||{});const TM=new Promise(()=>{});class wM extends U.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:i}=this.props,r=null,a=is.pending;if(!(i instanceof Promise))a=is.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>i});else if(this.state.error){a=is.error;let c=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>c})}else i._tracked?(r=i,a=r._error!==void 0?is.error:r._data!==void 0?is.success:is.pending):(a=is.pending,Object.defineProperty(i,"_tracked",{get:()=>!0}),r=i.then(c=>Object.defineProperty(i,"_data",{get:()=>c}),c=>Object.defineProperty(i,"_error",{get:()=>c})));if(a===is.error&&r._error instanceof Lf)throw TM;if(a===is.error&&!t)throw r._error;if(a===is.error)return U.createElement(Uf.Provider,{value:r,children:t});if(a===is.success)return U.createElement(Uf.Provider,{value:r,children:e});throw r}}function bM(n){let{children:e}=n,t=iN(),i=typeof e=="function"?e(t):e;return U.createElement(U.Fragment,null,i)}function ud(n,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let a=[...e,r];if(i.type===U.Fragment){t.push.apply(t,ud(i.props.children,a));return}i.type!==rN&&Ve(!1),!i.props.index||!i.props.children||Ve(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ud(i.props.children,a)),t.push(c)}),t}function SM(n){return QA(n)}function Cv(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:U.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function AM(n,e){return Av({basename:e==null?void 0:e.basename,future:Bo({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:NA({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:n,mapRouteProperties:Cv}).initialize()}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ti.apply(this,arguments)}function Rv(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}const Tf="get",cy="application/x-www-form-urlencoded";function mm(n){return n!=null&&typeof n.tagName=="string"}function NM(n){return mm(n)&&n.tagName.toLowerCase()==="button"}function IM(n){return mm(n)&&n.tagName.toLowerCase()==="form"}function CM(n){return mm(n)&&n.tagName.toLowerCase()==="input"}function RM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DM(n,e){return n.button===0&&(!e||e==="_self")&&!RM(n)}function Vf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function MM(n,e){let t=Vf(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}let af=null;function kM(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}const PM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(n){return n!=null&&!PM.has(n)?null:n}function LM(n,e){let t,i,r,a,c;if(IM(n)){let h=n.getAttribute("action");i=h?wi(h,e):null,t=n.getAttribute("method")||Tf,r=uy(n.getAttribute("enctype"))||cy,a=new FormData(n)}else if(NM(n)||CM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(i=m?wi(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Tf,r=uy(n.getAttribute("formenctype"))||uy(h.getAttribute("enctype"))||cy,a=new FormData(h,n),!kM()){let{name:f,type:g,value:E}=n;if(g==="image"){let T=f?f+".":"";a.append(T+"x","0"),a.append(T+"y","0")}else f&&a.append(f,E)}}else{if(mm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tf,i=null,r=cy,c=n}return a&&r==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:c}}const UM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VM=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],OM=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],jM="6";try{window.__reactRouterVersion=jM}catch{}function FM(n,e){return Av({basename:e==null?void 0:e.basename,future:Ti({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:IA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||oN(),routes:n,mapRouteProperties:Cv,window:e==null?void 0:e.window}).initialize()}function qM(n,e){return Av({basename:e==null?void 0:e.basename,future:Ti({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:CA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||oN(),routes:n,mapRouteProperties:Cv,window:e==null?void 0:e.window}).initialize()}function oN(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ti({},e,{errors:HM(e.errors)})),e}function HM(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new bv(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let c=new a(r.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(r.message);a.stack="",t[i]=a}}else t[i]=r;return t}const Dv=U.createContext({isTransitioning:!1}),Mv=U.createContext(new Map),BM="startTransition",Go=wv[BM],GM="flushSync",ZT=aD[GM],zM="useId",ew=wv[zM];function $M(n){Go?Go(n):n()}function Fu(n){ZT?ZT(n):n()}let KM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function YM(n){let{fallbackElement:e,router:t,future:i}=n,[r,a]=U.useState(t.state),[c,h]=U.useState(),[m,f]=U.useState({isTransitioning:!1}),[g,E]=U.useState(),[T,b]=U.useState(),[I,L]=U.useState(),M=U.useRef(new Map),{v7_startTransition:j}=i||{},H=U.useCallback(R=>{j?$M(R):R()},[j]),z=U.useCallback((R,C)=>{let{deletedFetchers:N,unstable_flushSync:P,unstable_viewTransitionOpts:D}=C;N.forEach(V=>M.current.delete(V)),R.fetchers.forEach((V,xe)=>{V.data!==void 0&&M.current.set(xe,V.data)});let F=t.window==null||typeof t.window.document.startViewTransition!="function";if(!D||F){P?Fu(()=>a(R)):H(()=>a(R));return}if(P){Fu(()=>{T&&(g&&g.resolve(),T.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let V=t.window.document.startViewTransition(()=>{Fu(()=>a(R))});V.finished.finally(()=>{Fu(()=>{E(void 0),b(void 0),h(void 0),f({isTransitioning:!1})})}),Fu(()=>b(V));return}T?(g&&g.resolve(),T.skipTransition(),L({state:R,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(h(R),f({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,T,g,M,H]);U.useLayoutEffect(()=>t.subscribe(z),[t,z]),U.useEffect(()=>{m.isTransitioning&&!m.flushSync&&E(new KM)},[m]),U.useEffect(()=>{if(g&&c&&t.window){let R=c,C=g.promise,N=t.window.document.startViewTransition(async()=>{H(()=>a(R)),await C});N.finished.finally(()=>{E(void 0),b(void 0),h(void 0),f({isTransitioning:!1})}),b(N)}},[H,c,g,t.window]),U.useEffect(()=>{g&&c&&r.location.key===c.location.key&&g.resolve()},[g,T,r.location,c]),U.useEffect(()=>{!m.isTransitioning&&I&&(h(I.state),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),L(void 0))},[m.isTransitioning,I]),U.useEffect(()=>{},[]);let ne=U.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,C,N)=>t.navigate(R,{state:C,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(R,C,N)=>t.navigate(R,{replace:!0,state:C,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),oe=t.basename||"/",q=U.useMemo(()=>({router:t,navigator:ne,static:!1,basename:oe}),[t,ne,oe]);return U.createElement(U.Fragment,null,U.createElement(mc.Provider,{value:q},U.createElement(bd.Provider,{value:r},U.createElement(Mv.Provider,{value:M.current},U.createElement(Dv.Provider,{value:m},U.createElement(yc,{basename:oe,location:r.location,navigationType:r.historyAction,navigator:ne,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?U.createElement(JM,{routes:t.routes,future:t.future,state:r}):e))))),null)}function JM(n){let{routes:e,future:t,state:i}=n;return WA(e,void 0,i,t)}function WM(n){let{basename:e,children:t,future:i,window:r}=n,a=U.useRef();a.current==null&&(a.current=IA({window:r,v5Compat:!0}));let c=a.current,[h,m]=U.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=U.useCallback(E=>{f&&Go?Go(()=>m(E)):m(E)},[m,f]);return U.useLayoutEffect(()=>c.listen(g),[c,g]),U.createElement(yc,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:i})}function QM(n){let{basename:e,children:t,future:i,window:r}=n,a=U.useRef();a.current==null&&(a.current=CA({window:r,v5Compat:!0}));let c=a.current,[h,m]=U.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},g=U.useCallback(E=>{f&&Go?Go(()=>m(E)):m(E)},[m,f]);return U.useLayoutEffect(()=>c.listen(g),[c,g]),U.createElement(yc,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:i})}function XM(n){let{basename:e,children:t,future:i,history:r}=n,[a,c]=U.useState({action:r.action,location:r.location}),{v7_startTransition:h}=i||{},m=U.useCallback(f=>{h&&Go?Go(()=>c(f)):c(f)},[c,h]);return U.useLayoutEffect(()=>r.listen(m),[r,m]),U.createElement(yc,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r,future:i})}const ZM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aN=U.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:a,replace:c,state:h,target:m,to:f,preventScrollReset:g,unstable_viewTransition:E}=e,T=Rv(e,UM),{basename:b}=U.useContext(Fi),I,L=!1;if(typeof f=="string"&&ek.test(f)&&(I=f,ZM))try{let z=new URL(window.location.href),ne=f.startsWith("//")?new URL(z.protocol+f):new URL(f),oe=wi(ne.pathname,b);ne.origin===z.origin&&oe!=null?f=oe+ne.search+ne.hash:L=!0}catch{}let M=zA(f,{relative:r}),j=cN(f,{replace:c,state:h,target:m,preventScrollReset:g,relative:r,unstable_viewTransition:E});function H(z){i&&i(z),z.defaultPrevented||j(z)}return U.createElement("a",Ti({},T,{href:I||M,onClick:L||a?i:H,ref:t,target:m}))}),tk=U.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:a="",end:c=!1,style:h,to:m,unstable_viewTransition:f,children:g}=e,E=Rv(e,VM),T=gc(m,{relative:E.relative}),b=Ds(),I=U.useContext(bd),{navigator:L,basename:M}=U.useContext(Fi),j=I!=null&&fN(T)&&f===!0,H=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,z=b.pathname,ne=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;r||(z=z.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&M&&(ne=wi(ne,M)||ne);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let q=z===H||!c&&z.startsWith(H)&&z.charAt(oe)==="/",R=ne!=null&&(ne===H||!c&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),C={isActive:q,isPending:R,isTransitioning:j},N=q?i:void 0,P;typeof a=="function"?P=a(C):P=[a,q?"active":null,R?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof h=="function"?h(C):h;return U.createElement(aN,Ti({},E,{"aria-current":N,className:P,ref:t,style:D,to:m,unstable_viewTransition:f}),typeof g=="function"?g(C):g)}),lN=U.forwardRef((n,e)=>{let{fetcherKey:t,navigate:i,reloadDocument:r,replace:a,state:c,method:h=Tf,action:m,onSubmit:f,relative:g,preventScrollReset:E,unstable_viewTransition:T}=n,b=Rv(n,OM),I=Pv(),L=dN(m,{relative:g}),M=h.toLowerCase()==="get"?"get":"post",j=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let z=H.nativeEvent.submitter,ne=(z==null?void 0:z.getAttribute("formmethod"))||h;I(z||H.currentTarget,{fetcherKey:t,method:ne,navigate:i,replace:a,state:c,relative:g,preventScrollReset:E,unstable_viewTransition:T})};return U.createElement("form",Ti({ref:e,method:M,action:L,onSubmit:r?f:j},b))});function nk(n){let{getKey:e,storageKey:t}=n;return hN({getKey:e,storageKey:t}),null}var nc;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nc||(nc={}));var dd;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dd||(dd={}));function pm(n){let e=U.useContext(mc);return e||Ve(!1),e}function kv(n){let e=U.useContext(bd);return e||Ve(!1),e}function cN(n,e){let{target:t,replace:i,state:r,preventScrollReset:a,relative:c,unstable_viewTransition:h}=e===void 0?{}:e,m=fm(),f=Ds(),g=gc(n,{relative:c});return U.useCallback(E=>{if(DM(E,t)){E.preventDefault();let T=i!==void 0?i:Ns(f)===Ns(g);m(n,{replace:T,state:r,preventScrollReset:a,relative:c,unstable_viewTransition:h})}},[f,m,g,i,r,t,n,a,c,h])}function ik(n){let e=U.useRef(Vf(n)),t=U.useRef(!1),i=Ds(),r=U.useMemo(()=>MM(i.search,t.current?null:e.current),[i.search]),a=fm(),c=U.useCallback((h,m)=>{const f=Vf(typeof h=="function"?h(r):h);t.current=!0,a("?"+f,m)},[a,r]);return[r,c]}function sk(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let rk=0,uN=()=>"__"+String(++rk)+"__";function Pv(){let{router:n}=pm(nc.UseSubmit),{basename:e}=U.useContext(Fi),t=ZA();return U.useCallback(function(i,r){r===void 0&&(r={}),sk();let{action:a,method:c,encType:h,formData:m,body:f}=LM(i,e);if(r.navigate===!1){let g=r.fetcherKey||uN();n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||h,unstable_flushSync:r.unstable_flushSync})}else n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,unstable_flushSync:r.unstable_flushSync,unstable_viewTransition:r.unstable_viewTransition})},[n,e,t])}function dN(n,e){let{relative:t}=e===void 0?{}:e,{basename:i}=U.useContext(Fi),r=U.useContext(qi);r||Ve(!1);let[a]=r.matches.slice(-1),c=Ti({},gc(n||".",{relative:t})),h=Ds();if(n==null){c.search=h.search;let m=new URLSearchParams(c.search);m.has("index")&&m.get("index")===""&&(m.delete("index"),c.search=m.toString()?"?"+m.toString():"")}return(!n||n===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Zs([i,c.pathname])),Ns(c)}function ok(n){var e;let{key:t}=n===void 0?{}:n,{router:i}=pm(nc.UseFetcher),r=kv(dd.UseFetcher),a=U.useContext(Mv),c=U.useContext(qi),h=(e=c.matches[c.matches.length-1])==null?void 0:e.route.id;a||Ve(!1),c||Ve(!1),h==null&&Ve(!1);let m=ew?ew():"",[f,g]=U.useState(t||m);t&&t!==f?g(t):f||g(uN()),U.useEffect(()=>(i.getFetcher(f),()=>{i.deleteFetcher(f)}),[i,f]);let E=U.useCallback((H,z)=>{h||Ve(!1),i.fetch(f,h,H,z)},[f,h,i]),T=Pv(),b=U.useCallback((H,z)=>{T(H,Ti({},z,{navigate:!1,fetcherKey:f}))},[f,T]),I=U.useMemo(()=>U.forwardRef((z,ne)=>U.createElement(lN,Ti({},z,{navigate:!1,fetcherKey:f,ref:ne}))),[f]),L=r.fetchers.get(f)||OA,M=a.get(f);return U.useMemo(()=>Ti({Form:I,submit:b,load:E},L,{data:M}),[I,b,E,L,M])}function ak(){let n=kv(dd.UseFetchers);return Array.from(n.fetchers.entries()).map(e=>{let[t,i]=e;return Ti({},i,{key:t})})}const tw="react-router-scroll-positions";let lf={};function hN(n){let{getKey:e,storageKey:t}=n===void 0?{}:n,{router:i}=pm(nc.UseScrollRestoration),{restoreScrollPosition:r,preventScrollReset:a}=kv(dd.UseScrollRestoration),{basename:c}=U.useContext(Fi),h=Ds(),m=tN(),f=eN();U.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),ck(U.useCallback(()=>{if(f.state==="idle"){let g=(e?e(h,m):null)||h.key;lf[g]=window.scrollY}try{sessionStorage.setItem(t||tw,JSON.stringify(lf))}catch{}window.history.scrollRestoration="auto"},[t,e,f.state,h,m])),typeof document<"u"&&(U.useLayoutEffect(()=>{try{let g=sessionStorage.getItem(t||tw);g&&(lf=JSON.parse(g))}catch{}},[t]),U.useLayoutEffect(()=>{let g=e&&c!=="/"?(T,b)=>e(Ti({},T,{pathname:wi(T.pathname,c)||T.pathname}),b):e,E=i==null?void 0:i.enableScrollRestoration(lf,()=>window.scrollY,g);return()=>E&&E()},[i,c,e]),U.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}if(h.hash){let g=document.getElementById(decodeURIComponent(h.hash.slice(1)));if(g){g.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[h,r,a]))}function lk(n,e){let{capture:t}=e||{};U.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("beforeunload",n,i),()=>{window.removeEventListener("beforeunload",n,i)}},[n,t])}function ck(n,e){let{capture:t}={};U.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",n,i),()=>{window.removeEventListener("pagehide",n,i)}},[n,t])}function uk(n){let{when:e,message:t}=n,i=sN(e);U.useEffect(()=>{i.state==="blocked"&&(window.confirm(t)?setTimeout(i.proceed,0):i.reset())},[i,t]),U.useEffect(()=>{i.state==="blocked"&&!e&&i.reset()},[i,e])}function fN(n,e){e===void 0&&(e={});let t=U.useContext(Dv);t==null&&Ve(!1);let{basename:i}=pm(nc.useViewTransitionState),r=gc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return cd(r.pathname,c)!=null||cd(r.pathname,a)!=null}const Ms=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:Lf,Await:EM,BrowserRouter:WM,Form:lN,HashRouter:QM,Link:aN,MemoryRouter:yM,NavLink:tk,Navigate:vM,get NavigationType(){return Vt},Outlet:_M,Route:rN,Router:yc,RouterProvider:YM,Routes:xM,ScrollRestoration:nk,UNSAFE_DataRouterContext:mc,UNSAFE_DataRouterStateContext:bd,UNSAFE_FetchersContext:Mv,UNSAFE_LocationContext:pc,UNSAFE_NavigationContext:Fi,UNSAFE_RouteContext:qi,UNSAFE_ViewTransitionContext:Dv,UNSAFE_useRouteId:ZA,UNSAFE_useScrollRestoration:hN,createBrowserRouter:FM,createHashRouter:qM,createMemoryRouter:AM,createPath:Ns,createRoutesFromChildren:ud,createRoutesFromElements:ud,createSearchParams:Vf,defer:MD,generatePath:ED,isRouteErrorResponse:Sv,json:ID,matchPath:cd,matchRoutes:Va,parsePath:us,redirect:UA,redirectDocument:kD,renderMatches:SM,resolvePath:PA,unstable_HistoryRouter:XM,unstable_usePrompt:uk,unstable_useViewTransitionState:fN,useActionData:dM,useAsyncError:hM,useAsyncValue:iN,useBeforeUnload:lk,useBlocker:sN,useFetcher:ok,useFetchers:ak,useFormAction:dN,useHref:zA,useInRouterContext:Zo,useLinkClickHandler:cN,useLoaderData:cM,useLocation:Ds,useMatch:ZD,useMatches:tN,useNavigate:fm,useNavigation:eN,useNavigationType:XD,useOutlet:YA,useOutletContext:tM,useParams:nM,useResolvedPath:gc,useRevalidator:lM,useRouteError:nN,useRouteLoaderData:uM,useRoutes:JA,useSearchParams:ik,useSubmit:Pv},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),nw=n=>{const e=hk(n);return e.charAt(0).toUpperCase()+e.slice(1)},mN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),fk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:c,...h},m)=>U.createElement("svg",{ref:m,...mk,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:mN("lucide",r),...!a&&!fk(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,g])=>U.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(n,e)=>{const t=U.forwardRef(({className:i,...r},a)=>U.createElement(pk,{ref:a,iconNode:e,className:mN(`lucide-${dk(nw(n))}`,`lucide-${n}`,i),...r}));return t.displayName=nw(n),t};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lv=we("arrow-left",gk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ts=we("award",yk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Uv=we("brain",vk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ta=we("briefcase",_k);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Ek=we("calendar-check",xk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pN=we("calendar",Tk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bk=we("check",wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gN=we("chevron-down",Sk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gm=we("chevron-left",Ak);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ym=we("chevron-right",Nk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ck=we("chevron-up",Ik);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vc=we("circle-alert",Rk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ws=we("circle-check-big",Dk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iw=we("circle-check",Mk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pk=we("circle-question-mark",kk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],sw=we("circle-user",Lk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],rw=we("clipboard-check",Uk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yN=we("clock",Vk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],vN=we("code",Ok);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fk=we("copy",jk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Hk=we("credit-card",qk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Of=we("download",Bk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dy=we("external-link",Gk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_N=we("eye",zk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Kk=we("file-check",$k);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Jk=we("file-pen",Yk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zo=we("file-text",Wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xk=we("funnel",Qk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xN=we("gift",Zk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vm=we("globe",eP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],EN=we("hash",tP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],iP=we("instagram",nP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Py=we("layout-dashboard",sP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],oP=we("lightbulb",rP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ly=we("link",aP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],_m=we("linkedin",lP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tt=we("loader-circle",cP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vv=we("lock",uP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],TN=we("log-in",dP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ow=we("log-out",hP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],wN=we("mail-check",fP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M20 14v4",key:"1hm744"}],["path",{d:"M20 22v.01",key:"12bgn6"}]],pP=we("mail-warning",mP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],na=we("mail",gP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vP=we("map-pin",yP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xP=we("menu",_P);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],Ov=we("message-square-quote",EP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bN=we("message-square",TP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jv=we("pen-line",wP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SP=we("pen",bP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ad=we("phone",AP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],IP=we("refresh-cw",NP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],RP=we("rocket",CP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nd=we("save",DP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fv=we("search",MP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],PP=we("share-2",kP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SN=we("shield-check",LP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],VP=we("shield",UP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kr=we("sparkles",OP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],FP=we("star-half",jP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xu=we("star",qP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xm=we("target",HP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GP=we("trash-2",BP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$P=we("trending-up",zP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YP=we("triangle-alert",KP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],WP=we("trophy",JP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],XP=we("twitter",QP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qv=we("user-plus",ZP);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],os=we("user",e4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=we("users",t4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],AN=we("video",n4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ir=we("x",i4);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],r4=we("zap",s4),o4=()=>{};var aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},a4=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],c=n[t++],h=n[t++],m=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},IN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],c=r+1<n.length,h=c?n[r+1]:0,m=r+2<n.length,f=m?n[r+2]:0,g=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|f>>6,b=f&63;m||(b=64,c||(T=64)),i.push(t[g],t[E],t[T],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):a4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const E=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||f==null||E==null)throw new l4;const T=a<<2|h>>4;if(i.push(T),f!==64){const b=h<<4&240|f>>2;if(i.push(b),E!==64){const I=f<<6&192|E;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class l4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c4=function(n){const e=NN(n);return IN.encodeByteArray(e,!0)},jf=function(n){return c4(n).replace(/\./g,"")},CN=function(n){try{return IN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=()=>u4().__FIREBASE_DEFAULTS__,h4=()=>{if(typeof process>"u"||typeof aw>"u")return;const n=aw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},f4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CN(n[1]);return e&&JSON.parse(e)},Em=()=>{try{return o4()||d4()||h4()||f4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RN=n=>{var e,t;return(t=(e=Em())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},m4=n=>{const e=RN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},DN=()=>{var n;return(n=Em())==null?void 0:n.config},MN=n=>{var e;return(e=Em())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kN(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[jf(JSON.stringify(t)),jf(JSON.stringify(c)),""].join(".")}const Zu={};function y4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?n.emulator.push(e):n.prod.push(e);return n}function v4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let lw=!1;function PN(n,e){if(typeof window>"u"||typeof document>"u"||!xc(window.location.host)||Zu[n]===e||Zu[n]||lw)return;Zu[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=y4().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function f(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{lw=!0,c()},T}function g(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=v4(i),b=t("text"),I=document.getElementById(b)||document.createElement("span"),L=t("learnmore"),M=document.getElementById(L)||document.createElement("a"),j=t("preprendIcon"),H=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),g(M,L);const ne=f();m(H,j),z.append(H,I,M,ne),document.body.appendChild(z)}a?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function x4(){var e;const n=(e=Em())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function w4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b4(){const n=ei();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function S4(){return!x4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A4(){try{return typeof indexedDB=="object"}catch{return!1}}function N4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class Fr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=I4,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Id.prototype.create)}}class Id{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?C4(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Fr(r,h,i)}}function C4(n,e){return n.replace(R4,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const R4=/\{\$([^}]+)}/g;function D4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $o(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],c=e[r];if(cw(a)&&cw(c)){if(!$o(a,c))return!1}else if(a!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function M4(n,e){const t=new k4(n,e);return t.subscribe.bind(t)}class k4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");P4(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=hy),r.error===void 0&&(r.error=hy),r.complete===void 0&&(r.complete=hy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n){return n&&n._delegate?n._delegate:n}class Ga{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new p4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V4(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:U4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U4(n){return n===La?void 0:n}function V4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const j4={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},F4=ct.INFO,q4={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},H4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=q4[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=F4,this._logHandler=H4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const B4=(n,e)=>e.some(t=>n instanceof t);let uw,dw;function G4(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LN=new WeakMap,Uy=new WeakMap,UN=new WeakMap,fy=new WeakMap,Bv=new WeakMap;function $4(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Lo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&LN.set(t,n)}).catch(()=>{}),Bv.set(e,n),e}function K4(n){if(Uy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Uy.set(n,e)}let Vy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Y4(n){Vy=n(Vy)}function J4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(my(this),e,...t);return UN.set(i,e.sort?e.sort():[e]),Lo(i)}:z4().includes(n)?function(...e){return n.apply(my(this),e),Lo(LN.get(this))}:function(...e){return Lo(n.apply(my(this),e))}}function W4(n){return typeof n=="function"?J4(n):(n instanceof IDBTransaction&&K4(n),B4(n,G4())?new Proxy(n,Vy):n)}function Lo(n){if(n instanceof IDBRequest)return $4(n);if(fy.has(n))return fy.get(n);const e=W4(n);return e!==n&&(fy.set(n,e),Bv.set(e,n)),e}const my=n=>Bv.get(n);function Q4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const c=indexedDB.open(n,e),h=Lo(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Lo(c.result),m.oldVersion,m.newVersion,Lo(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),r&&m.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const X4=["get","getKey","getAll","getAllKeys","count"],Z4=["put","add","delete","clear"],py=new Map;function hw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Z4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||X4.includes(t)))return;const a=async function(c,...h){const m=this.transaction(c,r?"readwrite":"readonly");let f=m.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),r&&m.done]))[0]};return py.set(e,a),a}Y4(n=>({...n,get:(e,t,i)=>hw(e,t)||n.get(e,t,i),has:(e,t)=>!!hw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function tL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oy="@firebase/app",fw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Hv("@firebase/app"),nL="@firebase/app-compat",iL="@firebase/analytics-compat",sL="@firebase/analytics",rL="@firebase/app-check-compat",oL="@firebase/app-check",aL="@firebase/auth",lL="@firebase/auth-compat",cL="@firebase/database",uL="@firebase/data-connect",dL="@firebase/database-compat",hL="@firebase/functions",fL="@firebase/functions-compat",mL="@firebase/installations",pL="@firebase/installations-compat",gL="@firebase/messaging",yL="@firebase/messaging-compat",vL="@firebase/performance",_L="@firebase/performance-compat",xL="@firebase/remote-config",EL="@firebase/remote-config-compat",TL="@firebase/storage",wL="@firebase/storage-compat",bL="@firebase/firestore",SL="@firebase/ai",AL="@firebase/firestore-compat",NL="firebase",IL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="[DEFAULT]",CL={[Oy]:"fire-core",[nL]:"fire-core-compat",[sL]:"fire-analytics",[iL]:"fire-analytics-compat",[oL]:"fire-app-check",[rL]:"fire-app-check-compat",[aL]:"fire-auth",[lL]:"fire-auth-compat",[cL]:"fire-rtdb",[uL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[hL]:"fire-fn",[fL]:"fire-fn-compat",[mL]:"fire-iid",[pL]:"fire-iid-compat",[gL]:"fire-fcm",[yL]:"fire-fcm-compat",[vL]:"fire-perf",[_L]:"fire-perf-compat",[xL]:"fire-rc",[EL]:"fire-rc-compat",[TL]:"fire-gcs",[wL]:"fire-gcs-compat",[bL]:"fire-fst",[AL]:"fire-fst-compat",[SL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Map,Fy=new Map,qy=new Map;function mw(n,e){try{n.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ic(n){const e=n.name;if(qy.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;qy.set(e,n);for(const t of za.values())mw(t,n);for(const t of Fy.values())mw(t,n);return!0}function Gv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new Id("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=IL;function zv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:jy,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Uo.create("bad-app-name",{appName:String(r)});if(t||(t=DN()),!t)throw Uo.create("no-options");const a=za.get(r);if(a){if($o(t,a.options)&&$o(i,a.config))return a;throw Uo.create("duplicate-app",{appName:r})}const c=new O4(r);for(const m of qy.values())c.addComponent(m);const h=new DL(t,i,c);return za.set(r,h),h}function $v(n=jy){const e=za.get(n);if(!e&&n===jy&&DN())return zv();if(!e)throw Uo.create("no-app",{appName:n});return e}function ML(){return Array.from(za.values())}async function kL(n){let e=!1;const t=n.name;za.has(t)?(e=!0,za.delete(t)):Fy.has(t)&&n.decRefCount()<=0&&(Fy.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function Vo(n,e,t){let i=CL[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(c.join(" "));return}ic(new Ga(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebase-heartbeat-database",LL=1,hd="firebase-heartbeat-store";let gy=null;function VN(){return gy||(gy=Q4(PL,LL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Uo.create("idb-open",{originalErrorMessage:n.message})})),gy}async function UL(n){try{const t=(await VN()).transaction(hd),i=await t.objectStore(hd).get(ON(n));return await t.done,i}catch(e){if(e instanceof Fr)Pr.warn(e.message);else{const t=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(t.message)}}}async function pw(n,e){try{const i=(await VN()).transaction(hd,"readwrite");await i.objectStore(hd).put(e,ON(n)),await i.done}catch(t){if(t instanceof Fr)Pr.warn(t.message);else{const i=Uo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(i.message)}}}function ON(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,OL=30;class jL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>OL){const c=HL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gw(),{heartbeatsToSend:i,unsentEntries:r}=FL(this._heartbeatsCache.heartbeats),a=jf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Pr.warn(t),""}}}function gw(){return new Date().toISOString().substring(0,10)}function FL(n,e=VL){const t=[];let i=n.slice();for(const r of n){const a=t.find(c=>c.agent===r.agent);if(a){if(a.dates.push(r.date),yw(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),yw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class qL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A4()?N4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yw(n){return jf(JSON.stringify({version:2,heartbeats:n})).length}function HL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){ic(new Ga("platform-logger",e=>new eL(e),"PRIVATE")),ic(new Ga("heartbeat",e=>new jL(e),"PRIVATE")),Vo(Oy,fw,n),Vo(Oy,fw,"esm2020"),Vo("fire-js","")}BL("");var GL="firebase",zL="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(GL,zL,"app");var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oo,jN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function N(){}N.prototype=C.prototype,R.F=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(P,D,F){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return C.prototype[D].apply(P,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,C,N){N||(N=0);const P=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)P[D]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(D=0;D<16;++D)P[D]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],D=R.g[2];let F=R.g[3],V;V=C+(F^N&(D^F))+P[0]+3614090360&4294967295,C=N+(V<<7&4294967295|V>>>25),V=F+(D^C&(N^D))+P[1]+3905402710&4294967295,F=C+(V<<12&4294967295|V>>>20),V=D+(N^F&(C^N))+P[2]+606105819&4294967295,D=F+(V<<17&4294967295|V>>>15),V=N+(C^D&(F^C))+P[3]+3250441966&4294967295,N=D+(V<<22&4294967295|V>>>10),V=C+(F^N&(D^F))+P[4]+4118548399&4294967295,C=N+(V<<7&4294967295|V>>>25),V=F+(D^C&(N^D))+P[5]+1200080426&4294967295,F=C+(V<<12&4294967295|V>>>20),V=D+(N^F&(C^N))+P[6]+2821735955&4294967295,D=F+(V<<17&4294967295|V>>>15),V=N+(C^D&(F^C))+P[7]+4249261313&4294967295,N=D+(V<<22&4294967295|V>>>10),V=C+(F^N&(D^F))+P[8]+1770035416&4294967295,C=N+(V<<7&4294967295|V>>>25),V=F+(D^C&(N^D))+P[9]+2336552879&4294967295,F=C+(V<<12&4294967295|V>>>20),V=D+(N^F&(C^N))+P[10]+4294925233&4294967295,D=F+(V<<17&4294967295|V>>>15),V=N+(C^D&(F^C))+P[11]+2304563134&4294967295,N=D+(V<<22&4294967295|V>>>10),V=C+(F^N&(D^F))+P[12]+1804603682&4294967295,C=N+(V<<7&4294967295|V>>>25),V=F+(D^C&(N^D))+P[13]+4254626195&4294967295,F=C+(V<<12&4294967295|V>>>20),V=D+(N^F&(C^N))+P[14]+2792965006&4294967295,D=F+(V<<17&4294967295|V>>>15),V=N+(C^D&(F^C))+P[15]+1236535329&4294967295,N=D+(V<<22&4294967295|V>>>10),V=C+(D^F&(N^D))+P[1]+4129170786&4294967295,C=N+(V<<5&4294967295|V>>>27),V=F+(N^D&(C^N))+P[6]+3225465664&4294967295,F=C+(V<<9&4294967295|V>>>23),V=D+(C^N&(F^C))+P[11]+643717713&4294967295,D=F+(V<<14&4294967295|V>>>18),V=N+(F^C&(D^F))+P[0]+3921069994&4294967295,N=D+(V<<20&4294967295|V>>>12),V=C+(D^F&(N^D))+P[5]+3593408605&4294967295,C=N+(V<<5&4294967295|V>>>27),V=F+(N^D&(C^N))+P[10]+38016083&4294967295,F=C+(V<<9&4294967295|V>>>23),V=D+(C^N&(F^C))+P[15]+3634488961&4294967295,D=F+(V<<14&4294967295|V>>>18),V=N+(F^C&(D^F))+P[4]+3889429448&4294967295,N=D+(V<<20&4294967295|V>>>12),V=C+(D^F&(N^D))+P[9]+568446438&4294967295,C=N+(V<<5&4294967295|V>>>27),V=F+(N^D&(C^N))+P[14]+3275163606&4294967295,F=C+(V<<9&4294967295|V>>>23),V=D+(C^N&(F^C))+P[3]+4107603335&4294967295,D=F+(V<<14&4294967295|V>>>18),V=N+(F^C&(D^F))+P[8]+1163531501&4294967295,N=D+(V<<20&4294967295|V>>>12),V=C+(D^F&(N^D))+P[13]+2850285829&4294967295,C=N+(V<<5&4294967295|V>>>27),V=F+(N^D&(C^N))+P[2]+4243563512&4294967295,F=C+(V<<9&4294967295|V>>>23),V=D+(C^N&(F^C))+P[7]+1735328473&4294967295,D=F+(V<<14&4294967295|V>>>18),V=N+(F^C&(D^F))+P[12]+2368359562&4294967295,N=D+(V<<20&4294967295|V>>>12),V=C+(N^D^F)+P[5]+4294588738&4294967295,C=N+(V<<4&4294967295|V>>>28),V=F+(C^N^D)+P[8]+2272392833&4294967295,F=C+(V<<11&4294967295|V>>>21),V=D+(F^C^N)+P[11]+1839030562&4294967295,D=F+(V<<16&4294967295|V>>>16),V=N+(D^F^C)+P[14]+4259657740&4294967295,N=D+(V<<23&4294967295|V>>>9),V=C+(N^D^F)+P[1]+2763975236&4294967295,C=N+(V<<4&4294967295|V>>>28),V=F+(C^N^D)+P[4]+1272893353&4294967295,F=C+(V<<11&4294967295|V>>>21),V=D+(F^C^N)+P[7]+4139469664&4294967295,D=F+(V<<16&4294967295|V>>>16),V=N+(D^F^C)+P[10]+3200236656&4294967295,N=D+(V<<23&4294967295|V>>>9),V=C+(N^D^F)+P[13]+681279174&4294967295,C=N+(V<<4&4294967295|V>>>28),V=F+(C^N^D)+P[0]+3936430074&4294967295,F=C+(V<<11&4294967295|V>>>21),V=D+(F^C^N)+P[3]+3572445317&4294967295,D=F+(V<<16&4294967295|V>>>16),V=N+(D^F^C)+P[6]+76029189&4294967295,N=D+(V<<23&4294967295|V>>>9),V=C+(N^D^F)+P[9]+3654602809&4294967295,C=N+(V<<4&4294967295|V>>>28),V=F+(C^N^D)+P[12]+3873151461&4294967295,F=C+(V<<11&4294967295|V>>>21),V=D+(F^C^N)+P[15]+530742520&4294967295,D=F+(V<<16&4294967295|V>>>16),V=N+(D^F^C)+P[2]+3299628645&4294967295,N=D+(V<<23&4294967295|V>>>9),V=C+(D^(N|~F))+P[0]+4096336452&4294967295,C=N+(V<<6&4294967295|V>>>26),V=F+(N^(C|~D))+P[7]+1126891415&4294967295,F=C+(V<<10&4294967295|V>>>22),V=D+(C^(F|~N))+P[14]+2878612391&4294967295,D=F+(V<<15&4294967295|V>>>17),V=N+(F^(D|~C))+P[5]+4237533241&4294967295,N=D+(V<<21&4294967295|V>>>11),V=C+(D^(N|~F))+P[12]+1700485571&4294967295,C=N+(V<<6&4294967295|V>>>26),V=F+(N^(C|~D))+P[3]+2399980690&4294967295,F=C+(V<<10&4294967295|V>>>22),V=D+(C^(F|~N))+P[10]+4293915773&4294967295,D=F+(V<<15&4294967295|V>>>17),V=N+(F^(D|~C))+P[1]+2240044497&4294967295,N=D+(V<<21&4294967295|V>>>11),V=C+(D^(N|~F))+P[8]+1873313359&4294967295,C=N+(V<<6&4294967295|V>>>26),V=F+(N^(C|~D))+P[15]+4264355552&4294967295,F=C+(V<<10&4294967295|V>>>22),V=D+(C^(F|~N))+P[6]+2734768916&4294967295,D=F+(V<<15&4294967295|V>>>17),V=N+(F^(D|~C))+P[13]+1309151649&4294967295,N=D+(V<<21&4294967295|V>>>11),V=C+(D^(N|~F))+P[4]+4149444226&4294967295,C=N+(V<<6&4294967295|V>>>26),V=F+(N^(C|~D))+P[11]+3174756917&4294967295,F=C+(V<<10&4294967295|V>>>22),V=D+(C^(F|~N))+P[2]+718787259&4294967295,D=F+(V<<15&4294967295|V>>>17),V=N+(F^(D|~C))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+F&4294967295}i.prototype.v=function(R,C){C===void 0&&(C=R.length);const N=C-this.blockSize,P=this.C;let D=this.h,F=0;for(;F<C;){if(D==0)for(;F<=N;)r(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<C;)if(P[D++]=R.charCodeAt(F++),D==this.blockSize){r(this,P),D=0;break}}else for(;F<C;)if(P[D++]=R[F++],D==this.blockSize){r(this,P),D=0;break}}this.h=D,this.o+=C},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)R[C++]=this.g[N]>>>P&255;return R};function a(R,C){var N=h;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function c(R,C){this.h=C;const N=[];let P=!0;for(let D=R.length-1;D>=0;D--){const F=R[D]|0;P&&F==C||(N[D]=F,P=!1)}this.g=N}var h={};function m(R){return-128<=R&&R<128?a(R,function(C){return new c([C|0],C<0?-1:0)}):new c([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return M(f(-R));const C=[];let N=1;for(let P=0;R>=N;P++)C[P]=R/N|0,N*=4294967296;return new c(C,0)}function g(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return M(g(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(C,8));let P=E;for(let F=0;F<R.length;F+=8){var D=Math.min(8,R.length-F);const V=parseInt(R.substring(F,F+D),C);D<8?(D=f(Math.pow(C,D)),P=P.j(D).add(f(V))):(P=P.j(N),P=P.add(f(V)))}return P}var E=m(0),T=m(1),b=m(16777216);n=c.prototype,n.m=function(){if(L(this))return-M(this).m();let R=0,C=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);R+=(P>=0?P:4294967296+P)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(L(this))return"-"+M(this).toString(R);const C=f(Math.pow(R,6));var N=this;let P="";for(;;){const D=ne(N,C).g;N=j(N,D.j(C));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=D,I(N))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function L(R){return R.h==-1}n.l=function(R){return R=j(this,R),L(R)?-1:I(R)?0:1};function M(R){const C=R.g.length,N=[];for(let P=0;P<C;P++)N[P]=~R.g[P];return new c(N,~R.h).add(T)}n.abs=function(){return L(this)?M(this):this},n.add=function(R){const C=Math.max(this.g.length,R.g.length),N=[];let P=0;for(let D=0;D<=C;D++){let F=P+(this.i(D)&65535)+(R.i(D)&65535),V=(F>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);P=V>>>16,F&=65535,V&=65535,N[D]=V<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function j(R,C){return R.add(M(C))}n.j=function(R){if(I(this)||I(R))return E;if(L(this))return L(R)?M(this).j(M(R)):M(M(this).j(R));if(L(R))return M(this.j(M(R)));if(this.l(b)<0&&R.l(b)<0)return f(this.m()*R.m());const C=this.g.length+R.g.length,N=[];for(var P=0;P<2*C;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<R.g.length;D++){const F=this.i(P)>>>16,V=this.i(P)&65535,xe=R.i(D)>>>16,Ce=R.i(D)&65535;N[2*P+2*D]+=V*Ce,H(N,2*P+2*D),N[2*P+2*D+1]+=F*Ce,H(N,2*P+2*D+1),N[2*P+2*D+1]+=V*xe,H(N,2*P+2*D+1),N[2*P+2*D+2]+=F*xe,H(N,2*P+2*D+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new c(N,0)};function H(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function z(R,C){this.g=R,this.h=C}function ne(R,C){if(I(C))throw Error("division by zero");if(I(R))return new z(E,E);if(L(R))return C=ne(M(R),C),new z(M(C.g),M(C.h));if(L(C))return C=ne(R,M(C)),new z(M(C.g),C.h);if(R.g.length>30){if(L(R)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=C;P.l(R)<=0;)N=oe(N),P=oe(P);var D=q(N,1),F=q(P,1);for(P=q(P,2),N=q(N,2);!I(P);){var V=F.add(P);V.l(R)<=0&&(D=D.add(N),F=V),P=q(P,1),N=q(N,1)}return C=j(R,D.j(C)),new z(D,C)}for(D=E;R.l(C)>=0;){for(N=Math.max(1,Math.floor(R.m()/C.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=f(N),V=F.j(C);L(V)||V.l(R)>0;)N-=P,F=f(N),V=F.j(C);I(F)&&(F=T),D=D.add(F),R=j(R,V)}return new z(D,R)}n.B=function(R){return ne(this,R).h},n.and=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<C;P++)N[P]=this.i(P)&R.i(P);return new c(N,this.h&R.h)},n.or=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<C;P++)N[P]=this.i(P)|R.i(P);return new c(N,this.h|R.h)},n.xor=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<C;P++)N[P]=this.i(P)^R.i(P);return new c(N,this.h^R.h)};function oe(R){const C=R.g.length+1,N=[];for(let P=0;P<C;P++)N[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(N,R.h)}function q(R,C){const N=C>>5;C%=32;const P=R.g.length-N,D=[];for(let F=0;F<P;F++)D[F]=C>0?R.i(F+N)>>>C|R.i(F+N+1)<<32-C:R.i(F+N);return new c(D,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,jN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Oo=c}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FN,$u,qN,wf,Hy,HN,BN,GN;(function(){var n,e=Object.defineProperty;function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var w=0;w<v.length;++w){var A=v[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function r(v,w){if(w)e:{var A=i;v=v.split(".");for(var O=0;O<v.length-1;O++){var Q=v[O];if(!(Q in A))break e;A=A[Q]}v=v[v.length-1],O=A[v],w=w(O),w!=O&&w!=null&&e(A,v,{configurable:!0,writable:!0,value:w})}}r("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(v){return v||function(w){var A=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&A.push([O,w[O]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(v){var w=typeof v;return w=="object"&&v!=null||w=="function"}function m(v,w,A){return v.call.apply(v.bind,arguments)}function f(v,w,A){return f=m,f.apply(null,arguments)}function g(v,w){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),v.apply(this,O)}}function E(v,w){function A(){}A.prototype=w.prototype,v.Z=w.prototype,v.prototype=new A,v.prototype.constructor=v,v.Ob=function(O,Q,ie){for(var ve=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ve[Ze-2]=arguments[Ze];return w.prototype[Q].apply(O,ve)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function b(v){const w=v.length;if(w>0){const A=Array(w);for(let O=0;O<w;O++)A[O]=v[O];return A}return[]}function I(v,w){for(let O=1;O<arguments.length;O++){const Q=arguments[O];var A=typeof Q;if(A=A!="object"?A:Q?Array.isArray(Q)?"array":A:"null",A=="array"||A=="object"&&typeof Q.length=="number"){A=v.length||0;const ie=Q.length||0;v.length=A+ie;for(let ve=0;ve<ie;ve++)v[A+ve]=Q[ve]}else v.push(Q)}}class L{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(v){c.setTimeout(()=>{throw v},0)}function j(){var v=R;let w=null;return v.g&&(w=v.g,v.g=v.g.next,v.g||(v.h=null),w.next=null),w}class H{constructor(){this.h=this.g=null}add(w,A){const O=z.get();O.set(w,A),this.h?this.h.next=O:this.g=O,this.h=O}}var z=new L(()=>new ne,v=>v.reset());class ne{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,q=!1,R=new H,C=()=>{const v=Promise.resolve(void 0);oe=()=>{v.then(N)}};function N(){for(var v;v=j();){try{v.h.call(v.g)}catch(A){M(A)}var w=z;w.j(v),w.h<100&&(w.h++,v.next=w.g,w.g=v)}q=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(v,w){this.type=v,this.g=this.target=w,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,w=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const A=()=>{};c.addEventListener("test",A,w),c.removeEventListener("test",A,w)}catch{}return v})();function V(v){return/^[\s\xa0]*$/.test(v)}function xe(v,w){D.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,w)}E(xe,D),xe.prototype.init=function(v,w){const A=this.type=v.type,O=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=w,w=v.relatedTarget,w||(A=="mouseover"?w=v.fromElement:A=="mouseout"&&(w=v.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),W=0;function ce(v,w,A,O,Q){this.listener=v,this.proxy=null,this.src=w,this.type=A,this.capture=!!O,this.ha=Q,this.key=++W,this.da=this.fa=!1}function Ee(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function He(v,w,A){for(const O in v)w.call(A,v[O],O,v)}function Le(v,w){for(const A in v)w.call(void 0,v[A],A,v)}function G(v){const w={};for(const A in v)w[A]=v[A];return w}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(v,w){let A,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(A in O)v[A]=O[A];for(let ie=0;ie<$.length;ie++)A=$[ie],Object.prototype.hasOwnProperty.call(O,A)&&(v[A]=O[A])}}function ye(v){this.src=v,this.g={},this.h=0}ye.prototype.add=function(v,w,A,O,Q){const ie=v.toString();v=this.g[ie],v||(v=this.g[ie]=[],this.h++);const ve=Fe(v,w,O,Q);return ve>-1?(w=v[ve],A||(w.fa=!1)):(w=new ce(w,this.src,ie,!!O,Q),w.fa=A,v.push(w)),w};function Re(v,w){const A=w.type;if(A in v.g){var O=v.g[A],Q=Array.prototype.indexOf.call(O,w,void 0),ie;(ie=Q>=0)&&Array.prototype.splice.call(O,Q,1),ie&&(Ee(w),v.g[A].length==0&&(delete v.g[A],v.h--))}}function Fe(v,w,A,O){for(let Q=0;Q<v.length;++Q){const ie=v[Q];if(!ie.da&&ie.listener==w&&ie.capture==!!A&&ie.ha==O)return Q}return-1}var tt="closure_lm_"+(Math.random()*1e6|0),Qt={};function Qe(v,w,A,O,Q){if(Array.isArray(w)){for(let ie=0;ie<w.length;ie++)Qe(v,w[ie],A,O,Q);return null}return A=or(A),v&&v[Ce]?v.J(w,A,h(O)?!!O.capture:!1,Q):ds(v,w,A,!1,O,Q)}function ds(v,w,A,O,Q,ie){if(!w)throw Error("Invalid event type");const ve=h(Q)?!!Q.capture:!!Q;let Ze=di(v);if(Ze||(v[tt]=Ze=new ye(v)),A=Ze.add(w,A,O,ve,ie),A.proxy)return A;if(O=en(),A.proxy=O,O.src=v,O.listener=A,v.addEventListener)F||(Q=ve),Q===void 0&&(Q=!1),v.addEventListener(w.toString(),O,Q);else if(v.attachEvent)v.attachEvent(zn(w.toString()),O);else if(v.addListener&&v.removeListener)v.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function en(){function v(A){return w.call(v.src,v.listener,A)}const w=$n;return v}function ui(v,w,A,O,Q){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)ui(v,w[ie],A,O,Q);else O=h(O)?!!O.capture:!!O,A=or(A),v&&v[Ce]?(v=v.i,ie=String(w).toString(),ie in v.g&&(w=v.g[ie],A=Fe(w,A,O,Q),A>-1&&(Ee(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete v.g[ie],v.h--)))):v&&(v=di(v))&&(w=v.g[w.toString()],v=-1,w&&(v=Fe(w,A,O,Q)),(A=v>-1?w[v]:null)&&Bi(A))}function Bi(v){if(typeof v!="number"&&v&&!v.da){var w=v.src;if(w&&w[Ce])Re(w.i,v);else{var A=v.type,O=v.proxy;w.removeEventListener?w.removeEventListener(A,O,v.capture):w.detachEvent?w.detachEvent(zn(A),O):w.addListener&&w.removeListener&&w.removeListener(O),(A=di(w))?(Re(A,v),A.h==0&&(A.src=null,w[tt]=null)):Ee(v)}}}function zn(v){return v in Qt?Qt[v]:Qt[v]="on"+v}function $n(v,w){if(v.da)v=!0;else{w=new xe(w,this);const A=v.listener,O=v.ha||v.src;v.fa&&Bi(v),v=A.call(O,w)}return v}function di(v){return v=v[tt],v instanceof ye?v:null}var Ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function or(v){return typeof v=="function"?v:(v[Ps]||(v[Ps]=function(w){return v.handleEvent(w)}),v[Ps])}function Lt(){P.call(this),this.i=new ye(this),this.M=this,this.G=null}E(Lt,P),Lt.prototype[Ce]=!0,Lt.prototype.removeEventListener=function(v,w,A,O){ui(this,v,w,A,O)};function Ut(v,w){var A,O=v.G;if(O)for(A=[];O;O=O.G)A.push(O);if(v=v.M,O=w.type||w,typeof w=="string")w=new D(w,v);else if(w instanceof D)w.target=w.target||v;else{var Q=w;w=new D(O,v),me(w,Q)}Q=!0;let ie,ve;if(A)for(ve=A.length-1;ve>=0;ve--)ie=w.g=A[ve],Q=Pn(ie,O,!0,w)&&Q;if(ie=w.g=v,Q=Pn(ie,O,!0,w)&&Q,Q=Pn(ie,O,!1,w)&&Q,A)for(ve=0;ve<A.length;ve++)ie=w.g=A[ve],Q=Pn(ie,O,!1,w)&&Q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var v=this.i;for(const w in v.g){const A=v.g[w];for(let O=0;O<A.length;O++)Ee(A[O]);delete v.g[w],v.h--}}this.G=null},Lt.prototype.J=function(v,w,A,O){return this.i.add(String(v),w,!1,A,O)},Lt.prototype.K=function(v,w,A,O){return this.i.add(String(v),w,!0,A,O)};function Pn(v,w,A,O){if(w=v.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let ie=0;ie<w.length;++ie){const ve=w[ie];if(ve&&!ve.da&&ve.capture==A){const Ze=ve.listener,dn=ve.ha||ve.src;ve.fa&&Re(v.i,ve),Q=Ze.call(dn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function Yr(v,w){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=f(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(v,w||0)}function fe(v){v.g=Yr(()=>{v.g=null,v.i&&(v.i=!1,fe(v))},v.l);const w=v.h;v.h=null,v.m.apply(null,w)}class Me extends P{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(v){P.call(this),this.h=v,this.g={}}E(pt,P);var Kn=[];function Yn(v){He(v.g,function(w,A){this.g.hasOwnProperty(A)&&Bi(w)},v),v.g={}}pt.prototype.N=function(){pt.Z.N.call(this),Yn(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=c.JSON.stringify,ti=c.JSON.parse,Ai=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Ni(){}function Ls(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){D.call(this,"d")}E(tn,D);function Ln(){D.call(this,"c")}E(Ln,D);var $t={},Jr=null;function Wr(){return Jr=Jr||new Lt}$t.Ia="serverreachability";function ca(v){D.call(this,$t.Ia,v)}E(ca,D);function Gi(v){const w=Wr();Ut(w,new ca(w))}$t.STAT_EVENT="statevent";function Us(v,w){D.call(this,$t.STAT_EVENT,v),this.stat=w}E(Us,D);function nn(v){const w=Wr();Ut(w,new Us(w,v))}$t.Ja="timingevent";function Y(v,w){D.call(this,$t.Ja,v),this.size=w}E(Y,D);function ee(v,w){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},w)}function re(){this.g=!0}re.prototype.ua=function(){this.g=!1};function ge(v,w,A,O,Q,ie){v.info(function(){if(v.g)if(ie){var ve="",Ze=ie.split("&");for(let xt=0;xt<Ze.length;xt++){var dn=Ze[xt].split("=");if(dn.length>1){const Yt=dn[0];dn=dn[1];const Ki=Yt.split("_");ve=Ki.length>=2&&Ki[1]=="type"?ve+(Yt+"="+dn+"&"):ve+(Yt+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+w+`
`+A+`
`+ve})}function Se(v,w,A,O,Q,ie,ve){v.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+w+`
`+A+`
`+ie+" "+ve})}function Be(v,w,A,O){v.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ue(v,A)+(O?" "+O:"")})}function Pe(v,w){v.info(function(){return"TIMEOUT: "+w})}re.prototype.info=function(){};function Ue(v,w){if(!v.g)return w;if(!w)return null;try{const ie=JSON.parse(w);if(ie){for(v=0;v<ie.length;v++)if(Array.isArray(ie[v])){var A=ie[v];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var Q=O[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<O.length;ve++)O[ve]=""}}}}return hi(ie)}catch{return w}}var Ne={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kt;function ze(){}E(ze,Ni),ze.prototype.g=function(){return new XMLHttpRequest},Kt=new ze;function ot(v){return encodeURIComponent(String(v))}function sn(v){var w=1;v=v.split(":");const A=[];for(;w>0&&v.length;)A.push(v.shift()),w--;return v.length&&A.push(v.join(":")),A}function Ot(v,w,A,O){this.j=v,this.i=w,this.l=A,this.S=O||1,this.V=new pt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var kt={},rn={};function Un(v,w,A){v.M=1,v.A=da(gn(w)),v.u=A,v.R=!0,ni(v,null)}function ni(v,w){v.F=Date.now(),fi(v),v.B=gn(v.A);var A=v.B,O=v.S;Array.isArray(O)||(O=[String(O)]),el(A.i,"t",O),v.C=0,A=v.j.L,v.h=new wt,v.g=Zd(v.j,A?w:null,!v.u),v.P>0&&(v.O=new Me(f(v.Y,v,v.g),v.P)),w=v.V,A=v.g,O=v.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Kn[0]=Q.toString()),Q=Kn);for(let ie=0;ie<Q.length;ie++){const ve=Qe(A,Q[ie],O||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=v.J?G(v.J):{},v.u?(v.v||(v.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,w)):(v.v="GET",v.g.ea(v.B,v.v,null,w)),Gi(),ge(v.i,v.v,v.B,v.l,v.S,v.u)}Ot.prototype.ba=function(v){v=v.target;const w=this.O;w&&ps(v)==3?w.j():this.Y(v)},Ot.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=ps(this.g),dn=this.g.ya(),xt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Vn(this.g)))){this.K||Ze!=4||dn==7||(dn==8||xt<=0?Gi(3):Gi(2)),ii(this);var w=this.g.ca();this.X=w;var A=hs(this);if(this.o=w==200,Se(this.i,this.v,this.B,this.l,this.S,Ze,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,Q=this.g;if((O=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(O)){var ie=O;break t}}ie=null}if(v=ie)Be(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jt(this,v);else{this.o=!1,this.m=3,nn(12),Xe(this),Ye(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<A.length;)if(Yt=Vs(this,A),Yt==rn){Ze==4&&(this.m=4,nn(14),v=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==kt){this.m=4,nn(15),Be(this.i,this.l,A,"[Invalid Chunk]"),v=!1;break}else Be(this.i,this.l,Yt,null),jt(this,Yt);if(Qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||A.length!=0||this.h.h||(this.m=1,nn(16),v=!1),this.o=this.o&&v,!v)Be(this.i,this.l,A,"[Invalid Chunked Response]"),Xe(this),Ye(this);else if(A.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Xc(ve),ve.P=!0,nn(11))}}else Be(this.i,this.l,A,null),jt(this,A);Ze==4&&Xe(this),this.o&&!this.K&&(Ze==4?Jd(this.j,this):(this.o=!1,fi(this)))}else lr(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Xe(this),Ye(this)}}}catch{}finally{}};function hs(v){if(!Qr(v))return v.g.la();const w=Vn(v.g);if(w==="")return"";let A="";const O=w.length,Q=ps(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Xe(v),Ye(v),"";v.h.i=new c.TextDecoder}for(let ie=0;ie<O;ie++)v.h.h=!0,A+=v.h.i.decode(w[ie],{stream:!(Q&&ie==O-1)});return w.length=0,v.h.g+=A,v.C=0,v.h.g}function Qr(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Vs(v,w){var A=v.C,O=w.indexOf(`
`,A);return O==-1?rn:(A=Number(w.substring(A,O)),isNaN(A)?kt:(O+=1,O+A>w.length?rn:(w=w.slice(O,O+A),v.C=O+A,w)))}Ot.prototype.cancel=function(){this.K=!0,Xe(this)};function fi(v){v.T=Date.now()+v.H,Ii(v,v.H)}function Ii(v,w){if(v.D!=null)throw Error("WatchDog timer not null");v.D=ee(f(v.aa,v),w)}function ii(v){v.D&&(c.clearTimeout(v.D),v.D=null)}Ot.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Pe(this.i,this.B),this.M!=2&&(Gi(),nn(17)),Xe(this),this.m=2,Ye(this)):Ii(this,this.T-v)};function Ye(v){v.j.I==0||v.K||Jd(v.j,v)}function Xe(v){ii(v);var w=v.O;w&&typeof w.dispose=="function"&&w.dispose(),v.O=null,Yn(v.V),v.g&&(w=v.g,v.g=null,w.abort(),w.dispose())}function jt(v,w){try{var A=v.j;if(A.I!=0&&(A.g==v||js(A.h,v))){if(!v.L&&js(A.h,v)&&A.I==3){try{var O=A.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<v.F)rl(A),ro(A);else break e;va(A),nn(18)}}else A.xa=Q[1],0<A.xa-A.K&&Q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ee(f(A.Va,A),6e3));Os(A.h)<=1&&A.ta&&(A.ta=void 0)}else zs(A,11)}else if((v.L||A.g==v)&&rl(A),!V(w))for(Q=A.Ba.g.parse(w),w=0;w<Q.length;w++){let xt=Q[w];const Yt=xt[0];if(!(Yt<=A.K))if(A.K=Yt,xt=xt[1],A.I==2)if(xt[0]=="c"){A.M=xt[1],A.ba=xt[2];const Ki=xt[3];Ki!=null&&(A.ka=Ki,A.j.info("VER="+A.ka));const $s=xt[4];$s!=null&&(A.za=$s,A.j.info("SVER="+A.za));const gs=xt[5];gs!=null&&typeof gs=="number"&&gs>0&&(O=1.5*gs,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const ys=v.g;if(ys){const _a=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ie=O.h;ie.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Fc(ie,ie.h),ie.h=null))}if(O.G){const ol=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(O.wa=ol,bt(O.J,O.G,ol))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-v.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var ve=v;if(O.na=Xd(O,O.L?O.ba:null,O.W),ve.L){qc(O.h,ve);var Ze=ve,dn=O.O;dn&&(Ze.H=dn),Ze.D&&(ii(Ze),fi(Ze)),O.g=ve}else Kd(O);A.i.length>0&&Gs(A)}else xt[0]!="stop"&&xt[0]!="close"||zs(A,7);else A.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?zs(A,7):Wc(A):xt[0]!="noop"&&A.l&&A.l.qa(xt),A.A=0)}}Gi(4)}catch{}}var Ft=class{constructor(v,w){this.g=v,this.map=w}};function ua(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Os(v){return v.h?1:v.g?v.g.size:0}function js(v,w){return v.h?v.h==w:v.g?v.g.has(w):!1}function Fc(v,w){v.g?v.g.add(w):v.h=w}function qc(v,w){v.h&&v.h==w?v.h=null:v.g&&v.g.has(w)&&v.g.delete(w)}ua.prototype.cancel=function(){if(this.i=Hc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Hc(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let w=v.i;for(const A of v.g.values())w=w.concat(A.G);return w}return b(v.i)}var qd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(v,w){if(v){v=v.split("&");for(let A=0;A<v.length;A++){const O=v[A].indexOf("=");let Q,ie=null;O>=0?(Q=v[A].substring(0,O),ie=v[A].substring(O+1)):Q=v[A],w(Q,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ci(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;v instanceof Ci?(this.l=v.l,In(this,v.j),this.o=v.o,this.g=v.g,Xr(this,v.u),this.h=v.h,Bc(this,zd(v.i)),this.m=v.m):v&&(w=String(v).match(qd))?(this.l=!1,In(this,w[1]||"",!0),this.o=Fs(w[2]||""),this.g=Fs(w[3]||"",!0),Xr(this,w[4]),this.h=Fs(w[5]||"",!0),Bc(this,w[6]||"",!0),this.m=Fs(w[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}Ci.prototype.toString=function(){const v=[];var w=this.j;w&&v.push(ha(w,Za,!0),":");var A=this.g;return(A||w=="file")&&(v.push("//"),(w=this.o)&&v.push(ha(w,Za,!0),"@"),v.push(ot(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&v.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&v.push("/"),v.push(ha(A,A.charAt(0)=="/"?Gc:Hd,!0))),(A=this.i.toString())&&v.push("?",A),(A=this.m)&&v.push("#",ha(A,Bd)),v.join("")},Ci.prototype.resolve=function(v){const w=gn(this);let A=!!v.j;A?In(w,v.j):A=!!v.o,A?w.o=v.o:A=!!v.g,A?w.g=v.g:A=v.u!=null;var O=v.h;if(A)Xr(w,v.u);else if(A=!!v.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(O=w.h.slice(0,Q+1)+O)}if(Q=O,Q==".."||Q==".")O="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){O=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ie=[];for(let ve=0;ve<Q.length;){const Ze=Q[ve++];Ze=="."?O&&ve==Q.length&&ie.push(""):Ze==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),O&&ve==Q.length&&ie.push("")):(ie.push(Ze),O=!0)}O=ie.join("/")}else O=Q}return A?w.h=O:A=v.i.toString()!=="",A?Bc(w,zd(v.i)):A=!!v.m,A&&(w.m=v.m),w};function gn(v){return new Ci(v)}function In(v,w,A){v.j=A?Fs(w,!0):w,v.j&&(v.j=v.j.replace(/:$/,""))}function Xr(v,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);v.u=w}else v.u=null}function Bc(v,w,A){w instanceof eo?(v.i=w,tl(v.i,v.l)):(A||(w=ha(w,Zr)),v.i=new eo(w,v.l))}function bt(v,w,A){v.i.set(w,A)}function da(v){return bt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Fs(v,w){return v?w?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ha(v,w,A){return typeof v=="string"?(v=encodeURI(v).replace(w,mi),A&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function mi(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Za=/[#\/\?@]/g,Hd=/[#\?:]/g,Gc=/[#\?]/g,Zr=/[#\?@]/g,Bd=/#/g;function eo(v,w){this.h=this.g=null,this.i=v||null,this.j=!!w}function pi(v){v.g||(v.g=new Map,v.h=0,v.i&&Xa(v.i,function(w,A){v.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}n=eo.prototype,n.add=function(v,w){pi(this),this.i=null,v=to(this,v);let A=this.g.get(v);return A||this.g.set(v,A=[]),A.push(w),this.h+=1,this};function Gd(v,w){pi(v),w=to(v,w),v.g.has(w)&&(v.i=null,v.h-=v.g.get(w).length,v.g.delete(w))}function zc(v,w){return pi(v),w=to(v,w),v.g.has(w)}n.forEach=function(v,w){pi(this),this.g.forEach(function(A,O){A.forEach(function(Q){v.call(w,Q,O,this)},this)},this)};function $c(v,w){pi(v);let A=[];if(typeof w=="string")zc(v,w)&&(A=A.concat(v.g.get(to(v,w))));else for(v=Array.from(v.g.values()),w=0;w<v.length;w++)A=A.concat(v[w]);return A}n.set=function(v,w){return pi(this),this.i=null,v=to(this,v),zc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[w]),this.h+=1,this},n.get=function(v,w){return v?(v=$c(this,v),v.length>0?String(v[0]):w):w};function el(v,w,A){Gd(v,w),A.length>0&&(v.i=null,v.g.set(to(v,w),b(A)),v.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var A=w[O];const Q=ot(A);A=$c(this,A);for(let ie=0;ie<A.length;ie++){let ve=Q;A[ie]!==""&&(ve+="="+ot(A[ie])),v.push(ve)}}return this.i=v.join("&")};function zd(v){const w=new eo;return w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),w}function to(v,w){return w=String(w),v.j&&(w=w.toLowerCase()),w}function tl(v,w){w&&!v.j&&(pi(v),v.i=null,v.g.forEach(function(A,O){const Q=O.toLowerCase();O!=Q&&(Gd(this,O),el(this,Q,A))},v)),v.j=w}function fs(v,w){const A=new re;if(c.Image){const O=new Image;O.onload=g(zi,A,"TestLoadImage: loaded",!0,w,O),O.onerror=g(zi,A,"TestLoadImage: error",!1,w,O),O.onabort=g(zi,A,"TestLoadImage: abort",!1,w,O),O.ontimeout=g(zi,A,"TestLoadImage: timeout",!1,w,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=v}else w(!1)}function Kc(v,w){const A=new re,O=new AbortController,Q=setTimeout(()=>{O.abort(),zi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(v,{signal:O.signal}).then(ie=>{clearTimeout(Q),ie.ok?zi(A,"TestPingServer: ok",!0,w):zi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),zi(A,"TestPingServer: error",!1,w)})}function zi(v,w,A,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(A)}catch{}}function no(){this.g=new Ai}function qs(v){this.i=v.Sb||null,this.h=v.ab||!1}E(qs,Ni),qs.prototype.g=function(){return new fa(this.i,this.h)};function fa(v,w){Lt.call(this),this.H=v,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(fa,Lt),n=fa.prototype,n.open=function(v,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=w,this.readyState=1,ms(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(w.body=v),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},n.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}n.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var w=v.value?v.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!v.done}))&&(this.response=this.responseText+=w)}v.done?io(this):ms(this),this.readyState==3&&nl(this)}},n.Oa=function(v){this.g&&(this.response=this.responseText=v,io(this))},n.Na=function(v){this.g&&(this.response=v,io(this))},n.ga=function(){this.g&&io(this)};function io(v){v.readyState=4,v.l=null,v.j=null,v.B=null,ms(v)}n.setRequestHeader=function(v,w){this.A.append(v,w)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,v.push(A[0]+": "+A[1]),A=w.next();return v.join(`\r
`)};function ms(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function $i(v){let w="";return He(v,function(A,O){w+=O,w+=":",w+=A,w+=`\r
`}),w}function ma(v,w,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=$i(A),typeof v=="string"?A!=null&&ot(A):bt(v,w,A))}function It(v){Lt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(It,Lt);var Hs=/^https?$/i,Yc=["POST","PUT"];n=It.prototype,n.Fa=function(v){this.H=v},n.ea=function(v,w,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);w=w?w.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kt.g(),this.g.onreadystatechange=T(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(v),!0),this.B=!1}catch(ie){pa(this,ie);return}if(v=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)A.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())A.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(Yc,w,void 0)>=0)||O||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of A)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ie){pa(this,ie)}};function pa(v,w){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=w,v.o=5,Jc(v),ar(v)}function Jc(v){v.A||(v.A=!0,Ut(v,"complete"),Ut(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ut(this,"complete"),Ut(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),It.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},n.Xa=function(){ga(this)};function ga(v){if(v.h&&typeof a<"u"){if(v.v&&ps(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ut(v,"readystatechange"),ps(v)==4){v.h=!1;try{const ie=v.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var O;if(O=ie===0){let ve=String(v.D).match(qd)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),O=!Hs.test(ve?ve.toLowerCase():"")}A=O}if(A)Ut(v,"complete"),Ut(v,"success");else{v.o=6;try{var Q=ps(v)>2?v.g.statusText:""}catch{Q=""}v.l=Q+" ["+v.ca()+"]",Jc(v)}}finally{ar(v)}}}}function ar(v,w){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const A=v.g;v.g=null,w||Ut(v,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ps(v){return v.g?v.g.readyState:0}n.ca=function(){try{return ps(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(v){if(this.g){var w=this.g.responseText;return v&&w.indexOf(v)==0&&(w=w.substring(v.length)),ti(w)}};function Vn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(v){const w={};v=(v.g&&ps(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<v.length;O++){if(V(v[O]))continue;var A=sn(v[O]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=w[Q]||[];w[Q]=ie,ie.push(A)}Le(w,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(v,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[v]||w}function so(v){this.za=0,this.i=[],this.j=new re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bs("baseRetryDelayMs",5e3,v),this.Za=Bs("retryDelaySeedMs",1e4,v),this.Ta=Bs("forwardChannelMaxRetries",2,v),this.va=Bs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new ua(v&&v.concurrentRequestLimit),this.Ba=new no,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=so.prototype,n.ka=8,n.I=1,n.connect=function(v,w,A,O){nn(0),this.W=v,this.H=w||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=Xd(this,null,this.W),Gs(this)};function Wc(v){if(il(v),v.I==3){var w=v.V++,A=gn(v.J);if(bt(A,"SID",v.M),bt(A,"RID",w),bt(A,"TYPE","terminate"),ya(v,A),w=new Ot(v,v.j,w),w.M=2,w.A=da(gn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=w.A,A=!0),A||(w.g=Zd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),fi(w)}Qd(v)}function ro(v){v.g&&(Xc(v),v.g.cancel(),v.g=null)}function il(v){ro(v),v.v&&(c.clearTimeout(v.v),v.v=null),rl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function Gs(v){if(!jc(v.h)&&!v.m){v.m=!0;var w=v.Ea;oe||C(),q||(oe(),q=!0),R.add(w,v),v.D=0}}function sl(v,w){return Os(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=w.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=ee(f(v.Ea,v,w),Wd(v,v.D)),v.D++,!0)}n.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const Q=new Ot(this,this.j,v);let ie=this.o;if(this.U&&(ie?(ie=G(ie),me(ie,this.U)):ie=this.U),this.u!==null||this.R||(Q.J=ie,ie=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=$d(this,Q,w),A=gn(this.J),bt(A,"RID",v),bt(A,"CVER",22),this.G&&bt(A,"X-HTTP-Session-Id",this.G),ya(this,A),ie&&(this.R?w="headers="+ot($i(ie))+"&"+w:this.u&&ma(A,this.u,ie)),Fc(this.h,Q),this.Ra&&bt(A,"TYPE","init"),this.S?(bt(A,"$req",w),bt(A,"SID","null"),Q.U=!0,Un(Q,A,null)):Un(Q,A,w),this.I=2}}else this.I==3&&(v?Qc(this,v):this.i.length==0||jc(this.h)||Qc(this))};function Qc(v,w){var A;w?A=w.l:A=v.V++;const O=gn(v.J);bt(O,"SID",v.M),bt(O,"RID",A),bt(O,"AID",v.K),ya(v,O),v.u&&v.o&&ma(O,v.u,v.o),A=new Ot(v,v.j,A,v.D+1),v.u===null&&(A.J=v.o),w&&(v.i=w.G.concat(v.i)),w=$d(v,A,1e3),A.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Fc(v.h,A),Un(A,O,w)}function ya(v,w){v.H&&He(v.H,function(A,O){bt(w,O,A)}),v.l&&He({},function(A,O){bt(w,O,A)})}function $d(v,w,A){A=Math.min(v.i.length,A);const O=v.l?f(v.l.Ka,v.l,v):null;e:{var Q=v.i;let Ze=-1;for(;;){const dn=["count="+A];Ze==-1?A>0?(Ze=Q[0].g,dn.push("ofs="+Ze)):Ze=0:dn.push("ofs="+Ze);let xt=!0;for(let Yt=0;Yt<A;Yt++){var ie=Q[Yt].g;const Ki=Q[Yt].map;if(ie-=Ze,ie<0)Ze=Math.max(0,Q[Yt].g-100),xt=!1;else try{ie="req"+ie+"_"||"";try{var ve=Ki instanceof Map?Ki:Object.entries(Ki);for(const[$s,gs]of ve){let ys=gs;h(gs)&&(ys=hi(gs)),dn.push(ie+$s+"="+encodeURIComponent(ys))}}catch($s){throw dn.push(ie+"type="+encodeURIComponent("_badmap")),$s}}catch{O&&O(Ki)}}if(xt){ve=dn.join("&");break e}}ve=void 0}return v=v.i.splice(0,A),w.G=v,ve}function Kd(v){if(!v.g&&!v.v){v.Y=1;var w=v.Da;oe||C(),q||(oe(),q=!0),R.add(w,v),v.A=0}}function va(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=ee(f(v.Da,v),Wd(v,v.A)),v.A++,!0)}n.Da=function(){if(this.v=null,Yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=ee(f(this.Wa,this),v)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),ro(this),Yd(this))};function Xc(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function Yd(v){v.g=new Ot(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var w=gn(v.na);bt(w,"RID","rpc"),bt(w,"SID",v.M),bt(w,"AID",v.K),bt(w,"CI",v.F?"0":"1"),!v.F&&v.ia&&bt(w,"TO",v.ia),bt(w,"TYPE","xmlhttp"),ya(v,w),v.u&&v.o&&ma(w,v.u,v.o),v.O&&(v.g.H=v.O);var A=v.g;v=v.ba,A.M=1,A.A=da(gn(w)),A.u=null,A.R=!0,ni(A,v)}n.Va=function(){this.C!=null&&(this.C=null,ro(this),va(this),nn(19))};function rl(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function Jd(v,w){var A=null;if(v.g==w){rl(v),Xc(v),v.g=null;var O=2}else if(js(v.h,w))A=w.G,qc(v.h,w),O=1;else return;if(v.I!=0){if(w.o)if(O==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var Q=v.D;O=Wr(),Ut(O,new Y(O,A)),Gs(v)}else Kd(v);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(O==1&&sl(v,w)||O==2&&va(v)))switch(A&&A.length>0&&(w=v.h,w.i=w.i.concat(A)),Q){case 1:zs(v,5);break;case 4:zs(v,10);break;case 3:zs(v,6);break;default:zs(v,2)}}}function Wd(v,w){let A=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(A*=2),A*w}function zs(v,w){if(v.j.info("Error code "+w),w==2){var A=f(v.bb,v),O=v.Ua;const Q=!O;O=new Ci(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||In(O,"https"),da(O),Q?fs(O.toString(),A):Kc(O.toString(),A)}else nn(2);v.I=0,v.l&&v.l.pa(w),Qd(v),il(v)}n.bb=function(v){v?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Qd(v){if(v.I=0,v.ja=[],v.l){const w=Hc(v.h);(w.length!=0||v.i.length!=0)&&(I(v.ja,w),I(v.ja,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.oa()}}function Xd(v,w,A){var O=A instanceof Ci?gn(A):new Ci(A);if(O.g!="")w&&(O.g=w+"."+O.g),Xr(O,O.u);else{var Q=c.location;O=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const ie=new Ci(null);O&&In(ie,O),w&&(ie.g=w),Q&&Xr(ie,Q),A&&(ie.h=A),O=ie}return A=v.G,w=v.wa,A&&w&&bt(O,A,w),bt(O,"VER",v.ka),ya(v,O),O}function Zd(v,w,A){if(w&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=v.Aa&&!v.ma?new It(new qs({ab:A})):new It(v.ma),w.Fa(v.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function oo(){}oo.prototype.g=function(v,w){return new si(v,w)};function si(v,w){Lt.call(this),this.g=new so(w),this.l=v,this.h=w&&w.messageUrlParams||null,v=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(v?v["X-WebChannel-Content-Type"]=w.messageContentType:v={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(v?v["X-WebChannel-Client-Profile"]=w.sa:v={"X-WebChannel-Client-Profile":w.sa}),this.g.U=v,(v=w&&w.Qb)&&!V(v)&&(this.g.u=v),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,v=this.h,v!==null&&w in v&&(v=this.h,w in v&&delete v[w])),this.j=new cr(this)}E(si,Lt),si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Wc(this.g)},si.prototype.o=function(v){var w=this.g;if(typeof v=="string"){var A={};A.__data__=v,v=A}else this.v&&(A={},A.__data__=hi(v),v=A);w.i.push(new Ft(w.Ya++,v)),w.I==3&&Gs(w)},si.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,si.Z.N.call(this)};function th(v){tn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var w=v.__sm__;if(w){e:{for(const A in w){v=A;break e}v=void 0}(this.i=v)&&(v=this.i,w=w!==null&&v in w?w[v]:void 0),this.data=w}else this.data=v}E(th,tn);function nh(){Ln.call(this),this.status=1}E(nh,Ln);function cr(v){this.g=v}E(cr,eh),cr.prototype.ra=function(){Ut(this.g,"a")},cr.prototype.qa=function(v){Ut(this.g,new th(v))},cr.prototype.pa=function(v){Ut(this.g,new nh)},cr.prototype.oa=function(){Ut(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,GN=function(){return new oo},BN=function(){return Wr()},HN=$t,Hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,wf=Ne,nt.COMPLETE="complete",qN=nt,Ls.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,$u=Ls,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,FN=It}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",xw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Hv("@firebase/firestore");function jl(){return $a.logLevel}function be(n,...e){if($a.logLevel<=ct.DEBUG){const t=e.map(Kv);$a.debug(`Firestore (${wc}): ${n}`,...t)}}function Lr(n,...e){if($a.logLevel<=ct.ERROR){const t=e.map(Kv);$a.error(`Firestore (${wc}): ${n}`,...t)}}function sc(n,...e){if($a.logLevel<=ct.WARN){const t=e.map(Kv);$a.warn(`Firestore (${wc}): ${n}`,...t)}}function Kv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,zN(n,i,t)}function zN(n,e,t){let i=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Lr(i),new Error(i)}function mt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||zN(e,r,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xn.UNAUTHENTICATED)))}shutdown(){}}class KL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YL{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let i=this.i;const r=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let a=new er;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new er,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},h=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new er)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new $N(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class JL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WL{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new JL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const i=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ew(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=XL(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function ut(n,e){return n<e?-1:n>e?1:0}function By(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return yy(r)===yy(a)?ut(r,a):yy(r)?1:-1}return ut(n.length,e.length)}const ZL=55296,e5=57343;function yy(n){const e=n.charCodeAt(0);return e>=ZL&&e<=e5}function rc(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__name__";class Qs{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Oe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qs?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Qs.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return ut(e.length,t.length)}static compareSegments(e,t){const i=Qs.isNumericId(e),r=Qs.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Qs.extractNumericId(e).compare(Qs.extractNumericId(t)):By(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oo.fromString(e.substring(4,e.length-2))}}class Mt extends Qs{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new Mt(t)}static emptyPath(){return new Mt([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Qs{construct(e,t,i){return new Bn(e,t,i)}static isValidIdentifier(e){return t5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tw}static keyField(){return new Bn([Tw])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(a(),r++)}if(a(),c)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Mt.fromString(e))}static fromName(e){return new De(Mt.fromString(e).popFirst(5))}static empty(){return new De(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n,e,t){if(!t)throw new _e(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n5(n,e,t,i){if(e===!0&&i===!0)throw new _e(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!De.isDocumentKey(n))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bw(n){if(De.isDocumentKey(n))throw new _e(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function as(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tm(n);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function i5(n,e){if(e<=0)throw new _e(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cd(n,e){if(!YN(n))throw new _e(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new _e(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Aw=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Aw);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sw)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Aw}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:bn("string",Bt._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Bt(0,0))}static max(){return new Ge(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function s5(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ge.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Ko(r,De.empty(),e)}function r5(n){return new Ko(n.readTime,n.key,fd)}class Ko{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ko(Ge.min(),De.empty(),fd)}static max(){return new Ko(Ge.max(),De.empty(),fd)}}function o5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:ut(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==a5)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,i)=>{t(e)}))}static reject(e){return new he(((t,i)=>{i(e)}))}static waitFor(e){return new he(((t,i)=>{let r=0,a=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++a,c&&a===r&&t()}),(m=>i(m)))})),c=!0,a===r&&t()}))}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next((r=>r?he.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new he(((i,r)=>{const a=e.length,c=new Array(a);let h=0;for(let m=0;m<a;m++){const f=m;t(e[f]).next((g=>{c[f]=g,++h,h===a&&i(c)}),(g=>r(g)))}}))}static doWhile(e,t){return new he(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function c5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-1;function Rd(n){return n==null}function Ff(n){return n===0&&1/n==-1/0}function u5(n){return typeof n=="number"&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="";function d5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Nw(e)),e=h5(n.get(t),e);return Nw(e)}function h5(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case JN:t+="";break;default:t+=a}}return t}function Nw(n){return n+JN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ia(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new Zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Hn.RED,this.left=r??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Hn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cw(this.data.getIterator())}getIteratorFrom(e){return new Cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Oi([])}unionWith(e){let t=new Nn(Bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QN("Invalid base64 string: "+a):a}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=f5.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jo(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="server_timestamp",ZN="__type__",e1="__previous_value__",t1="__local_write_time__";function Wv(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[ZN])==null?void 0:i.stringValue)===XN}function bm(n){const e=n.mapValue.fields[e1];return Wv(e)?bm(e):e}function md(n){const e=Yo(n.mapValue.fields[t1].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t,i,r,a,c,h,m,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=g}}const qf="(default)";class pd{constructor(e,t){this.projectId=e,this.database=t||qf}static empty(){return new pd("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof pd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="__type__",p5="__max__",df={mapValue:{}},i1="__vector__",Hf="value";function Wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wv(n)?4:y5(n)?9007199254740991:g5(n)?10:11:Oe(28295,{value:n})}function sr(n,e){if(n===e)return!0;const t=Wo(n);if(t!==Wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Yo(r.timestampValue),h=Yo(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Jo(r.bytesValue).isEqual(Jo(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return mn(r.geoPointValue.latitude)===mn(a.geoPointValue.latitude)&&mn(r.geoPointValue.longitude)===mn(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return mn(r.integerValue)===mn(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=mn(r.doubleValue),h=mn(a.doubleValue);return c===h?Ff(c)===Ff(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(r,a){const c=r.mapValue.fields||{},h=a.mapValue.fields||{};if(Iw(c)!==Iw(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!sr(c[m],h[m])))return!1;return!0})(n,e);default:return Oe(52216,{left:n})}}function gd(n,e){return(n.values||[]).find((t=>sr(t,e)))!==void 0}function oc(n,e){if(n===e)return 0;const t=Wo(n),i=Wo(e);if(t!==i)return ut(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ut(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=mn(a.integerValue||a.doubleValue),m=mn(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return Rw(n.timestampValue,e.timestampValue);case 4:return Rw(md(n),md(e));case 5:return By(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Jo(a),m=Jo(c);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),m=c.split("/");for(let f=0;f<h.length&&f<m.length;f++){const g=ut(h[f],m[f]);if(g!==0)return g}return ut(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=ut(mn(a.latitude),mn(c.latitude));return h!==0?h:ut(mn(a.longitude),mn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Dw(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var T,b,I,L;const h=a.fields||{},m=c.fields||{},f=(T=h[Hf])==null?void 0:T.arrayValue,g=(b=m[Hf])==null?void 0:b.arrayValue,E=ut(((I=f==null?void 0:f.values)==null?void 0:I.length)||0,((L=g==null?void 0:g.values)==null?void 0:L.length)||0);return E!==0?E:Dw(f,g)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===df.mapValue&&c===df.mapValue)return 0;if(a===df.mapValue)return 1;if(c===df.mapValue)return-1;const h=a.fields||{},m=Object.keys(h),f=c.fields||{},g=Object.keys(f);m.sort(),g.sort();for(let E=0;E<m.length&&E<g.length;++E){const T=By(m[E],g[E]);if(T!==0)return T;const b=oc(h[m[E]],f[g[E]]);if(b!==0)return b}return ut(m.length,g.length)})(n.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function Rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ut(n,e);const t=Yo(n),i=Yo(e),r=ut(t.seconds,i.seconds);return r!==0?r:ut(t.nanos,i.nanos)}function Dw(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=oc(t[r],i[r]);if(a)return a}return ut(t.length,i.length)}function ac(n){return Gy(n)}function Gy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yo(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Jo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return De.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Gy(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const c of i)a?a=!1:r+=",",r+=`${c}:${Gy(t.fields[c])}`;return r+"}"})(n.mapValue):Oe(61005,{value:n})}function bf(n){switch(Wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(n);return e?16+bf(e):16;case 5:return 2*n.stringValue.length;case 6:return Jo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+bf(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ia(i.fields,((a,c)=>{r+=a.length+bf(c)})),r})(n.mapValue);default:throw Oe(13486,{value:n})}}function Mw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zy(n){return!!n&&"integerValue"in n}function Qv(n){return!!n&&"arrayValue"in n}function kw(n){return!!n&&"nullValue"in n}function Pw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function g5(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[n1])==null?void 0:i.stringValue)===i1}function ed(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ia(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ed(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return{...n}}function y5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=Bn.emptyPath(),i={},r=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=ed(c):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Sf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ia(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new ai(ed(this.value))}}function s1(n){const e=[];return ia(n.fields,((t,i)=>{const r=new Bn([t]);if(Sf(i)){const a=s1(i.mapValue).fields;if(a.length===0)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)})),new Oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t,i,r,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Dn(e,0,Ge.min(),Ge.min(),Ge.min(),ai.empty(),0)}static newFoundDocument(e,t,i,r){return new Dn(e,1,t,Ge.min(),i,r,0)}static newNoDocument(e,t){return new Dn(e,2,t,Ge.min(),Ge.min(),ai.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,Ge.min(),Ge.min(),ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.position=e,this.inclusive=t}}function Lw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(a.field.isKeyField()?i=De.comparator(De.fromName(c.referenceValue),t.key):i=oc(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function v5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{}class wn extends r1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new x5(e,t,i):t==="array-contains"?new w5(e,i):t==="in"?new b5(e,i):t==="not-in"?new S5(e,i):t==="array-contains-any"?new A5(e,i):new wn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new E5(e,i):new T5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oc(t,this.value)):t!==null&&Wo(this.value)===Wo(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends r1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Is(e,t)}matches(e){return o1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o1(n){return n.op==="and"}function a1(n){return _5(n)&&o1(n)}function _5(n){for(const e of n.filters)if(e instanceof Is)return!1;return!0}function $y(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+ac(n.value);if(a1(n))return n.filters.map((e=>$y(e))).join(",");{const e=n.filters.map((t=>$y(t))).join(",");return`${n.op}(${e})`}}function l1(n,e){return n instanceof wn?(function(i,r){return r instanceof wn&&i.op===r.op&&i.field.isEqual(r.field)&&sr(i.value,r.value)})(n,e):n instanceof Is?(function(i,r){return r instanceof Is&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,c,h)=>a&&l1(c,r.filters[h])),!0):!1})(n,e):void Oe(19439)}function c1(n){return n instanceof wn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ac(t.value)}`})(n):n instanceof Is?(function(t){return t.op.toString()+" {"+t.getFilters().map(c1).join(" ,")+"}"})(n):"Filter"}class x5 extends wn{constructor(e,t,i){super(e,t,i),this.key=De.fromName(i.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class E5 extends wn{constructor(e,t){super(e,"in",t),this.keys=u1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class T5 extends wn{constructor(e,t){super(e,"not-in",t),this.keys=u1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function u1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>De.fromName(i.referenceValue)))}class w5 extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qv(t)&&gd(t.arrayValue,this.value)}}class b5 extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class S5 extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class A5 extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>gd(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t=null,i=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function Vw(n,e=null,t=[],i=[],r=null,a=null,c=null){return new N5(n,e,t,i,r,a,c)}function Xv(n){const e=$e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$y(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ac(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ac(i))).join(",")),e.Te=t}return e.Te}function Zv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!l1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uw(n.startAt,e.startAt)&&Uw(n.endAt,e.endAt)}function Ky(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t=null,i=[],r=[],a=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I5(n,e,t,i,r,a,c,h){return new Ac(n,e,t,i,r,a,c,h)}function e0(n){return new Ac(n)}function Ow(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d1(n){return n.collectionGroup!==null}function td(n){const e=$e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Nn(Bn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new yd(a,i))})),t.has(Bn.keyField().canonicalString())||e.Ie.push(new yd(Bn.keyField(),i))}return e.Ie}function tr(n){const e=$e(n);return e.Ee||(e.Ee=C5(e,td(n))),e.Ee}function C5(n,e){if(n.limitType==="F")return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new yd(r.field,a)}));const t=n.endAt?new Bf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bf(n.startAt.position,n.startAt.inclusive):null;return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Yy(n,e){const t=n.filters.concat([e]);return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gf(n,e,t){return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sm(n,e){return Zv(tr(n),tr(e))&&n.limitType===e.limitType}function h1(n){return`${Xv(tr(n))}|lt:${n.limitType}`}function Fl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>c1(r))).join(", ")}]`),Rd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ac(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ac(r))).join(",")),`Target(${i})`})(tr(n))}; limitType=${n.limitType})`}function Am(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):De.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of td(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(c,h,m){const f=Lw(c,h,m);return c.inclusive?f<=0:f<0})(i.startAt,td(i),r)||i.endAt&&!(function(c,h,m){const f=Lw(c,h,m);return c.inclusive?f>=0:f>0})(i.endAt,td(i),r))})(n,e)}function R5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f1(n){return(e,t)=>{let i=!1;for(const r of td(n)){const a=D5(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function D5(n,e,t){const i=n.field.isKeyField()?De.comparator(e.key,t.key):(function(a,c,h){const m=c.data.field(a),f=h.data.field(a);return m!==null&&f!==null?oc(m,f):Oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return WN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Zt(De.comparator);function Ur(){return M5}const m1=new Zt(De.comparator);function Ku(...n){let e=m1;for(const t of n)e=e.insert(t.key,t);return e}function p1(n){let e=m1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Fa(){return nd()}function g1(){return nd()}function nd(){return new Ya((n=>n.toString()),((n,e)=>n.isEqual(e)))}const k5=new Zt(De.comparator),P5=new Nn(De.comparator);function dt(...n){let e=P5;for(const t of n)e=e.add(t);return e}const L5=new Nn(ut);function U5(){return L5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function y1(n){return{integerValue:""+n}}function V5(n,e){return u5(e)?y1(e):t0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function O5(n,e,t){return n instanceof vd?(function(r,a){const c={fields:{[ZN]:{stringValue:XN},[t1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Wv(a)&&(a=bm(a)),a&&(c.fields[e1]=a),{mapValue:c}})(t,e):n instanceof lc?_1(n,e):n instanceof _d?x1(n,e):(function(r,a){const c=v1(r,a),h=jw(c)+jw(r.Ae);return zy(c)&&zy(r.Ae)?y1(h):t0(r.serializer,h)})(n,e)}function j5(n,e,t){return n instanceof lc?_1(n,e):n instanceof _d?x1(n,e):t}function v1(n,e){return n instanceof zf?(function(i){return zy(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class vd extends Nm{}class lc extends Nm{constructor(e){super(),this.elements=e}}function _1(n,e){const t=E1(e);for(const i of n.elements)t.some((r=>sr(r,i)))||t.push(i);return{arrayValue:{values:t}}}class _d extends Nm{constructor(e){super(),this.elements=e}}function x1(n,e){let t=E1(e);for(const i of n.elements)t=t.filter((r=>!sr(r,i)));return{arrayValue:{values:t}}}class zf extends Nm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jw(n){return mn(n.integerValue||n.doubleValue)}function E1(n){return Qv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.field=e,this.transform=t}}function F5(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof lc&&r instanceof lc||i instanceof _d&&r instanceof _d?rc(i.elements,r.elements,sr):i instanceof zf&&r instanceof zf?sr(i.Ae,r.Ae):i instanceof vd&&r instanceof vd})(n.transform,e.transform)}class q5{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Im{}function w1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cm(n.key,An.none()):new Dd(n.key,n.data,An.none());{const t=n.data,i=ai.empty();let r=new Nn(Bn.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),r=r.add(a)}return new sa(n.key,i,new Oi(r.toArray()),An.none())}}function H5(n,e,t){n instanceof Dd?(function(r,a,c){const h=r.value.clone(),m=qw(r.fieldTransforms,a,c.transformResults);h.setAll(m),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof sa?(function(r,a,c){if(!Af(r.precondition,a))return void a.convertToUnknownDocument(c.version);const h=qw(r.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(b1(r)),m.setAll(h),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(r,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function id(n,e,t,i){return n instanceof Dd?(function(a,c,h,m){if(!Af(a.precondition,c))return h;const f=a.value.clone(),g=Hw(a.fieldTransforms,m,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof sa?(function(a,c,h,m){if(!Af(a.precondition,c))return h;const f=Hw(a.fieldTransforms,m,c),g=c.data;return g.setAll(b1(a)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,c,h){return Af(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function B5(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=v1(i.transform,r||null);a!=null&&(t===null&&(t=ai.empty()),t.set(i.field,a))}return t||null}function Fw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&rc(i,r,((a,c)=>F5(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dd extends Im{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sa extends Im{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function qw(n,e,t){const i=new Map;mt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,h=e.data.field(a.field);i.set(a.field,j5(c,h,t[r]))}return i}function Hw(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,O5(a,c,e))}return i}class Cm extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S1 extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&H5(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=id(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=id(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=g1();return this.mutations.forEach((r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(r.key)?null:h;const m=w1(c,h);m!==null&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,((t,i)=>Fw(t,i)))&&rc(this.baseMutations,e.baseMutations,((t,i)=>Fw(t,i)))}}class n0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){mt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return k5})();const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new n0(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,ft;function A1(n){switch(n){case le.OK:return Oe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function N1(n){if(n===void 0)return Lr("GRPC error has no .code"),le.UNKNOWN;switch(n){case En.OK:return le.OK;case En.CANCELLED:return le.CANCELLED;case En.UNKNOWN:return le.UNKNOWN;case En.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case En.INTERNAL:return le.INTERNAL;case En.UNAVAILABLE:return le.UNAVAILABLE;case En.UNAUTHENTICATED:return le.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case En.NOT_FOUND:return le.NOT_FOUND;case En.ALREADY_EXISTS:return le.ALREADY_EXISTS;case En.PERMISSION_DENIED:return le.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case En.ABORTED:return le.ABORTED;case En.OUT_OF_RANGE:return le.OUT_OF_RANGE;case En.UNIMPLEMENTED:return le.UNIMPLEMENTED;case En.DATA_LOSS:return le.DATA_LOSS;default:return Oe(39323,{code:n})}}(ft=En||(En={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Oo([4294967295,4294967295],0);function Bw(n){const e=K5().encode(n),t=new jN;return t.update(e),new Uint8Array(t.digest())}function Gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oo([t,i],0),new Oo([r,a],0)]}class i0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Oo.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Oo.fromNumber(i)));return r.compare(Y5)===1&&(r=new Oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Bw(e),[i,r]=Gw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,r,a);if(!this.we(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new i0(a,r,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Bw(e),[i,r]=Gw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,r,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Rm(Ge.min(),r,new Zt(ut),Ur(),dt())}}class Md{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Md(i,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class I1{constructor(e,t){this.targetId=e,this.Ce=t}}class C1{constructor(e,t,i=Gn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class zw{constructor(){this.ve=0,this.Fe=$w(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),t=dt(),i=dt();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Oe(38017,{changeType:a})}})),new Md(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=$w()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=hf(),this.He=hf(),this.Ye=new Zt(ut)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Ky(a))if(i===0){const c=new De(a.path);this.et(t,c,Dn.newNoDocument(c,Ge.min()))}else mt(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(t);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let c,h;try{c=Jo(i).toUint8Array()}catch(m){if(m instanceof QN)return sc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new i0(c,r,a)}catch(m){return sc(m instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Ky(h.target)){const m=new De(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Dn.newNoDocument(m,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let i=dt();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const r=new Rm(e,t,this.Ye,this.je,i);return this.je=Ur(),this.Je=hf(),this.He=hf(),this.Ye=new Zt(ut),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nn(ut),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nn(ut),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hf(){return new Zt(De.comparator)}function $w(){return new Zt(De.comparator)}const W5={asc:"ASCENDING",desc:"DESCENDING"},Q5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X5={and:"AND",or:"OR"};class Z5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jy(n,e){return n.useProto3Json||Rd(e)?e:{value:e}}function $f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eU(n,e){return $f(n,e.toTimestamp())}function ji(n){return mt(!!n,49232),Ge.fromTimestamp((function(t){const i=Yo(t);return new Bt(i.seconds,i.nanos)})(n))}function s0(n,e){return Wy(n,e).canonicalString()}function Wy(n,e){const t=(function(r){return new Mt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function D1(n){const e=Mt.fromString(n);return mt(V1(e),10190,{key:e.toString()}),e}function Kf(n,e){return s0(n.databaseId,e.path)}function sd(n,e){const t=D1(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(k1(t))}function M1(n,e){return s0(n.databaseId,e)}function tU(n){const e=D1(n);return e.length===4?Mt.emptyPath():k1(e)}function Qy(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k1(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kw(n,e,t){return{name:Kf(n,e),fields:t.value.mapValue.fields}}function nU(n,e){return"found"in e?(function(i,r){mt(!!r.found,43571),r.found.name,r.found.updateTime;const a=sd(i,r.found.name),c=ji(r.found.updateTime),h=r.found.createTime?ji(r.found.createTime):Ge.min(),m=new ai({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(a,c,h,m)})(n,e):"missing"in e?(function(i,r){mt(!!r.missing,3894),mt(!!r.readTime,22933);const a=sd(i,r.missing),c=ji(r.readTime);return Dn.newNoDocument(a,c)})(n,e):Oe(7234,{result:e})}function iU(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(mt(g===void 0||typeof g=="string",58123),Gn.fromBase64String(g||"")):(mt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const g=f.code===void 0?le.UNKNOWN:N1(f.code);return new _e(g,f.message||"")})(c);t=new C1(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=sd(n,i.document.name),a=ji(i.document.updateTime),c=i.document.createTime?ji(i.document.createTime):Ge.min(),h=new ai({mapValue:{fields:i.document.fields}}),m=Dn.newFoundDocument(r,a,c,h),f=i.targetIds||[],g=i.removedTargetIds||[];t=new Nf(f,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=sd(n,i.document),a=i.readTime?ji(i.readTime):Ge.min(),c=Dn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new Nf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=sd(n,i.document),a=i.removedTargetIds||[];t=new Nf([],a,r,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,c=new $5(r,a),h=i.targetId;t=new I1(h,c)}}return t}function P1(n,e){let t;if(e instanceof Dd)t={update:Kw(n,e.key,e.value)};else if(e instanceof Cm)t={delete:Kf(n,e.key)};else if(e instanceof sa)t={update:Kw(n,e.key,e.data),updateMask:hU(e.fieldMask)};else{if(!(e instanceof S1))return Oe(16599,{Vt:e.type});t={verify:Kf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof vd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _d)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:eU(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(n,e.precondition)),t}function sU(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map((t=>(function(r,a){let c=r.updateTime?ji(r.updateTime):ji(a);return c.isEqual(Ge.min())&&(c=ji(a)),new q5(c,r.transformResults||[])})(t,e)))):[]}function rU(n,e){return{documents:[M1(n,e.path)]}}function oU(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=M1(n,r);const a=(function(f){if(f.length!==0)return U1(Is.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(f){if(f.length!==0)return f.map((g=>(function(T){return{field:ql(T.field),direction:cU(T.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Jy(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function aU(n){let e=tU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){mt(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(E){const T=L1(E);return T instanceof Is&&a1(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(I){return new yd(Hl(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(E){let T;return T=typeof E=="object"?E.value:E,Rd(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(E){const T=!!E.before,b=E.values||[];return new Bf(b,T)})(t.startAt));let f=null;return t.endAt&&(f=(function(E){const T=!E.before,b=E.values||[];return new Bf(b,T)})(t.endAt)),I5(e,r,c,a,h,"F",m,f)}function lU(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function L1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Hl(t.unaryFilter.field);return wn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Hl(t.unaryFilter.field);return wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Hl(t.unaryFilter.field);return wn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Hl(t.unaryFilter.field);return wn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return wn.create(Hl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Is.create(t.compositeFilter.filters.map((i=>L1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(n):Oe(30097,{filter:n})}function cU(n){return W5[n]}function uU(n){return Q5[n]}function dU(n){return X5[n]}function ql(n){return{fieldPath:n.canonicalString()}}function Hl(n){return Bn.fromServerFormat(n.fieldPath)}function U1(n){return n instanceof wn?(function(t){if(t.op==="=="){if(Pw(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(kw(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pw(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(kw(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:uU(t.op),value:t.value}}})(n):n instanceof Is?(function(t){const i=t.getFilters().map((r=>U1(r)));return i.length===1?i[0]:{compositeFilter:{op:dU(t.op),filters:i}}})(n):Oe(54877,{filter:n})}function hU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function V1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,i,r,a=Ge.min(),c=Ge.min(),h=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.yt=e}}function mU(n){const e=aU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.Cn=new gU}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Ko.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class gU{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Nn(Mt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class Ei{static withCacheSize(e){return new Ei(e,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(O1,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cc(0)}static cr(){return new cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="LruGarbageCollector",yU=1048576;function Ww([n,e],[t,i]){const r=ut(n,t);return r===0?ut(e,i):r}class vU{constructor(e){this.Ir=e,this.buffer=new Nn(Ww),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ww(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _U{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(Jw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sc(t)?be(Jw,"Ignoring IndexedDB error during garbage collection: ",t):await bc(t)}await this.Vr(3e5)}))}}class xU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(wm.ce);const i=new vU(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Yw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,c,h,m,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(e,r)))).next((E=>(i=E,h=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(f=Date.now(),jl()<=ct.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${a} targets in `+(m-h)+`ms
	Removed ${E} documents in `+(f-m)+`ms
Total Duration: ${f-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:E}))))}}function EU(n,e){return new xU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.changes=new Ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&id(i.mutation,r,Oi.empty(),Bt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,dt()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=dt()){const r=Fa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let c=Ku();return a.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Fa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,dt())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,r){let a=Ur();const c=nd(),h=(function(){return nd()})();return t.forEach(((m,f)=>{const g=i.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof sa)?a=a.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),id(g.mutation,f,g.mutation.getFieldMask(),Bt.now())):c.set(f.key,Oi.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((f,g)=>c.set(f,g))),t.forEach(((f,g)=>h.set(f,new wU(g,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=nd();let r=new Zt(((c,h)=>c-h)),a=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((m=>{const f=t.get(m);if(f===null)return;let g=i.get(m)||Oi.empty();g=h.applyToLocalView(f,g),i.set(m,g);const E=(r.get(h.batchId)||dt()).add(m);r=r.insert(h.batchId,E)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),f=m.key,g=m.value,E=g1();g.forEach((T=>{if(!a.has(T)){const b=w1(t.get(T),i.get(T));b!==null&&E.set(T,b),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,E))}return he.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):he.resolve(Fa());let h=fd,m=a;return c.next((f=>he.forEach(f,((g,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next((T=>{m=m.insert(g,T)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,m,f,dt()))).next((g=>({batchId:h,changes:p1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next((i=>{let r=Ku();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let c=Ku();return this.indexManager.getCollectionParents(e,a).next((h=>he.forEach(h,(m=>{const f=(function(E,T){return new Ac(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next((g=>{g.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((c=>{a.forEach(((m,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Dn.newInvalidDocument(g)))}));let h=Ku();return c.forEach(((m,f)=>{const g=a.get(m);g!==void 0&&id(g.mutation,f,Oi.empty(),Bt.now()),Am(t,f)&&(h=h.insert(m,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:ji(r.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:mU(r.bundledQuery),readTime:ji(r.readTime)}})(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.overlays=new Zt(De.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fa();return he.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=Fa(),a=t.length+1,c=new De(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,f=m.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&m.largestBatchId>i&&r.set(m.getKey(),m)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Zt(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=a.get(f.largestBatchId);g===null&&(g=Fa(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Fa(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=r)););return he.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new z5(t,i));let a=this.qr.get(t);a===void 0&&(a=dt(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Qr=new Nn(Rn.$r),this.Ur=new Nn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Rn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Rn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new De(new Mt([])),i=new Rn(t,e),r=new Rn(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new De(new Mt([])),i=new Rn(t,e),r=new Rn(t,e+1);let a=dt();return this.Ur.forEachInRange([i,r],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Rn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return De.comparator(e.key,t.key)||ut(e.Yr,t.Yr)}static Kr(e,t){return ut(e.Yr,t.Yr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nn(Rn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new G5(a,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Rn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Jv:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rn(t,0),r=new Rn(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);a.push(h)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(ut);return t.forEach((r=>{const a=new Rn(r,0),c=new Rn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{i=i.add(h.Yr)}))})),he.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;De.isDocumentKey(a)||(a=a.child(""));const c=new Rn(new De(a),0);let h=new Nn(ut);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(h=h.add(m.Yr)),!0)}),c),he.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return he.forEach(t.mutations,(r=>{const a=new Rn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Rn(t,0),r=this.Zr.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.ri=e,this.docs=(function(){return new Zt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Dn.newInvalidDocument(r))})),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Ur();const c=t.path,h=new De(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:f,value:{document:g}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||o5(r5(g),i)<=0||(r.has(g.key)||Am(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Oe(9500)}ii(e,t){return he.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new RU(this)}getSize(e){return he.resolve(this.size)}}class RU extends TU{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.persistence=e,this.si=new Ya((t=>Xv(t)),Zv),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new r0,this.targetCount=0,this.ai=cc.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),he.waitFor(a).next((()=>r))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((c=>{a.push(r.markPotentiallyOrphaned(e,c))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t){this.ui={},this.overlays={},this.ci=new wm(0),this.li=!1,this.li=!0,this.hi=new NU,this.referenceDelegate=e(this),this.Pi=new DU(this),this.indexManager=new pU,this.remoteDocumentCache=(function(r){return new CU(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new fU(t),this.Ii=new SU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new IU(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){be("MemoryPersistence","Starting transaction:",e);const r=new MU(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return he.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class MU extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Ri=new r0,this.Vi=null}static mi(e){return new o0(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(i=>{const r=De.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,Ge.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new Ya((i=>d5(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=EU(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?he.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((h=>{h||(i++,a.removeEntry(c,Ge.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}br(e,t,i){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return he.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=dt(),r=dt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new a0(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S4()?8:c5(ei())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new kU;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(jl()<=ct.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(jl()<=ct.DEBUG&&be("QueryEngine","Query:",Fl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(jl()<=ct.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):he.resolve())}ys(e,t){if(Ow(t))return he.resolve(null);let i=tr(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Gf(t,null,"F"),i=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=dt(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const f=this.Ds(t,h);return this.Cs(t,f,c,m.readTime)?this.ys(e,Gf(t,null,"F")):this.vs(e,f,t,m)}))))})))))}ws(e,t,i,r){return Ow(t)||r.isEqual(Ge.min())?he.resolve(null):this.ps.getDocuments(e,i).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,i,r)?he.resolve(null):(jl()<=ct.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fl(t)),this.vs(e,c,t,s5(r,fd)).next((h=>h)))}))}Ds(e,t){let i=new Nn(f1(e));return t.forEach(((r,a)=>{Am(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return jl()<=ct.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Fl(t)),this.ps.getDocumentsMatchingQuery(e,t,Ko.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LocalStore",LU=3e8;class UU{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Zt(ut),this.xs=new Ya((a=>Xv(a)),Zv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VU(n,e,t,i){return new UU(n,e,t,i)}async function F1(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let m=dt();for(const f of r){c.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}for(const f of a){h.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}return t.localDocuments.getDocuments(i,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function OU(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,f,g){const E=f.batch,T=E.keys();let b=he.resolve();return T.forEach((I=>{b=b.next((()=>g.getEntry(m,I))).next((L=>{const M=f.docVersions.get(I);mt(M!==null,48541),L.version.compareTo(M)<0&&(E.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),g.addEntry(L)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=dt();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(m=m.add(h.batch.mutations[f].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function q1(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jU(n,e){const t=$e(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,E)=>{const T=r.get(E);if(!T)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,E))));let b=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(Gn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,i)),r=r.insert(E,b),(function(L,M,j){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=LU?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,b,g)&&h.push(t.Pi.updateTargetData(a,b))}));let m=Ur(),f=dt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(FU(a,c,e.documentUpdates).next((g=>{m=g.ks,f=g.qs}))),!i.isEqual(Ge.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return he.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,m,f))).next((()=>m))})).then((a=>(t.Ms=r,a)))}function FU(n,e,t){let i=dt(),r=dt();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Ur();return t.forEach(((h,m)=>{const f=a.get(h);m.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Ge.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):be(l0,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:r}}))}function qU(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function HU(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,he.resolve(r)):t.Pi.allocateTargetId(i).next((c=>(r=new Mo(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Xy(n,e,t){const i=$e(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Sc(c))throw c;be(l0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function Qw(n,e,t){const i=$e(n);let r=Ge.min(),a=dt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,g){const E=$e(m),T=E.xs.get(g);return T!==void 0?he.resolve(E.Ms.get(T)):E.Pi.getTargetData(f,g)})(i,c,tr(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{a=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?r:Ge.min(),t?a:dt()))).next((h=>(BU(i,R5(e),h),{documents:h,Qs:a})))))}function BU(n,e,t){let i=n.Os.get(e)||Ge.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class Xw{constructor(){this.activeTargetIds=U5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.Mo=new Xw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="ConnectivityMonitor";class eb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(Zw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(Zw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function Zy(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="RestConnection",$U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===qf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const c=Zy(),h=this.zo(e,t.toUriEncodedString());be(vy,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,a);const{host:f}=new URL(h),g=xc(f);return this.Jo(e,h,m,i,g).then((E=>(be(vy,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw sc(vy,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E}))}Ho(e,t,i,r,a,c){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=$U[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class JU extends KU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const c=Zy();return new Promise(((h,m)=>{const f=new FN;f.setWithCredentials(!0),f.listenOnce(qN.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case wf.NO_ERROR:const E=f.getResponseJson();be(Qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case wf.TIMEOUT:be(Qn,`RPC '${e}' ${c} timed out`),m(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const T=f.getStatus();if(be(Qn,`RPC '${e}' ${c} failed with status:`,T,"response text:",f.getResponseText()),T>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b==null?void 0:b.error;if(I&&I.status&&I.message){const L=(function(j){const H=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(H)>=0?H:le.UNKNOWN})(I.status);m(new _e(L,I.message))}else m(new _e(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{be(Qn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(r);be(Qn,`RPC '${e}' ${c} sending request:`,r),f.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=Zy(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=GN(),h=BN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const g=a.join("");be(Qn,`Creating RPC '${e}' stream ${r}: ${g}`,m);const E=c.createWebChannel(g,m);this.I_(E);let T=!1,b=!1;const I=new YU({Yo:M=>{b?be(Qn,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(T||(be(Qn,`Opening RPC '${e}' stream ${r} transport.`),E.open(),T=!0),be(Qn,`RPC '${e}' stream ${r} sending:`,M),E.send(M))},Zo:()=>E.close()}),L=(M,j,H)=>{M.listen(j,(z=>{try{H(z)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return L(E,$u.EventType.OPEN,(()=>{b||(be(Qn,`RPC '${e}' stream ${r} transport opened.`),I.o_())})),L(E,$u.EventType.CLOSE,(()=>{b||(b=!0,be(Qn,`RPC '${e}' stream ${r} transport closed`),I.a_(),this.E_(E))})),L(E,$u.EventType.ERROR,(M=>{b||(b=!0,sc(Qn,`RPC '${e}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new _e(le.UNAVAILABLE,"The operation could not be completed")))})),L(E,$u.EventType.MESSAGE,(M=>{var j;if(!b){const H=M.data[0];mt(!!H,16349);const z=H,ne=(z==null?void 0:z.error)||((j=z[0])==null?void 0:j.error);if(ne){be(Qn,`RPC '${e}' stream ${r} received error:`,ne);const oe=ne.status;let q=(function(N){const P=En[N];if(P!==void 0)return N1(P)})(oe),R=ne.message;q===void 0&&(q=le.INTERNAL,R="Unknown error status: "+oe+" with message "+ne.message),b=!0,I.a_(new _e(q,R)),E.close()}else be(Qn,`RPC '${e}' stream ${r} received:`,H),I.u_(H)}})),L(h,HN.STAT_EVENT,(M=>{M.stat===Hy.PROXY?be(Qn,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===Hy.NOPROXY&&be(Qn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){return new Z5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="PersistentStream";class H1{constructor(e,t,i,r,a,c,h,m){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new _e(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(be(tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WU extends H1{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iU(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ge.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?ji(c.readTime):Ge.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Qy(this.serializer),t.addTarget=(function(a,c){let h;const m=c.target;if(h=Ky(m)?{documents:rU(a,m)}:{query:oU(a,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=R1(a,c.resumeToken);const f=Jy(a,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(Ge.min())>0){h.readTime=$f(a,c.snapshotVersion.toTimestamp());const f=Jy(a,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const i=lU(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Qy(this.serializer),t.removeTarget=e,this.q_(t)}}class QU extends H1{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=sU(e.writeResults,e.commitTime),i=ji(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Qy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>P1(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{}class ZU extends XU{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Wy(t,i),r,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(le.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Wy(t,i),r,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class tV{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ja(this)&&(be(Ka,"Restarting streams for network reachability change."),await(async function(m){const f=$e(m);f.Ea.add(4),await kd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Mm(f)})(this))}))})),this.Ra=new eV(i,r)}}async function Mm(n){if(Ja(n))for(const e of n.da)await e(!0)}async function kd(n){for(const e of n.da)await e(!1)}function B1(n,e){const t=$e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),f0(t)?h0(t):Nc(t).O_()&&d0(t,e))}function u0(n,e){const t=$e(n),i=Nc(t);t.Ia.delete(e),i.O_()&&G1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ja(t)&&t.Ra.set("Unknown"))}function d0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nc(n).Y_(e)}function G1(n,e){n.Va.Ue(e),Nc(n).Z_(e)}function h0(n){n.Va=new J5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nc(n).start(),n.Ra.ua()}function f0(n){return Ja(n)&&!Nc(n).x_()&&n.Ia.size>0}function Ja(n){return $e(n).Ea.size===0}function z1(n){n.Va=void 0}async function nV(n){n.Ra.set("Online")}async function iV(n){n.Ia.forEach(((e,t)=>{d0(n,e)}))}async function sV(n,e){z1(n),f0(n)?(n.Ra.ha(e),h0(n)):n.Ra.set("Unknown")}async function rV(n,e,t){if(n.Ra.set("Online"),e instanceof C1&&e.state===2&&e.cause)try{await(async function(r,a){const c=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){be(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jf(n,i)}else if(e instanceof Nf?n.Va.Ze(e):e instanceof I1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ge.min()))try{const i=await q1(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,f)=>{const g=a.Ia.get(m);if(!g)return;a.Ia.set(m,g.withResumeToken(Gn.EMPTY_BYTE_STRING,g.snapshotVersion)),G1(a,m);const E=new Mo(g.target,m,f,g.sequenceNumber);d0(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){be(Ka,"Failed to raise snapshot:",i),await Jf(n,i)}}async function Jf(n,e,t){if(!Sc(e))throw e;n.Ea.add(1),await kd(n),n.Ra.set("Offline"),t||(t=()=>q1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{be(Ka,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mm(n)}))}function $1(n,e){return e().catch((t=>Jf(n,t,e)))}async function km(n){const e=$e(n),t=Qo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jv;for(;oV(e);)try{const r=await qU(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,aV(e,r)}catch(r){await Jf(e,r)}K1(e)&&Y1(e)}function oV(n){return Ja(n)&&n.Ta.length<10}function aV(n,e){n.Ta.push(e);const t=Qo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function K1(n){return Ja(n)&&!Qo(n).x_()&&n.Ta.length>0}function Y1(n){Qo(n).start()}async function lV(n){Qo(n).ra()}async function cV(n){const e=Qo(n);for(const t of n.Ta)e.ea(t.mutations)}async function uV(n,e,t){const i=n.Ta.shift(),r=n0.from(i,e,t);await $1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await km(n)}async function dV(n,e){e&&Qo(n).X_&&await(async function(i,r){if((function(c){return A1(c)&&c!==le.ABORTED})(r.code)){const a=i.Ta.shift();Qo(i).B_(),await $1(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await km(i)}})(n,e),K1(n)&&Y1(n)}async function nb(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),be(Ka,"RemoteStore received new credentials");const i=Ja(t);t.Ea.add(3),await kd(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mm(t)}async function hV(n,e){const t=$e(n);e?(t.Ea.delete(2),await Mm(t)):e||(t.Ea.add(2),await kd(t),t.Ra.set("Unknown"))}function Nc(n){return n.ma||(n.ma=(function(t,i,r){const a=$e(t);return a.sa(),new WU(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:nV.bind(null,n),t_:iV.bind(null,n),r_:sV.bind(null,n),H_:rV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),f0(n)?h0(n):n.Ra.set("Unknown")):(await n.ma.stop(),z1(n))}))),n.ma}function Qo(n){return n.fa||(n.fa=(function(t,i,r){const a=$e(t);return a.sa(),new QU(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:lV.bind(null,n),r_:dV.bind(null,n),ta:cV.bind(null,n),na:uV.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await km(n)):(await n.fa.stop(),n.Ta.length>0&&(be(Ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,h=new m0(e,t,c,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,e){if(Lr("AsyncQueue",`${e}: ${n}`),Sc(n))return new _e(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||De.comparator(t.key,i.key):(t,i)=>De.comparator(t.key,i.key),this.keyedMap=Ku(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.ga=new Zt(De.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class uc{constructor(e,t,i,r,a,c,h,m,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new uc(e,t,Jl.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mV{constructor(){this.queries=sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=$e(t),a=r.queries;r.queries=sb(),a.forEach(((c,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function sb(){return new Ya((n=>h1(n)),Sm)}async function J1(n,e){const t=$e(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new fV,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=p0(c,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&g0(t)}async function W1(n,e){const t=$e(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function pV(n,e){const t=$e(n);let i=!1;for(const r of e){const a=r.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&g0(t)}function gV(n,e,t){const i=$e(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function g0(n){n.Ca.forEach((e=>{e.next()}))}var ev,rb;(rb=ev||(ev={})).Ma="default",rb.Cache="cache";class Q1{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new uc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class yV{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=f1(e),this.tu=new Jl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new ib,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,E)=>{const T=r.get(g),b=Am(this.query,E)?E:null,I=!!T&&this.mutatedKeys.has(T.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;T&&b?T.data.isEqual(b.data)?I!==L&&(i.track({type:3,doc:b}),M=!0):this.su(T,b)||(i.track({type:2,doc:b}),M=!0,(m&&this.eu(b,m)>0||f&&this.eu(b,f)<0)&&(h=!0)):!T&&b?(i.track({type:0,doc:b}),M=!0):T&&!b&&(i.track({type:1,doc:T}),M=!0,(m||f)&&(h=!0)),M&&(b?(c=c.add(b),a=L?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,E)=>(function(b,I){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:M})}};return L(b)-L(I)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],m=this.Xa.size===0&&this.current&&!r?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new uc(this.query,e.tu,a,c,e.mutatedKeys,m===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Z1(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new X1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=dt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return uc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y0="SyncEngine";class vV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _V{constructor(e){this.key=e,this.hu=!1}}class xV{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ya((h=>h1(h)),Sm),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(De.comparator),this.Au=new Map,this.Ru=new r0,this.Vu={},this.mu=new Map,this.fu=cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EV(n,e,t=!0){const i=rI(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await eI(i,e,t,!0),r}async function TV(n,e){const t=rI(n);await eI(t,e,!0,!1)}async function eI(n,e,t,i){const r=await HU(n.localStore,tr(e)),a=r.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await wV(n,e,a,c==="current",r.resumeToken)),n.isPrimaryClient&&t&&B1(n.remoteStore,r),h}async function wV(n,e,t,i,r){n.pu=(E,T,b)=>(async function(L,M,j,H){let z=M.view.ru(j);z.Cs&&(z=await Qw(L.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,z))));const ne=H&&H.targetChanges.get(M.targetId),oe=H&&H.targetMismatches.get(M.targetId)!=null,q=M.view.applyChanges(z,L.isPrimaryClient,ne,oe);return ab(L,M.targetId,q.au),q.snapshot})(n,E,T,b);const a=await Qw(n.localStore,e,!0),c=new yV(e,a.Qs),h=c.ru(a.documents),m=Md.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=c.applyChanges(h,n.isPrimaryClient,m);ab(n,t,f.au);const g=new vV(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function bV(n,e,t){const i=$e(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((c=>!Sm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Xy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&u0(i.remoteStore,r.targetId),tv(i,r.targetId)})).catch(bc)):(tv(i,r.targetId),await Xy(i.localStore,r.targetId,!0))}async function SV(n,e){const t=$e(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),u0(t.remoteStore,i.targetId))}async function AV(n,e,t){const i=kV(n);try{const r=await(function(c,h){const m=$e(c),f=Bt.now(),g=h.reduce(((b,I)=>b.add(I.key)),dt());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let I=Ur(),L=dt();return m.Ns.getEntries(b,g).next((M=>{I=M,I.forEach(((j,H)=>{H.isValidDocument()||(L=L.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(b,I))).next((M=>{E=M;const j=[];for(const H of h){const z=B5(H,E.get(H.key).overlayedDocument);z!=null&&j.push(new sa(H.key,z,s1(z.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(b,f,j,h)})).next((M=>{T=M;const j=M.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(b,M.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:p1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new Zt(ut)),f=f.insert(h,m),c.Vu[c.currentUser.toKey()]=f})(i,r.batchId,t),await Pd(i,r.changes),await km(i.remoteStore)}catch(r){const a=p0(r,"Failed to persist write");t.reject(a)}}async function tI(n,e){const t=$e(n);try{const i=await jU(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const c=t.Au.get(a);c&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?mt(c.hu,14607):r.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))})),await Pd(t,i,e)}catch(i){await bc(i)}}function ob(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const m=$e(c);m.onlineState=h;let f=!1;m.queries.forEach(((g,E)=>{for(const T of E.Sa)T.va(h)&&(f=!0)})),f&&g0(m)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NV(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let c=new Zt(De.comparator);c=c.insert(a,Dn.newNoDocument(a,Ge.min()));const h=dt().add(a),m=new Rm(Ge.min(),new Map,new Zt(ut),c,h);await tI(i,m),i.du=i.du.remove(a),i.Au.delete(e),v0(i)}else await Xy(i.localStore,e,!1).then((()=>tv(i,e,t))).catch(bc)}async function IV(n,e){const t=$e(n),i=e.batch.batchId;try{const r=await OU(t.localStore,e);iI(t,i,null),nI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pd(t,r)}catch(r){await bc(r)}}async function CV(n,e,t){const i=$e(n);try{const r=await(function(c,h){const m=$e(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return m.mutationQueue.lookupMutationBatch(f,h).next((E=>(mt(E!==null,37113),g=E.keys(),m.mutationQueue.removeMutationBatch(f,E)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>m.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);iI(i,e,t),nI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pd(i,r)}catch(r){await bc(r)}}function nI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function iI(n,e,t){const i=$e(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function tv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||sI(n,i)}))}function sI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(u0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),v0(n))}function ab(n,e,t){for(const i of t)i instanceof X1?(n.Ru.addReference(i.key,e),RV(n,i)):i instanceof Z1?(be(y0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||sI(n,i.key)):Oe(19791,{wu:i})}function RV(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(be(y0,"New document in limbo: "+t),n.Eu.add(i),v0(n))}function v0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new De(Mt.fromString(e)),i=n.fu.next();n.Au.set(i,new _V(t)),n.du=n.du.insert(t,i),B1(n.remoteStore,new Mo(tr(e0(t.path)),i,"TargetPurposeLimboResolution",wm.ce))}}async function Pd(n,e,t){const i=$e(n),r=[],a=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,t).then((f=>{var g;if((f||t)&&i.isPrimaryClient){const E=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(f){r.push(f);const E=a0.As(m.targetId,f);a.push(E)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(m,f){const g=$e(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>he.forEach(f,(T=>he.forEach(T.Es,(b=>g.persistence.referenceDelegate.addReference(E,T.targetId,b))).next((()=>he.forEach(T.ds,(b=>g.persistence.referenceDelegate.removeReference(E,T.targetId,b)))))))))}catch(E){if(!Sc(E))throw E;be(l0,"Failed to update sequence numbers: "+E)}for(const E of f){const T=E.targetId;if(!E.fromCache){const b=g.Ms.get(T),I=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(T,L)}}})(i.localStore,a))}async function DV(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){be(y0,"User change. New user:",e.toKey());const i=await F1(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((m=>{m.reject(new _e(le.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pd(t,i.Ls)}}function MV(n,e){const t=$e(n),i=t.Au.get(e);if(i&&i.hu)return dt().add(i.key);{let r=dt();const a=t.Iu.get(e);if(!a)return r;for(const c of a){const h=t.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function rI(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NV.bind(null,e),e.Pu.H_=pV.bind(null,e.eventManager),e.Pu.yu=gV.bind(null,e.eventManager),e}function kV(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VU(this.persistence,new PU,e.initialUser,this.serializer)}Cu(e){return new j1(o0.mi,this.serializer)}Du(e){return new GU}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class PV extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){mt(this.persistence.referenceDelegate instanceof Yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _U(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new j1((i=>Yf.mi(i,t)),this.serializer)}}class nv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,this.syncEngine),await hV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mV})()}createDatastore(e){const t=Dm(e.databaseInfo.databaseId),i=(function(a){return new JU(a)})(e.databaseInfo);return(function(a,c,h,m){return new ZU(a,c,h,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,c,h){return new tV(i,r,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>ob(this.syncEngine,t,0)),(function(){return eb.v()?new eb:new zU})())}createSyncEngine(e,t){return(function(r,a,c,h,m,f,g){const E=new xV(r,a,c,h,m,f);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const a=$e(r);be(Ka,"RemoteStore shutting down."),a.Ea.add(5),await kd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}nv.provider={build:()=>new nv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new _e(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(r,a){const c=$e(r),h={documents:a.map((E=>Kf(c.serializer,E)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Mt.emptyPath(),h,a.length),f=new Map;m.forEach((E=>{const T=nU(c.serializer,E);f.set(T.key.toString(),T)}));const g=[];return a.forEach((E=>{const T=f.get(E.toString());mt(!!T,55234,{key:E}),g.push(T)})),g})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const r=De.fromPath(i);this.mutations.push(new S1(r,this.precondition(r)))})),await(async function(i,r){const a=$e(i),c={writes:r.map((h=>P1(a.serializer,h)))};await a.Go("Commit",a.serializer.databaseId,Mt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Oe(50498,{Gu:e.constructor.name});t=Ge.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new _e(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ge.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ge.min()))throw new _e(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.zu=i.maxAttempts,this.M_=new c0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new LV(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((r=>{this.Yu(r)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Rd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!A1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="FirestoreClient";class VV{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xn.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{be(Xo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(be(Xo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=p0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xy(n,e){n.asyncQueue.verifyOperationInProgress(),be(Xo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await F1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function lb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OV(n);be(Xo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>nb(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>nb(e.remoteStore,r))),n._onlineComponents=e}async function OV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(Xo,"Using user provided OfflineComponentProvider");try{await xy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===le.FAILED_PRECONDITION||r.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;sc("Error using user provided cache. Falling back to memory cache: "+t),await xy(n,new Wf)}}else be(Xo,"Using default OfflineComponentProvider"),await xy(n,new PV(void 0));return n._offlineComponents}async function _0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(Xo,"Using user provided OnlineComponentProvider"),await lb(n,n._uninitializedComponentsProvider._online)):(be(Xo,"Using default OnlineComponentProvider"),await lb(n,new nv))),n._onlineComponents}function jV(n){return _0(n).then((e=>e.syncEngine))}function FV(n){return _0(n).then((e=>e.datastore))}async function aI(n){const e=await _0(n),t=e.eventManager;return t.onListen=EV.bind(null,e.syncEngine),t.onUnlisten=bV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SV.bind(null,e.syncEngine),t}function qV(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,m,f){const g=new oI({next:T=>{g.Nu(),c.enqueueAndForget((()=>W1(a,E)));const b=T.docs.has(h);!b&&T.fromCache?f.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&m&&m.source==="server"?f.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new Q1(e0(h.path),g,{includeMetadataChanges:!0,qa:!0});return J1(a,E)})(await aI(n),n.asyncQueue,e,t,i))),i.promise}function HV(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,m,f){const g=new oI({next:T=>{g.Nu(),c.enqueueAndForget((()=>W1(a,E))),T.fromCache&&m.source==="server"?f.reject(new _e(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new Q1(h,g,{includeMetadataChanges:!0,qa:!0});return J1(a,E)})(await aI(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firestore.googleapis.com",ub=!0;class db{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cI,this.ssl=ub}else this.host=e.host,this.ssl=e.ssl??ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yU)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new $L;switch(i.type){case"firstParty":return new WL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=cb.get(t);i&&(be("ComponentProvider","Removing Datastore"),cb.delete(t),i.terminate())})(this),Promise.resolve()}}function BV(n,e,t,i={}){var f;n=as(n,Pm);const r=xc(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(kN(`https://${h}`),PN("Firestore",!0)),a.host!==cI&&a.host!==h&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:h,ssl:r,emulatorOptions:i};if(!$o(m,c)&&(n._setSettings(m),i.mockUserToken)){let g,E;if(typeof i.mockUserToken=="string")g=i.mockUserToken,E=Xn.MOCK_USER;else{g=g4(i.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xn(T)}n._authCredentials=new KL(new $N(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Cd(t,cn._jsonSchema))return new cn(e,i||null,new De(Mt.fromString(t.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:bn("string",cn._jsonSchemaVersion),referencePath:bn("string")};class jo extends ra{constructor(e,t,i){super(e,t,e0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new De(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Cs(n,e,...t){if(n=je(n),KN("collection","path",e),n instanceof Pm){const i=Mt.fromString(e,...t);return bw(i),new jo(n,null,i)}{if(!(n instanceof cn||n instanceof jo))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return bw(i),new jo(n.firestore,null,i)}}function pn(n,e,...t){if(n=je(n),arguments.length===1&&(e=Yv.newId()),KN("doc","path",e),n instanceof Pm){const i=Mt.fromString(e,...t);return ww(i),new cn(n,null,new De(i))}{if(!(n instanceof cn||n instanceof jo))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return ww(i),new cn(n.firestore,n instanceof jo?n.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="AsyncQueue";class fb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c0(this,"async_queue_retry"),this._c=()=>{const i=_y();i&&be(hb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=_y();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_y();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sc(e))throw e;be(hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",mb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=m0.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Oe(47125,{Pc:mb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class oa extends Pm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new fb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fb(e),this._firestoreClient=void 0,await e}}}function GV(n,e){const t=typeof n=="object"?n:$v(),i=typeof n=="string"?n:qf,r=Gv(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=m4("firestore");a&&BV(r,...a)}return r}function Ld(n){if(n._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zV(n),n._firestoreClient}function zV(n){var i,r,a;const e=n._freezeSettings(),t=(function(h,m,f,g){return new m5(h,m,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new VV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vi(Gn.fromBase64String(e))}catch(t){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vi(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,Vi._jsonSchema))return Vi.fromBase64String(e.bytes)}}Vi._jsonSchemaVersion="firestore/bytes/1.0",Vi._jsonSchema={type:bn("string",Vi._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:bn("string",nr._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ir(e.vectorValues);throw new _e(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:bn("string",ir._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^__.*__$/;class KV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dd(e,this.data,t,this.fieldTransforms)}}class uI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:n})}}class Lm{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dI(this.Ac)&&$V.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dm(e)}Cc(e,t,i,r=!1){return new Lm({Ac:e,methodName:t,Dc:i,path:Bn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(n){const e=n._freezeSettings(),t=Dm(n._databaseId);return new YV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Um(n,e,t,i,r,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);b0("Data must be an object, but it was:",c,i);const h=hI(i,c);let m,f;if(a.merge)m=new Oi(c.fieldMask),f=c.fieldTransforms;else if(a.mergeFields){const g=[];for(const E of a.mergeFields){const T=iv(e,E,t);if(!c.contains(T))throw new _e(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);mI(g,T)||g.push(T)}m=new Oi(g),f=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,f=c.fieldTransforms;return new KV(new ai(h),m,f)}class Vm extends Ud{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}function JV(n,e,t){return new Lm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class x0 extends Ud{_toFieldTransform(e){return new T1(e.path,new vd)}isEqual(e){return e instanceof x0}}class E0 extends Ud{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=JV(this,e,!0),i=this.vc.map((a=>Rc(a,t))),r=new lc(i);return new T1(e.path,r)}isEqual(e){return e instanceof E0&&$o(this.vc,e.vc)}}function T0(n,e,t,i){const r=n.Cc(1,e,t);b0("Data must be an object, but it was:",r,i);const a=[],c=ai.empty();ia(i,((m,f)=>{const g=S0(e,m,t);f=je(f);const E=r.yc(g);if(f instanceof Vm)a.push(g);else{const T=Rc(f,E);T!=null&&(a.push(g),c.set(g,T))}}));const h=new Oi(a);return new uI(c,h,r.fieldTransforms)}function w0(n,e,t,i,r,a){const c=n.Cc(1,e,t),h=[iv(e,i,t)],m=[r];if(a.length%2!=0)throw new _e(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(iv(e,a[T])),m.push(a[T+1]);const f=[],g=ai.empty();for(let T=h.length-1;T>=0;--T)if(!mI(f,h[T])){const b=h[T];let I=m[T];I=je(I);const L=c.yc(b);if(I instanceof Vm)f.push(b);else{const M=Rc(I,L);M!=null&&(f.push(b),g.set(b,M))}}const E=new Oi(f);return new uI(g,E,c.fieldTransforms)}function WV(n,e,t,i=!1){return Rc(t,n.Cc(i?4:3,e))}function Rc(n,e){if(fI(n=je(n)))return b0("Unsupported field value:",e,n),hI(n,e);if(n instanceof Ud)return(function(i,r){if(!dI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let c=0;for(const h of i){let m=Rc(h,r.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return V5(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Bt.fromDate(i);return{timestampValue:$f(r.serializer,a)}}if(i instanceof Bt){const a=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$f(r.serializer,a)}}if(i instanceof nr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vi)return{bytesValue:R1(r.serializer,i._byteString)};if(i instanceof cn){const a=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:s0(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ir)return(function(c,h){return{mapValue:{fields:{[n1]:{stringValue:i1},[Hf]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return t0(h.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Tm(i)}`)})(n,e)}function hI(n,e){const t={};return WN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(n,((i,r)=>{const a=Rc(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function fI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof nr||n instanceof Vi||n instanceof cn||n instanceof Ud||n instanceof ir)}function b0(n,e,t){if(!fI(t)||!YN(t)){const i=Tm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function iv(n,e,t){if((e=je(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return S0(n,e);throw Qf("Field path arguments must be of type string or ",n,!1,void 0,t)}const QV=new RegExp("[~\\*/\\[\\]]");function S0(n,e,t){if(e.search(QV)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ic(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qf(n,e,t,i,r){const a=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new _e(le.INVALID_ARGUMENT,h+n+m)}function mI(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Om("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XV extends Xf{data(){return super.data()}}function Om(n,e){return typeof e=="string"?S0(n,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}class N0 extends A0{}function qr(n,e,...t){let i=[];e instanceof A0&&i.push(e),i=i.concat(t),(function(a){const c=a.filter((m=>m instanceof I0)).length,h=a.filter((m=>m instanceof jm)).length;if(c>1||c>0&&h>0)throw new _e(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class jm extends N0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new jm(e,t,i)}_apply(e){const t=this._parse(e);return gI(e._query,t),new ra(e.firestore,e.converter,Yy(e._query,t))}_parse(e){const t=Cc(e.firestore);return(function(a,c,h,m,f,g,E){let T;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gb(E,g);const I=[];for(const L of E)I.push(pb(m,a,L));T={arrayValue:{values:I}}}else T=pb(m,a,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gb(E,g),T=WV(h,c,E,g==="in"||g==="not-in");return wn.create(f,g,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Dc(n,e,t){const i=e,r=Om("where",n);return jm._create(r,i,t)}class I0 extends A0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I0(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Is.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let c=r;const h=a.getFlattenedFilters();for(const m of h)gI(c,m),c=Yy(c,m)})(e._query,t),new ra(e.firestore,e.converter,Yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C0 extends N0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new C0(e,t)}_apply(e){const t=(function(r,a,c){if(r.startAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(a,c)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(r,a){const c=r.explicitOrderBy.concat([a]);return new Ac(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function pI(n,e="asc"){const t=e,i=Om("orderBy",n);return C0._create(i,t)}class R0 extends N0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new R0(e,t,i)}_apply(e){return new ra(e.firestore,e.converter,Gf(e._query,this._limit,this._limitType))}}function Fm(n){return i5("limit",n),R0._create("limit",n,"F")}function pb(n,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new _e(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&t.indexOf("/")!==-1)throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!De.isDocumentKey(i))throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mw(n,new De(i))}if(t instanceof cn)return Mw(n,t._key);throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(t)}.`)}function gb(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gI(n,e){const t=(function(r,a){for(const c of r)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yI{convertValue(e,t="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ia(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){var i,r,a;const t=(a=(r=(i=e.fields)==null?void 0:i[Hf].arrayValue)==null?void 0:r.values)==null?void 0:a.map((c=>mn(c.doubleValue)));return new ir(t)}convertGeoPoint(e){return new nr(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=Yo(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);mt(V1(i),9688,{name:e});const r=new pd(i.get(1),i.get(3)),a=new De(i.popFirst(5));return r.isEqual(t)||Lr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class e3 extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends Xf{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Om("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:bn("string",Fo._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class If extends Fo{data(e={}){return super.data(e)}}class Wl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $l(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new If(this._firestore,this._userDataWriter,i.key,i,new $l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const m=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new $l(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const m=new If(r._firestore,r._userDataWriter,h.doc.key,h.doc,new $l(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:t3(h.type),doc:m,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n){n=as(n,cn);const e=as(n.firestore,oa);return qV(Ld(e),n._key).then((t=>n3(e,n,t)))}Wl._jsonSchemaVersion="firestore/querySnapshot/1.0",Wl._jsonSchema={type:bn("string",Wl._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class D0 extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Hr(n){n=as(n,ra);const e=as(n.firestore,oa),t=Ld(e),i=new D0(e);return ZV(n._query),HV(t,n._query).then((r=>new Wl(e,i,n,r)))}function Hm(n,e,t){n=as(n,cn);const i=as(n.firestore,oa),r=qm(n.converter,e,t);return Bm(i,[Um(Cc(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,An.none())])}function dc(n,e,t,...i){n=as(n,cn);const r=as(n.firestore,oa),a=Cc(r);let c;return c=typeof(e=je(e))=="string"||e instanceof Ic?w0(a,"updateDoc",n._key,e,t,i):T0(a,"updateDoc",n._key,e),Bm(r,[c.toMutation(n._key,An.exists(!0))])}function vI(n,e){const t=as(n.firestore,oa),i=pn(n),r=qm(n.converter,e);return Bm(t,[Um(Cc(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,An.exists(!1))]).then((()=>i))}function Bm(n,e){return(function(i,r){const a=new er;return i.asyncQueue.enqueueAndForget((async()=>AV(await jV(i),r,a))),a.promise})(Ld(n),e)}function n3(n,e,t){const i=t.docs.get(e._key),r=new D0(n);return new Fo(n,r,e._key,i,new $l(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,t,i){this._verifyNotCommitted();const r=ko(e,this._firestore),a=qm(r.converter,t,i),c=Um(this._dataReader,"WriteBatch.set",r._key,a,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,An.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=ko(e,this._firestore);let c;return c=typeof(t=je(t))=="string"||t instanceof Ic?w0(this._dataReader,"WriteBatch.update",a._key,t,i,r):T0(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ko(e,this._firestore);return this._mutations=this._mutations.concat(new Cm(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ko(n,e){if((n=je(n)).firestore!==e)throw new _e(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cc(e)}get(e){const t=ko(e,this._firestore),i=new e3(this._firestore);return this._transaction.lookup([t._key]).then((r=>{if(!r||r.length!==1)return Oe(24041);const a=r[0];if(a.isFoundDocument())return new Xf(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Xf(this._firestore,i,t._key,null,t.converter);throw Oe(18433,{doc:a})}))}set(e,t,i){const r=ko(e,this._firestore),a=qm(r.converter,t,i),c=Um(this._dataReader,"Transaction.set",r._key,a,r.converter!==null,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=ko(e,this._firestore);let c;return c=typeof(t=je(t))=="string"||t instanceof Ic?w0(this._dataReader,"Transaction.update",a._key,t,i,r):T0(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=ko(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends r3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ko(e,this._firestore),i=new D0(this._firestore);return super.get(e).then((r=>new Fo(this._firestore,i,t._key,r._document,new $l(!1,!1),t.converter)))}}function a3(n,e,t){n=as(n,oa);const i={...i3,...t};return(function(a){if(a.maxAttempts<1)throw new _e(le.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(a,c,h){const m=new er;return a.asyncQueue.enqueueAndForget((async()=>{const f=await FV(a);new UV(a.asyncQueue,f,h,c,m).ju()})),m.promise})(Ld(n),(r=>e(new o3(n,r))),i)}function Br(){return new x0("serverTimestamp")}function l3(...n){return new E0("arrayUnion",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n){return Ld(n=as(n,oa)),new s3(n,(e=>Bm(n,e)))}(function(e,t=!0){(function(r){wc=r})(Tc),ic(new Ga("firestore",((i,{instanceIdentifier:r,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new oa(new YL(i.getProvider("auth-internal")),new QL(c,i.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pd(f.options.projectId,g)})(c,r),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Vo(_w,xw,e),Vo(_w,xw,"esm2020")})();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={PHONE:"phone",TOTP:"totp"},d3={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},h3={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},f3={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},m3={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g3=p3,xI=_I,EI=new Id("auth","Firebase",_I()),y3={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Hv("@firebase/auth");function v3(n,...e){Zf.logLevel<=ct.WARN&&Zf.warn(`Auth (${Tc}): ${n}`,...e)}function Cf(n,...e){Zf.logLevel<=ct.ERROR&&Zf.error(`Auth (${Tc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n,...e){throw k0(n,...e)}function li(n,...e){return k0(n,...e)}function M0(n,e,t){const i={...xI(),[e]:t};return new Id("auth","Firebase",i).create(e,{appName:n.name})}function Mn(n){return M0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mc(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Si(n,"argument-error"),M0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function k0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return EI.create(n,...e)}function pe(n,e,...t){if(!n)throw k0(e,...t)}function Xs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cf(e),new Error(e)}function Vr(n,e){n||Xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function P0(){return yb()==="http:"||yb()==="https:"}function yb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P0()||T4()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=_4()||w4()}get(){return _3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n,e){Vr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w3=new Vd(3e4,6e4);function Gt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function zt(n,e,t,i,r={}){return wI(n,r,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Ec({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:m,...a};return E4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&xc(n.emulatorConfig.host)&&(f.credentials="include"),TI.fetch()(await bI(n,n.config.apiHost,t,h),f)})}async function wI(n,e,t){n._canInitEmulator=!1;const i={...E3,...e};try{const r=new S3(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Ju(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[m,f]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ju(n,"user-disabled",c);const g=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw M0(n,g,f);Si(n,g)}}catch(r){if(r instanceof Fr)throw r;Si(n,"network-request-failed",{message:String(r)})}}async function Gr(n,e,t,i,r={}){const a=await zt(n,e,t,i,r);return"mfaPendingCredential"in a&&Si(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function bI(n,e,t,i){const r=`${e}${t}?${i}`,a=n,c=a.config.emulator?L0(n.config,r):`${n.config.apiScheme}://${r}`;return T3.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function b3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(li(this.auth,"network-request-failed")),w3.get())})}}function Ju(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=li(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){return n!==void 0&&n.getResponse!==void 0}function _b(n){return n!==void 0&&n.enterprise!==void 0}class SI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return b3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n){return(await zt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function AI(n,e){return zt(n,"GET","/v2/recaptchaConfig",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(n,e){return zt(n,"POST","/v1/accounts:delete",e)}async function I3(n,e){return zt(n,"POST","/v1/accounts:update",e)}async function em(n,e){return zt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(n,e=!1){return je(n).getIdToken(e)}async function NI(n,e=!1){const t=je(n),i=await t.getIdToken(e),r=Gm(i);pe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:rd(Ey(r.auth_time)),issuedAtTime:rd(Ey(r.iat)),expirationTime:rd(Ey(r.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ey(n){return Number(n)*1e3}function Gm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const r=CN(t);return r?JSON.parse(r):(Cf("Failed to decode base64 JWT payload"),null)}catch(r){return Cf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function xb(n){const e=Gm(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fr&&R3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function R3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(n){var E;const e=n.auth,t=await n.getIdToken(),i=await Or(n,em(e,{idToken:t}));pe(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=(E=r.providerUserInfo)!=null&&E.length?CI(r.providerUserInfo):[],c=M3(n.providerData,a),h=n.isAnonymous,m=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),f=h?m:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new sv(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function II(n){const e=je(n);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M3(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(n,e){const t=await wI(n,{},async()=>{const i=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,c=await bI(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return n.emulatorConfig&&xc(n.emulatorConfig.host)&&(m.credentials="include"),TI.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function P3(n,e){return zt(n,"POST","/v2/accounts:revokeToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=xb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await k3(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,c=new Ql;return i&&(pe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(pe(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),a&&(pe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bs{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new D3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Or(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NI(this,e)}reload(){return II(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Mn(this.auth));const e=await this.getIdToken();return await Or(this,N3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:b,providerData:I,stsTokenManager:L}=t;pe(E&&L,e,"internal-error");const M=Ql.fromJSON(this.name,L);pe(typeof E=="string",e,"internal-error"),Ro(i,e.name),Ro(r,e.name),pe(typeof T=="boolean",e,"internal-error"),pe(typeof b=="boolean",e,"internal-error"),Ro(a,e.name),Ro(c,e.name),Ro(h,e.name),Ro(m,e.name),Ro(f,e.name),Ro(g,e.name);const j=new bs({uid:E,auth:e,email:r,emailVerified:T,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:M,createdAt:f,lastLoginAt:g});return I&&Array.isArray(I)&&(j.providerData=I.map(H=>({...H}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,t,i=!1){const r=new Ql;r.updateFromServerResponse(t);const a=new bs({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Ed(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];pe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?CI(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),h=new Ql;h.updateFromIdToken(i);const m=new bs({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new sv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function Cr(n){Vr(n instanceof Function,"Expected a class definition");let e=Eb.get(n);return e?(Vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Eb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RI.type="NONE";const rv=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e,t){return`firebase:${n}:${e}:${t}`}class Xl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Rf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Rf("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await em(this.auth,{idToken:e}).catch(()=>{});return t?bs._fromGetAccountInfoResponse(this.auth,t,e):null}return bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xl(Cr(rv),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||Cr(rv);const c=Rf(i,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(c);if(g){let E;if(typeof g=="string"){const T=await em(e,{idToken:g}).catch(()=>{});if(!T)break;E=await bs._fromGetAccountInfoResponse(e,T,g)}else E=bs._fromJSON(e,g);f!==a&&(h=E),a=f;break}}catch{}const m=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new Xl(a,e,i):(a=m[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(c)}catch{}})),new Xl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UI(e))return"Blackberry";if(VI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||kI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function DI(n=ei()){return/firefox\//i.test(n)}function MI(n=ei()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kI(n=ei()){return/crios\//i.test(n)}function PI(n=ei()){return/iemobile/i.test(n)}function LI(n=ei()){return/android/i.test(n)}function UI(n=ei()){return/blackberry/i.test(n)}function VI(n=ei()){return/webos/i.test(n)}function U0(n=ei()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function L3(n=ei()){var e;return U0(n)&&!!((e=window.navigator)!=null&&e.standalone)}function U3(){return b4()&&document.documentMode===10}function OI(n=ei()){return U0(n)||LI(n)||VI(n)||UI(n)||/windows phone/i.test(n)||PI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n,e=[]){let t;switch(n){case"Browser":t=Tb(ei());break;case"Worker":t=`${Tb(ei())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const m=e(a);c(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(n,e={}){return zt(n,"GET","/v2/passwordPolicy",Gt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=6;class F3{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??j3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wb(this),this.idTokenSubscription=new wb(this),this.beforeStateQueue=new V3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Xl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await em(this,{idToken:e}),i=await bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Xt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(a=this.redirectUser)==null?void 0:a._redirectEventId,h=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(i=m.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Mn(this));const t=e?je(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O3(this),t=new F3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Id("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await P3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cr(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[Cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,r);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&v3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function un(n){return je(n)}class wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=M4(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H3(n){Od=n}function V0(n){return Od.loadJS(n)}function B3(){return Od.recaptchaV2Script}function G3(){return Od.recaptchaEnterpriseScript}function z3(){return Od.gapiScript}function FI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=500,K3=6e4,mf=1e12;class Y3{constructor(e){this.auth=e,this.counter=mf,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new Q3(e,this.auth.name,t||{})),this.counter++,i}reset(e){var i;const t=e||mf;(i=this._widgets.get(t))==null||i.delete(),this._widgets.delete(t)}getResponse(e){var i;const t=e||mf;return((i=this._widgets.get(t))==null?void 0:i.getResponse())||""}async execute(e){var i;const t=e||mf;return(i=this._widgets.get(t))==null||i.execute(),""}}class J3{constructor(){this.enterprise=new W3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class W3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Q3{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;pe(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=X3(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},K3)},$3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function X3(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Z3="recaptcha-enterprise",od="NO_RECAPTCHA";class qI{constructor(e){this.type=Z3,this.auth=un(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{AI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new SI(m);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}}).catch(m=>{h(m)})})}function r(a,c,h){const m=window.grecaptcha;_b(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(od)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J3().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&_b(window.grecaptcha))r(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=G3();m.length!==0&&(m+=h),V0(m).then(()=>{r(h,a,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function qu(n,e,t,i=!1,r=!1){const a=new qI(n);let c;if(r)c=od;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qo(n,e,t,i,r){var a,c;if(r==="EMAIL_PASSWORD_PROVIDER")if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await qu(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await qu(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(h)});else if(r==="PHONE_PROVIDER")if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const h=await qu(n,e,t);return i(n,h).catch(async m=>{var f;if(((f=n._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(m.code==="auth/missing-recaptcha-token"||m.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await qu(n,e,t,!1,!0);return i(n,g)}return Promise.reject(m)})}else{const h=await qu(n,e,t,!1,!0);return i(n,h)}else return Promise.reject(r+" provider is not supported.")}async function HI(n){const e=un(n),t=await AI(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new SI(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new qI(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n,e){const t=Gv(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if($o(a,e??{}))return r;Si(r,"already-initialized")}return t.initialize({options:e})}function e6(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Cr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function GI(n,e,t){const i=un(n);pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),a=zI(e),{host:c,port:h}=t6(e),m=h===null?"":`:${h}`,f={url:`${a}//${c}${m}/`},g=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),pe($o(f,i.config.emulator)&&$o(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,xc(c)?(kN(`${a}//${c}${m}`),PN("Auth",!0)):r||n6()}function zI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t6(n){const e=zI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:bb(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:bb(c)}}}function bb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function n6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(n,e){return zt(n,"POST","/v1/accounts:resetPassword",Gt(n,e))}async function i6(n,e){return zt(n,"POST","/v1/accounts:update",e)}async function s6(n,e){return zt(n,"POST","/v1/accounts:signUp",e)}async function r6(n,e){return zt(n,"POST","/v1/accounts:update",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(n,e){return Gr(n,"POST","/v1/accounts:signInWithPassword",Gt(n,e))}async function zm(n,e){return zt(n,"POST","/v1/accounts:sendOobCode",Gt(n,e))}async function a6(n,e){return zm(n,e)}async function l6(n,e){return zm(n,e)}async function c6(n,e){return zm(n,e)}async function u6(n,e){return zm(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(n,e){return Gr(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}async function h6(n,e){return Gr(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends kc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new hc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,t,"signInWithPassword",o6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return d6(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,i,"signUpPassword",s6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h6(e,{idToken:t,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(n,e){return Gr(n,"POST","/v1/accounts:signInWithIdp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="http://localhost";class rr extends kc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const c=new rr(i,r);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Dr(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Dr(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dr(e,t)}buildRequest(){const e={requestUri:f6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(n,e){return zt(n,"POST","/v1/accounts:sendVerificationCode",Gt(n,e))}async function m6(n,e){return Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e))}async function p6(n,e){const t=await Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e));if(t.temporaryProof)throw Ju(n,"account-exists-with-different-credential",t);return t}const g6={USER_NOT_FOUND:"user-not-found"};async function y6(n,e){const t={...e,operation:"REAUTH"};return Gr(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,t),g6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends kc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ho({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ho({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return m6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return p6(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return y6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:a}=e;return!i&&!t&&!r&&!a?null:new Ho({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _6(n){const e=Gu(zu(n)).link,t=e?Gu(zu(e)).deep_link_id:null,i=Gu(zu(n)).deep_link_id;return(i?Gu(zu(i)).link:null)||i||t||e||n}class Pc{constructor(e){const t=Gu(zu(e)),i=t.apiKey??null,r=t.oobCode??null,a=v6(t.mode??null);pe(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_6(e);try{return new Pc(t)}catch{return null}}}function x6(n){return Pc.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,t){return hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Pc.parseLink(t);return pe(i,"argument-error"),hc._fromEmailAndCode(e,i.code,i.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ad extends Lc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),rr._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),rr._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ad.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ad.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:a,nonce:c,providerId:h}=e;if(!i&&!r&&!t&&!a||!h)return null;try{return new ad(h)._credential({idToken:t,accessToken:i,nonce:c,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Lc{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0=class Bl extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rr._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bl.credential(t,i)}catch{return null}}};O0.GOOGLE_SIGN_IN_METHOD="google.com";O0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Lc{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="http://localhost";class Td extends kc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Dr(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Dr(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:a}=t;return!i||!r||!a||i!==r?null:new Td(i,a)}static _create(e,t){return new Td(e,t)}buildRequest(){return{requestUri:E6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="saml.";class tm extends zr{constructor(e){pe(e.startsWith(T6),"argument-error"),super(e)}static credentialFromResult(e){return tm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Td.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Td._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Lc{constructor(){super("twitter.com")}static credential(e,t){return rr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Nr.credential(t,i)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e){return Gr(n,"POST","/v1/accounts:signUp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await bs._fromIdTokenResponse(e,i,r),c=Ab(i);return new ls({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Ab(i);return new ls({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Ab(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(n){var r;if(Xt(n.app))return Promise.reject(Mn(n));const e=un(n);if(await e._initializationPromise,(r=e.currentUser)!=null&&r.isAnonymous)return new ls({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await KI(e,{returnSecureToken:!0}),i=await ls._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Fr{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new nm(e,t,i,r)}}function YI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(n,a,e,i):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(n,e){const t=je(n);await $m(!0,t,e);const{providerUserInfo:i}=await I3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),r=JI(i||[]);return t.providerData=t.providerData.filter(a=>r.has(a.providerId)),r.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function j0(n,e,t=!1){const i=await Or(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ls._forOperation(n,"link",i)}async function $m(n,e,t){await Ed(e);const i=JI(e.providerData),r=n===!1?"provider-already-linked":"no-such-provider";pe(i.has(t)===n,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e,t=!1){const{auth:i}=n;if(Xt(i.app))return Promise.reject(Mn(i));const r="reauthenticate";try{const a=await Or(n,YI(i,r,e,n),t);pe(a.idToken,i,"internal-error");const c=Gm(a.idToken);pe(c,i,"internal-error");const{sub:h}=c;return pe(n.uid===h,i,"user-mismatch"),ls._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Si(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e,t=!1){if(Xt(n.app))return Promise.reject(Mn(n));const i="signIn",r=await YI(n,i,e),a=await ls._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function Km(n,e){return QI(un(n),e)}async function XI(n,e){const t=je(n);return await $m(!1,t,e.providerId),j0(t,e)}async function ZI(n,e){return WI(je(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(n,e){return Gr(n,"POST","/v1/accounts:signInWithCustomToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(n,e){if(Xt(n.app))return Promise.reject(Mn(n));const t=un(n),i=await S6(t,{token:e,returnSecureToken:!0}),r=await ls._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?F0._fromServerResponse(e,t):"totpInfo"in t?q0._fromServerResponse(e,t):Si(e,"internal-error")}}class F0 extends jd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new F0(t)}}class q0 extends jd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new q0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,e,t){var i;pe(((i=t.url)==null?void 0:i.length)>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(n){const e=un(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N6(n,e,t){const i=un(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Ym(i,r,t),await qo(i,r,"getOobCode",l6,"EMAIL_PASSWORD_PROVIDER")}async function I6(n,e,t){await $I(je(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&H0(n),i})}async function C6(n,e){await r6(je(n),{oobCode:e})}async function eC(n,e){const t=je(n),i=await $I(t,{oobCode:e}),r=i.requestType;switch(pe(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(i.mfaInfo,t,"internal-error");default:pe(i.email,t,"internal-error")}let a=null;return i.mfaInfo&&(a=jd._fromServerResponse(un(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:a},operation:r}}async function R6(n,e){const{data:t}=await eC(je(n),e);return t.email}async function D6(n,e,t){if(Xt(n.app))return Promise.reject(Mn(n));const i=un(n),c=await qo(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KI,"EMAIL_PASSWORD_PROVIDER").catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&H0(n),m}),h=await ls._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function M6(n,e,t){return Xt(n.app)?Promise.reject(Mn(n)):Km(je(n),aa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&H0(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(n,e,t){const i=un(n),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(c,h){pe(h.handleCodeInApp,i,"argument-error"),h&&Ym(i,c,h)}a(r,t),await qo(i,r,"getOobCode",c6,"EMAIL_PASSWORD_PROVIDER")}function P6(n,e){const t=Pc.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function L6(n,e,t){if(Xt(n.app))return Promise.reject(Mn(n));const i=je(n),r=aa.credentialWithLink(e,t||xd());return pe(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Km(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(n,e){return zt(n,"POST","/v1/accounts:createAuthUri",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e){const t=P0()?xd():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await U6(je(n),i);return r||[]}async function O6(n,e){const t=je(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Ym(t.auth,r,e);const{email:a}=await a6(t.auth,r);a!==n.email&&await n.reload()}async function j6(n,e,t){const i=je(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Ym(i.auth,a,t);const{email:c}=await u6(i.auth,a);c!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(n,e){return zt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=je(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Or(i,F6(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function H6(n,e){const t=je(n);return Xt(t.auth.app)?Promise.reject(Mn(t.auth)):tC(t,e,null)}function B6(n,e){return tC(je(n),null,e)}async function tC(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const c=await Or(n,i6(i,a));await n._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){var r,a;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const c=(a=(r=Gm(n.idToken))==null?void 0:r.firebase)==null?void 0:a.sign_in_provider;if(c){const h=c!=="anonymous"&&c!=="custom"?c:null;return new Zl(i,h)}}if(!e)return null;switch(e){case"facebook.com":return new z6(i,t);case"github.com":return new $6(i,t);case"google.com":return new K6(i,t);case"twitter.com":return new Y6(i,t,n.screenName||null);case"custom":case"anonymous":return new Zl(i,null);default:return new Zl(i,e,t)}}class Zl{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class nC extends Zl{constructor(e,t,i,r){super(e,t,i),this.username=r}}class z6 extends Zl{constructor(e,t){super(e,"facebook.com",t)}}class $6 extends nC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class K6 extends Zl{constructor(e,t){super(e,"google.com",t)}}class Y6 extends nC{constructor(e,t,i){super(e,"twitter.com",t,i)}}function J6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:G6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n,e){return je(n).setPersistence(e)}function Q6(n){return HI(n)}async function X6(n,e){return un(n).validatePassword(e)}function iC(n,e,t,i){return je(n).onIdTokenChanged(e,t,i)}function sC(n,e,t){return je(n).beforeAuthStateChanged(e,t)}function Z6(n,e,t,i){return je(n).onAuthStateChanged(e,t,i)}function eO(n){je(n).useDeviceLanguage()}function tO(n,e){return je(n).updateCurrentUser(e)}function nO(n){return je(n).signOut()}function iO(n,e){return un(n).revokeAccessToken(e)}async function sO(n){return je(n).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new qa("enroll",e,t)}static _fromMfaPendingCredential(e){return new qa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return qa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((i=e.multiFactorSession)!=null&&i.idToken)return qa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=un(e),r=t.customData._serverResponse,a=(r.mfaInfo||[]).map(h=>jd._fromServerResponse(i,h));pe(r.mfaPendingCredential,i,"internal-error");const c=qa._fromMfaPendingCredential(r.mfaPendingCredential);return new B0(c,a,async h=>{const m=await h._process(i,c);delete r.mfaInfo,delete r.mfaPendingCredential;const f={...r,idToken:m.idToken,refreshToken:m.refreshToken};switch(t.operationType){case"signIn":const g=await ls._fromIdTokenResponse(i,t.operationType,f);return await i._updateCurrentUser(g.user),g;case"reauthenticate":return pe(t.user,i,"internal-error"),ls._forOperation(t.user,t.operationType,f);default:Si(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function rO(n,e){var r;const t=je(n),i=e;return pe(e.customData.operationType,t,"argument-error"),pe((r=i.customData._serverResponse)==null?void 0:r.mfaPendingCredential,t,"argument-error"),B0._fromError(t,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,e){return zt(n,"POST","/v2/accounts/mfaEnrollment:start",Gt(n,e))}function oO(n,e){return zt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(n,e))}function aO(n,e){return zt(n,"POST","/v2/accounts/mfaEnrollment:start",Gt(n,e))}function lO(n,e){return zt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(n,e))}function cO(n,e){return zt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(n,e))}class G0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>jd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new G0(e)}async getSession(){return qa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,r=await this.getSession(),a=await Or(this.user,i._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const r=await Or(this.user,cO(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const Ty=new WeakMap;function uO(n){const e=je(n);return Ty.has(e)||Ty.set(e,G0._fromUser(e)),Ty.get(e)}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1e3,hO=10;class oC extends rC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);U3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,hO):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oC.type="LOCAL";const aC=oC;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1e3;function wy(n){var i;const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return((i=document.cookie.match(t))==null?void 0:i[1])??null}function by(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class lC{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=by(e);if(window.cookieStore){const i=await window.cookieStore.get(t);return i==null?void 0:i.value}return wy(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const i=by(e);document.cookie=`${i}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const i=by(e);if(window.cookieStore){const h=(f=>{const g=f.changed.find(T=>T.name===i);g&&t(g.value),f.deleted.find(T=>T.name===i)&&t(null)}),m=()=>window.cookieStore.removeEventListener("change",h);return this.listenerUnsubscribes.set(t,m),window.cookieStore.addEventListener("change",h)}let r=wy(i);const a=setInterval(()=>{const h=wy(i);h!==r&&(t(h),r=h)},fO),c=()=>clearInterval(a);this.listenerUnsubscribes.set(t,c)}_removeListener(e,t){const i=this.listenerUnsubscribes.get(t);i&&(i(),this.listenerUnsubscribes.delete(t))}}lC.type="COOKIE";const mO=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends rC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cC.type="SESSION";const z0=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Jm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async f=>f(t.origin,a)),m=await pO(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,c;return new Promise((h,m)=>{const f=Wm("",20);r.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(E){const T=E;if(T.data.eventId===f)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(g),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function yO(n){Tn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function vO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _O(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function xO(){return $0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebaseLocalStorageDb",EO=1,sm="firebaseLocalStorage",dC="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qm(n,e){return n.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function TO(){const n=indexedDB.deleteDatabase(uC);return new Fd(n).toPromise()}function ov(){const n=indexedDB.open(uC,EO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sm,{keyPath:dC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sm)?e(i):(i.close(),await TO(),e(await ov()))})})}async function Ib(n,e,t){const i=Qm(n,!0).put({[dC]:e,value:t});return new Fd(i).toPromise()}async function wO(n,e){const t=Qm(n,!1).get(e),i=await new Fd(t).toPromise();return i===void 0?null:i.value}function Cb(n,e){const t=Qm(n,!0).delete(e);return new Fd(t).toPromise()}const bO=800,SO=3;class hC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ov(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>SO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(xO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await vO(),!this.activeServiceWorker)return;this.sender=new gO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_O()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ov();return await Ib(e,im,"1"),await Cb(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ib(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>wO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Qm(r,!1).getAll();return new Fd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hC.type="LOCAL";const fC=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n,e){return zt(n,"POST","/v2/accounts/mfaSignIn:start",Gt(n,e))}function AO(n,e){return zt(n,"POST","/v2/accounts/mfaSignIn:finalize",Gt(n,e))}function NO(n,e){return zt(n,"POST","/v2/accounts/mfaSignIn:finalize",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=FI("rcb"),IO=new Vd(3e4,6e4);class CO{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Tn().grecaptcha)!=null&&e.render)}load(e,t=""){return pe(RO(t),e,"argument-error"),this.shouldResolveImmediately(t)&&vb(Tn().grecaptcha)?Promise.resolve(Tn().grecaptcha):new Promise((i,r)=>{const a=Tn().setTimeout(()=>{r(li(e,"network-request-failed"))},IO.get());Tn()[Sy]=()=>{Tn().clearTimeout(a),delete Tn()[Sy];const h=Tn().grecaptcha;if(!h||!vb(h)){r(li(e,"internal-error"));return}const m=h.render;h.render=(f,g)=>{const E=m(f,g);return this.counter++,E},this.hostLanguage=t,i(h)};const c=`${B3()}?${Ec({onload:Sy,render:"explicit",hl:t})}`;V0(c).catch(()=>{clearTimeout(a),r(li(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=Tn().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function RO(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class DO{async load(e){return new Y3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="recaptcha",MO={theme:"light",type:"image"};class kO{constructor(e,t,i={...MO}){this.parameters=i,this.type=ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof t=="string"?document.getElementById(t):t;pe(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new DO:new CO,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(r=>{const a=c=>{c&&(this.tokenChangeListeners.delete(a),r(c))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=Tn()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(P0()&&!$0(),this.auth,"internal-error"),await PO(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await A3(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function PO(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ho._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function LO(n,e,t){if(Xt(n.app))return Promise.reject(Mn(n));const i=un(n),r=await Xm(i,e,je(t));return new K0(r,a=>Km(i,a))}async function UO(n,e,t){const i=je(n);await $m(!1,i,"phone");const r=await Xm(i.auth,e,je(t));return new K0(r,a=>XI(i,a))}async function VO(n,e,t){const i=je(n);if(Xt(i.auth.app))return Promise.reject(Mn(i.auth));const r=await Xm(i.auth,e,je(t));return new K0(r,a=>ZI(i,a))}async function Xm(n,e,t){var i;if(!n._getRecaptchaConfig())try{await HI(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r){pe(a.type==="enroll",n,"internal-error");const c={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,c,"mfaSmsEnrollment",async(g,E)=>{if(E.phoneEnrollmentInfo.captchaResponse===od){pe((t==null?void 0:t.type)===ld,g,"argument-error");const T=await Ay(g,E,t);return Nb(g,T)}return Nb(g,E)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{pe(a.type==="signin",n,"internal-error");const c=((i=r.multiFactorHint)==null?void 0:i.uid)||r.multiFactorUid;pe(c,n,"missing-multi-factor-info");const h={mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,h,"mfaSmsSignIn",async(E,T)=>{if(T.phoneSignInInfo.captchaResponse===od){pe((t==null?void 0:t.type)===ld,E,"argument-error");const b=await Ay(E,T,t);return Rb(E,b)}return Rb(E,T)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await qo(n,a,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===od){pe((t==null?void 0:t.type)===ld,f,"argument-error");const E=await Ay(f,g,t);return Sb(f,E)}return Sb(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function OO(n,e){const t=je(n);if(Xt(t.auth.app))return Promise.reject(Mn(t.auth));await j0(t,e)}async function Ay(n,e,t){pe(t.type===ld,n,"argument-error");const i=await t.verify();pe(typeof i=="string",n,"argument-error");const r={...e};if("phoneEnrollmentInfo"in r){const a=r.phoneEnrollmentInfo.phoneNumber,c=r.phoneEnrollmentInfo.captchaResponse,h=r.phoneEnrollmentInfo.clientType,m=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:i,captchaResponse:c,clientType:h,recaptchaVersion:m}}),r}else if("phoneSignInInfo"in r){const a=r.phoneSignInInfo.captchaResponse,c=r.phoneSignInInfo.clientType,h=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:a,clientType:c,recaptchaVersion:h}}),r}else return Object.assign(r,{recaptchaToken:i}),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.providerId=Ha.PROVIDER_ID,this.auth=un(e)}verifyPhoneNumber(e,t){return Xm(this.auth,e,je(t))}static credential(e,t){return Ho._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ha.credentialFromTaggedObject(t)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?Ho._fromTokenResponse(t,i):null}}Ha.PROVIDER_ID="phone";Ha.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n,e){return e?Cr(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends kc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jO(n){return QI(n.auth,new Y0(n),n.bypassAuthState)}function FO(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),WI(t,new Y0(n),n.bypassAuthState)}async function qO(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),j0(t,new Y0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jO;case"linkViaPopup":case"linkViaRedirect":return qO;case"reauthViaPopup":case"reauthViaRedirect":return FO;default:Si(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Vd(2e3,1e4);async function BO(n,e,t){if(Xt(n.app))return Promise.reject(li(n,"operation-not-supported-in-this-environment"));const i=un(n);Mc(n,e,zr);const r=Wa(i,t);return new Rr(i,"signInViaPopup",e,r).executeNotNull()}async function GO(n,e,t){const i=je(n);if(Xt(i.auth.app))return Promise.reject(li(i.auth,"operation-not-supported-in-this-environment"));Mc(i.auth,e,zr);const r=Wa(i.auth,t);return new Rr(i.auth,"reauthViaPopup",e,r,i).executeNotNull()}async function zO(n,e,t){const i=je(n);Mc(i.auth,e,zr);const r=Wa(i.auth,t);return new Rr(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class Rr extends mC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Rr.currentPopupAction&&Rr.currentPopupAction.cancel(),Rr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HO.get())};e()}}Rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="pendingRedirect",Df=new Map;class KO extends mC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const i=await YO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YO(n,e){const t=gC(e),i=pC(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}async function J0(n,e){return pC(n)._set(gC(e),"true")}function JO(n,e){Df.set(n._key(),e)}function pC(n){return Cr(n._redirectPersistence)}function gC(n){return Rf($O,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n,e,t){return QO(n,e,t)}async function QO(n,e,t){if(Xt(n.app))return Promise.reject(Mn(n));const i=un(n);Mc(n,e,zr),await i._initializationPromise;const r=Wa(i,t);return await J0(r,i),r._openRedirect(i,e,"signInViaRedirect")}function XO(n,e,t){return ZO(n,e,t)}async function ZO(n,e,t){const i=je(n);if(Mc(i.auth,e,zr),Xt(i.auth.app))return Promise.reject(Mn(i.auth));await i.auth._initializationPromise;const r=Wa(i.auth,t);await J0(r,i.auth);const a=await vC(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",a)}function ej(n,e,t){return tj(n,e,t)}async function tj(n,e,t){const i=je(n);Mc(i.auth,e,zr),await i.auth._initializationPromise;const r=Wa(i.auth,t);await $m(!1,i,e.providerId),await J0(r,i.auth);const a=await vC(i);return r._openRedirect(i.auth,e,"linkViaRedirect",a)}async function nj(n,e){return await un(n)._initializationPromise,yC(n,e,!1)}async function yC(n,e,t=!1){if(Xt(n.app))return Promise.reject(Mn(n));const i=un(n),r=Wa(i,e),c=await new KO(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}async function vC(n){const e=Wm(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=600*1e3;class sj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_C(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(li(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ij&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _C({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _C(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(n,e={}){return zt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lj=/^https?/;async function cj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oj(n);for(const t of e)try{if(uj(t))return}catch{}Si(n,"unauthorized-domain")}function uj(n){const e=xd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!lj.test(t))return!1;if(aj.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Vd(3e4,6e4);function Mb(){const n=Tn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hj(n){return new Promise((e,t)=>{var r,a,c;function i(){Mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mb(),t(li(n,"network-request-failed"))},timeout:dj.get()})}if((a=(r=Tn().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((c=Tn().gapi)!=null&&c.load)i();else{const h=FI("iframefcb");return Tn()[h]=()=>{gapi.load?i():t(li(n,"network-request-failed"))},V0(`${z3()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function fj(n){return Mf=Mf||hj(n),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Vd(5e3,15e3),pj="__/auth/iframe",gj="emulator/auth/iframe",yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?L0(e,gj):`https://${n.config.authDomain}/${pj}`,i={apiKey:e.apiKey,appName:n.name,v:Tc},r=vj.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ec(i).slice(1)}`}async function xj(n){const e=await fj(n),t=Tn().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:_j(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yj,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const c=li(n,"network-request-failed"),h=Tn().setTimeout(()=>{a(c)},mj.get());function m(){Tn().clearTimeout(h),r(i)}i.ping(m).then(m,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tj=500,wj=600,bj="_blank",Sj="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aj(n,e,t,i=Tj,r=wj){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...Ej,width:i.toString(),height:r.toString(),top:a,left:c},f=ei().toLowerCase();t&&(h=kI(f)?bj:t),DI(f)&&(e=e||Sj,m.scrollbars="yes");const g=Object.entries(m).reduce((T,[b,I])=>`${T}${b}=${I},`,"");if(L3(f)&&h!=="_self")return Nj(e||"",h),new kb(null);const E=window.open(e||"",h,g);pe(E,n,"popup-blocked");try{E.focus()}catch{}return new kb(E)}function Nj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="__/auth/handler",Cj="emulator/auth/handler",Rj=encodeURIComponent("fac");async function Pb(n,e,t,i,r,a){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Tc,eventId:r};if(e instanceof zr){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",D4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))c[g]=E}if(e instanceof Lc){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const m=await n._getAppCheckToken(),f=m?`#${Rj}=${encodeURIComponent(m)}`:"";return`${Dj(n)}?${Ec(h).slice(1)}${f}`}function Dj({config:n}){return n.emulator?L0(n,Cj):`https://${n.authDomain}/${Ij}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="webStorageSupport";class Mj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=yC,this._overrideRedirectResult=JO}async _openPopup(e,t,i,r){var c;Vr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const a=await Pb(e,t,i,xd(),r);return Aj(e,a,Wm())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await Pb(e,t,i,xd(),r);return yO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Vr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await xj(e),i=new sj(e);return t.register("authEvent",r=>(pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ny,{type:Ny},r=>{var c;const a=(c=r==null?void 0:r[0])==null?void 0:c[Ny];a!==void 0&&t(!!a),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OI()||MI()||U0()}}const xC=Mj;class EC{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xs("unexpected MultiFactorSessionType")}}}class W0 extends EC{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new W0(e)}_finalizeEnroll(e,t,i){return oO(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return AO(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class TC{constructor(){}static assertion(e){return W0._fromCredential(e)}}TC.FACTOR_ID="phone";class wC{static assertionForEnrollment(e,t){return wd._fromSecret(e,t)}static assertionForSignIn(e,t){return wd._fromEnrollmentId(e,t)}static async generateSecret(e){var r;const t=e;pe(typeof((r=t.user)==null?void 0:r.auth)<"u","internal-error");const i=await aO(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Zm._fromStartTotpMfaEnrollmentResponse(i,t.user.auth)}}wC.FACTOR_ID="totp";class wd extends EC{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new wd(t,void 0,e)}static _fromEnrollmentId(e,t){return new wd(t,e)}async _finalizeEnroll(e,t,i){return pe(typeof this.secret<"u",e,"argument-error"),lO(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){pe(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const i={verificationCode:this.otp};return NO(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i})}}class Zm{constructor(e,t,i,r,a,c,h){this.sessionInfo=c,this.auth=h,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Zm(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(pf(e)||pf(t))&&(i=!0),i&&(pf(e)&&(e=((r=this.auth.currentUser)==null?void 0:r.email)||"unknownuser"),pf(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function pf(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var Lb="@firebase/auth",Ub="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lj(n){ic(new Ga("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;pe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(n)},f=new q3(i,r,a,m);return e6(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ic(new Ga("auth-internal",e=>{const t=un(e.getProvider("auth").getImmediate());return(i=>new kj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(Lb,Ub,Pj(n)),Vo(Lb,Ub,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=300,Vj=MN("authIdTokenMaxAge")||Uj;let Vb=null;const Oj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Vj)return;const r=t==null?void 0:t.token;Vb!==r&&(Vb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function jj(n=$v()){const e=Gv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=BI(n,{popupRedirectResolver:xC,persistence:[fC,aC,z0]}),i=MN("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Oj(a.toString());sC(t,c,()=>c(t.currentUser)),iC(t,h=>c(h))}}const r=RN("auth");return r&&GI(t,`http://${r}`),t}function Fj(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}H3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=li("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",Fj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lj("Browser");const Hi=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:m3,ActionCodeURL:Pc,AuthCredential:kc,AuthErrorCodes:y3,EmailAuthCredential:hc,EmailAuthProvider:aa,FacebookAuthProvider:Sr,FactorId:u3,GithubAuthProvider:Ar,GoogleAuthProvider:O0,OAuthCredential:rr,OAuthProvider:ad,OperationType:f3,PhoneAuthCredential:Ho,PhoneAuthProvider:Ha,PhoneMultiFactorGenerator:TC,ProviderId:d3,RecaptchaVerifier:kO,SAMLAuthProvider:tm,SignInMethod:h3,TotpMultiFactorGenerator:wC,TotpSecret:Zm,TwitterAuthProvider:Nr,applyActionCode:C6,beforeAuthStateChanged:sC,browserCookiePersistence:mO,browserLocalPersistence:aC,browserPopupRedirectResolver:xC,browserSessionPersistence:z0,checkActionCode:eC,confirmPasswordReset:I6,connectAuthEmulator:GI,createUserWithEmailAndPassword:D6,debugErrorMap:g3,deleteUser:sO,fetchSignInMethodsForEmail:V6,getAdditionalUserInfo:J6,getAuth:jj,getIdToken:C3,getIdTokenResult:NI,getMultiFactorResolver:rO,getRedirectResult:nj,inMemoryPersistence:rv,indexedDBLocalPersistence:fC,initializeAuth:BI,initializeRecaptchaConfig:Q6,isSignInWithEmailLink:P6,linkWithCredential:XI,linkWithPhoneNumber:UO,linkWithPopup:zO,linkWithRedirect:ej,multiFactor:uO,onAuthStateChanged:Z6,onIdTokenChanged:iC,parseActionCodeURL:x6,prodErrorMap:xI,reauthenticateWithCredential:ZI,reauthenticateWithPhoneNumber:VO,reauthenticateWithPopup:GO,reauthenticateWithRedirect:XO,reload:II,revokeAccessToken:iO,sendEmailVerification:O6,sendPasswordResetEmail:N6,sendSignInLinkToEmail:k6,setPersistence:W6,signInAnonymously:w6,signInWithCredential:Km,signInWithCustomToken:A6,signInWithEmailAndPassword:M6,signInWithEmailLink:L6,signInWithPhoneNumber:LO,signInWithPopup:BO,signInWithRedirect:WO,signOut:nO,unlink:b6,updateCurrentUser:tO,updateEmail:H6,updatePassword:B6,updatePhoneNumber:OO,updateProfile:q6,useDeviceLanguage:eO,validatePassword:X6,verifyBeforeUpdateEmail:j6,verifyPasswordResetCode:R6},Symbol.toStringTag,{value:"Module"})),qj={VITE_FIREBASE_API_KEY:"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",VITE_FIREBASE_APP_ID:"1:1043628401179:web:85f8c5b0a3d7e2d8f6b4c5",VITE_FIREBASE_AUTH_DOMAIN:"moqabala-9257a.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1043628401179",VITE_FIREBASE_PROJECT_ID:"moqabala-9257a",VITE_FIREBASE_STORAGE_BUCKET:"moqabala-9257a.appspot.com"},{getAuth:Hj,GoogleAuthProvider:Bj}=Hi,Ul=qj||{},Gj={apiKey:Ul.VITE_FIREBASE_API_KEY||"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",authDomain:Ul.VITE_FIREBASE_AUTH_DOMAIN||"moqabala-9257a.firebaseapp.com",projectId:Ul.VITE_FIREBASE_PROJECT_ID||"moqabala-9257a",storageBucket:Ul.VITE_FIREBASE_STORAGE_BUCKET||"moqabala-9257a.appspot.com",messagingSenderId:Ul.VITE_FIREBASE_MESSAGING_SENDER_ID||"1038709573170",appId:Ul.VITE_FIREBASE_APP_ID||"1:1038709573170:web:15b220fd2e40bb719b5e2b",measurementId:"G-W48GY1FMT4"},bC=ML().length?$v():zv(Gj),gt=GV(bC),Nt=Hj(bC),SC=new Bj,We=({children:n,variant:e="primary",onClick:t,className:i="",disabled:r=!1,type:a="button"})=>{const c="px-6 py-3 rounded-lg font-bold transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",m={primary:"bg-accent text-white hover:bg-accentHover shadow-lg hover:shadow-accent/50 focus:ring-accent",outline:"border-2 border-accent text-accent hover:bg-accent hover:text-white focus:ring-accent",white:"bg-white text-primary hover:bg-gray-100 shadow-lg focus:ring-white"}[e];return u.jsx("button",{type:a,onClick:t,disabled:r,className:`${c} ${m} ${i}`,children:n})},{onAuthStateChanged:zj,signOut:$j,sendEmailVerification:Kj}=Hi,{useNavigate:Yj,useLocation:Jj,Link:Vl}=Ms,Ob=[{id:"home",label:""},{id:"about",label:" "},{id:"how-it-works",label:" "},{id:"pricing",label:""},{id:"team",label:" ",isPage:!0},{id:"vision",label:""},{id:"contact",label:" "}],Wj=()=>{var D;const[n,e]=U.useState(!1),[t,i]=U.useState(!1),[r,a]=U.useState(null),[c,h]=U.useState(!1),[m,f]=U.useState(!1),[g,E]=U.useState(!1),[T,b]=U.useState(!1),[I,L]=U.useState(!1),[M,j]=U.useState(!1),H=Yj(),z=Jj(),ne=U.useRef(null),oe=z.pathname==="/",q=z.pathname==="/team";U.useEffect(()=>{const F=()=>{i(window.scrollY>20)};window.addEventListener("scroll",F);const V=zj(Nt,async Ce=>{if(a(Ce),Ce){try{const ce=(await Rs(pn(gt,"users",Ce.uid))).data(),Ee=ce==null?void 0:ce.role;f(Ee==="admin"||Ee==="maintainer"||Ee==="interviewer")}catch{f(!1)}b(!Ce.emailVerified);try{const W=qr(Cs(gt,"registrations"),Dc("userId","==",Ce.uid),Fm(10)),Ee=(await Hr(W)).docs.some(He=>{const G=He.data().status||"pending";return["pending","reviewing","approved"].includes(G)});E(Ee)}catch(W){console.error("Error checking active requests",W)}}else f(!1),E(!1),b(!1)}),xe=Ce=>{ne.current&&!ne.current.contains(Ce.target)&&h(!1)};return document.addEventListener("mousedown",xe),()=>{window.removeEventListener("scroll",F),document.removeEventListener("mousedown",xe),V()}},[]),U.useEffect(()=>{e(!1),h(!1)},[z]);const R=F=>{if(e(!1),F.isPage){H(`/${F.id}`);return}if(!oe)H("/"),setTimeout(()=>{const V=document.getElementById(F.id);V&&V.scrollIntoView({behavior:"smooth"})},100);else{const V=document.getElementById(F.id);V?V.scrollIntoView({behavior:"smooth"}):F.id==="home"&&window.scrollTo({top:0,behavior:"smooth"})}},C=async()=>{if(r&&!M){j(!0);try{await Kj(r),L(!0)}catch{alert(" .   .")}finally{j(!1)}}},N=async()=>{try{await $j(Nt),h(!1),H("/")}catch(F){console.error("Logout Error",F)}},P=()=>{H(r?"/request-meeting":"/login")};return u.jsxs(u.Fragment,{children:[T&&u.jsxs("div",{className:"bg-amber-500 text-white text-xs md:text-sm py-2 px-4 text-center flex items-center justify-center gap-3 fixed top-0 left-0 right-0 z-[60] animate-in slide-in-from-top duration-500",children:[u.jsx(YP,{className:"w-4 h-4"}),u.jsx("span",{children:"   .       ."}),u.jsx("button",{onClick:C,disabled:M,className:`bg-white/20 hover:bg-white/30 px-2 py-1 rounded font-bold underline transition-colors ${M?"opacity-50 cursor-not-allowed":""}`,children:M?" ...":"  "})]}),u.jsxs("header",{className:`fixed ${T?"top-8 md:top-9":"top-0"} left-0 right-0 z-50 transition-all duration-300 ${t||!oe?"bg-white/95 backdrop-blur-md shadow-md py-3":"bg-transparent py-5"}`,children:[u.jsx("div",{className:"container mx-auto px-4 md:px-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>H("/"),children:[u.jsx("div",{className:"bg-accent p-2 rounded-lg",children:u.jsx(ta,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:`text-2xl font-bold ${t||!oe?"text-primary":"text-white"}`,children:" "})]}),u.jsx("nav",{className:"hidden md:flex items-center gap-6 lg:gap-8",children:Ob.map(F=>u.jsx("button",{onClick:()=>R(F),className:`text-base lg:text-lg font-medium transition-colors ${F.id==="team"&&q?"text-accent":t||!oe?"text-gray-600 hover:text-accent":"text-gray-200 hover:text-white"}`,children:F.label},F.id))}),u.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r?u.jsxs("div",{className:"relative",ref:ne,children:[u.jsxs("button",{onClick:()=>h(!c),className:`flex items-center gap-2 font-medium px-3 py-2 rounded-lg transition-all ${t||!oe?"text-gray-600 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center",children:u.jsx(os,{className:`w-5 h-5 ${t||!oe?"text-accent":"text-white"}`})}),u.jsx("span",{className:"max-w-[100px] truncate",children:((D=r.displayName)==null?void 0:D.split(" ")[0])||""}),u.jsx(gN,{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top-left",children:[u.jsxs("div",{className:"p-4 border-b border-gray-50 bg-gray-50/50 text-right",children:[u.jsx("p",{className:"text-xs text-gray-500",children:" "}),u.jsx("p",{className:"font-bold text-gray-900 truncate",children:r.displayName||r.email})]}),u.jsxs("div",{className:"p-2 text-right",children:[m&&u.jsxs(Vl,{to:"/dashboard",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(Py,{className:"w-4 h-4"})," "]}),u.jsxs(Vl,{to:"/profile",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(sw,{className:"w-4 h-4"}),""]}),u.jsxs(Vl,{to:"/my-requests",className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-accent/5 hover:text-accent rounded-lg transition-colors",onClick:()=>h(!1),children:[u.jsx(zo,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full text-right",children:[u.jsx(ow,{className:"w-4 h-4"})," "]})]})]})]}):u.jsxs("button",{onClick:()=>H("/login"),className:`flex items-center gap-2 font-medium transition-colors ${t||!oe?"text-gray-600 hover:text-accent":"text-white hover:text-gray-200"}`,children:[u.jsx(TN,{className:"w-5 h-5"})," "]}),(!r||m||!g)&&u.jsx(We,{variant:t||!oe?"primary":"white",onClick:P,children:" "})]}),u.jsx("button",{className:"md:hidden p-2",onClick:()=>e(!n),children:n?u.jsx(Ir,{className:`w-8 h-8 ${t||!oe?"text-primary":"text-white"}`}):u.jsx(xP,{className:`w-8 h-8 ${t||!oe?"text-primary":"text-white"}`})})]})}),u.jsx("div",{className:`md:hidden absolute top-full left-0 right-0 bg-white border-t border-gray-100 shadow-xl transition-all duration-300 origin-top transform ${n?"opacity-100 scale-y-100 visible":"opacity-0 scale-y-0 invisible"}`,children:u.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[Ob.map(F=>u.jsx("button",{onClick:()=>R(F),className:"text-right font-medium text-lg py-3 border-b border-gray-50 px-2 rounded hover:bg-gray-50 text-gray-700",children:F.label},F.id)),r&&u.jsxs(u.Fragment,{children:[u.jsxs(Vl,{to:"/profile",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(sw,{className:"w-5 h-5 text-accent"}),""]}),u.jsxs(Vl,{to:"/my-requests",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(zo,{className:"w-5 h-5 text-accent"}),""]}),m&&u.jsxs(Vl,{to:"/dashboard",onClick:()=>e(!1),className:"flex items-center gap-2 p-3 text-gray-700 hover:bg-gray-50 rounded-lg text-lg font-medium border-b border-gray-50",children:[u.jsx(Py,{className:"w-5 h-5 text-accent"})," "]})]}),u.jsx("div",{className:"pt-4 flex flex-col gap-3",children:r?u.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-2 p-3 text-red-600 font-bold border border-red-100 rounded-lg bg-red-50",children:[u.jsx(ow,{className:"w-5 h-5"})," "]}):u.jsx(We,{onClick:()=>H("/login"),className:"w-full justify-center",children:" "})})]})})]}),I&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-12 max-w-md w-full text-center shadow-2xl animate-in zoom-in-95 duration-300 border border-gray-100",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:u.jsx(wN,{className:"w-12 h-12"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-4",children:"  !"}),u.jsxs("p",{className:"text-gray-600 mb-10 leading-relaxed text-lg",children:["    .     ",u.jsx("span",{className:"font-bold text-accent",children:"(  Spam)"}),"."]}),u.jsx(We,{variant:"primary",className:"w-full py-4 text-lg rounded-2xl shadow-accent/20",onClick:()=>L(!1),children:" "})]})})]})},{onAuthStateChanged:Qj}=Hi,{useNavigate:Xj}=Ms,Zj=()=>{const n=Xj(),[e,t]=U.useState(null),[i,r]=U.useState(!1),[a,c]=U.useState(!1);U.useEffect(()=>{const m=Qj(Nt,async f=>{if(t(f),f){try{const E=(await Rs(pn(gt,"users",f.uid))).data(),T=E==null?void 0:E.role;c(T==="admin"||T==="maintainer"||T==="interviewer")}catch{c(!1)}try{const g=qr(Cs(gt,"registrations"),Dc("userId","==",f.uid),Fm(15)),T=(await Hr(g)).docs.some(b=>{const L=b.data().status||"pending";return["pending","reviewing","approved"].includes(L)});r(T)}catch(g){console.error("Error checking active requests",g)}}else r(!1),c(!1)});return()=>m()},[]);const h=()=>{if(e){if(i&&!a)return;n("/request-meeting")}else n("/login")};return u.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center pt-28 pb-20 md:pt-20 md:pb-32 lg:pt-40 overflow-hidden bg-gradient-to-br from-secondary via-primary to-slate-800",children:[u.jsxs("div",{className:"absolute inset-0 bg-transparent z-0",children:[u.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-20 left-20 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl"})]}),u.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-16",children:[u.jsxs("div",{className:"w-1/2 text-center lg:text-right",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/20 border border-accent/30 text-accent mb-6 backdrop-blur-sm animate-in fade-in slide-in-from-bottom-4 duration-700",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-accent"})]}),u.jsx("span",{className:"text-sm font-semibold text-white",children:"   "})]}),u.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-5xl xl:text-7xl font-bold text-white leading-tight mb-6 animate-in fade-in slide-in-from-bottom-5 delay-100 duration-700",children:[u.jsx("span",{className:"block mb-2",children:" "}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-teal-400 to-emerald-400",children:" "})]}),u.jsx("p",{className:"text-lg md:text-xl lg:text-lg xl:text-xl text-gray-300 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed animate-in fade-in slide-in-from-bottom-6 delay-200 duration-700",children:"    .                ."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-in fade-in slide-in-from-bottom-7 delay-300 duration-700",children:[(!e||a||!i)&&u.jsx(We,{variant:"primary",onClick:h,children:"  "}),u.jsxs(We,{variant:"outline",className:"text-white border-white hover:bg-white hover:!text-slate-900",onClick:()=>n("/team"),children:["  ",u.jsx(Lv,{className:"mr-2 w-5 h-5 inline-block"})]})]})]}),u.jsx("div",{className:"w-1/2 relative mt-8 lg:mt-0",children:u.jsxs("div",{className:"relative mx-auto max-w-xs lg:max-w-[18rem] xl:max-w-sm",children:[u.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-4 border-white/5 animate-in fade-in zoom-in-95 duration-700 bg-slate-800",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/30 to-transparent z-10 pointer-events-none"}),u.jsx("img",{src:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",alt:"Professional Interview Success",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-700"})]}),u.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-white rounded-xl shadow-xl p-4 w-56 lg:w-64 border border-gray-100 z-20 animate-in slide-in-from-bottom-8 delay-500 duration-700 hidden sm:block scale-90 lg:scale-[0.85] xl:scale-100 origin-bottom-left",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-2 mb-2",children:[u.jsx("div",{className:"bg-accent/10 p-1.5 rounded-lg",children:u.jsx(bN,{className:"w-4 h-4 text-accent"})}),u.jsx("span",{className:"font-bold text-gray-800 text-sm",children:" "})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:" "}),u.jsx("span",{className:"font-bold text-green-600",children:""})]}),u.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-green-500 h-full rounded-full",style:{width:"95%"}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:" "}),u.jsx("span",{className:"font-bold text-accent",children:"9.5/10"})]}),u.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-accent h-full rounded-full",style:{width:"92%"}})})]})]})]}),u.jsxs("div",{className:"absolute -top-6 -right-6 bg-slate-800/90 backdrop-blur-md rounded-xl shadow-lg p-3 border border-slate-700 z-20 animate-in slide-in-from-top-8 delay-700 duration-700 flex items-center gap-3 transform hover:scale-105 transition-transform scale-90 lg:scale-[0.85] xl:scale-100 origin-top-right",children:[u.jsx("div",{className:"bg-green-500 p-2 rounded-lg shadow-lg shadow-green-500/20",children:u.jsx(ta,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-bold text-base",children:" !"}),u.jsx("p",{className:"text-xs text-gray-400",children:" "})]})]})]})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 text-gray-50 z-0",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full h-auto",children:u.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,160C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})},eF=[{title:" ",description:"             .",Icon:AN},{title:"  ",description:"                .",Icon:zo},{title:" ",description:"              .",Icon:$P},{title:"   ",description:"    (Referrers)   .        .",Icon:Ts},{title:"  ",description:"               .",Icon:bN},{title:"  ",description:"  .                .",Icon:_c}],tF=()=>u.jsx("section",{id:"about",className:"py-20 md:py-32 bg-gray-50 overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"text-center mb-16 max-w-4xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block animate-in fade-in slide-in-from-bottom-2",children:" "}),u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 animate-in fade-in slide-in-from-bottom-3",children:["   ",u.jsx("span",{className:"text-accent",children:""}),"  "]}),u.jsx("p",{className:"text-gray-600 text-xl font-medium mb-4 animate-in fade-in slide-in-from-bottom-4 leading-relaxed",children:"             ."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:eF.map((n,e)=>u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 group transform hover:-translate-y-2",children:[u.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-2xl flex items-center justify-center mb-6 group-hover:bg-accent transition-colors duration-300 shadow-sm",children:u.jsx(n.Icon,{className:"w-8 h-8 text-accent group-hover:text-white transition-colors duration-300"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 group-hover:text-accent transition-colors",children:n.title}),u.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:n.description})]},e))})]})}),jb=[{title:" ",description:"           .",Icon:Jk},{title:" ",description:"       24      .",Icon:yN},{title:" ",description:"          .",Icon:Hk},{title:" ",description:"             .",Icon:Ek}],nF=()=>u.jsx("section",{id:"how-it-works",className:"py-20 bg-white relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:[u.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block",children:" "}),u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6",children:["  ",u.jsx("span",{className:"text-accent",children:""})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"      .          ."})]}),u.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsx("div",{className:"hidden lg:block absolute top-12 left-0 right-0 h-1 bg-gray-100 -z-10 translate-y-1/2 w-3/4 mx-auto"}),jb.map((n,e)=>u.jsxs("div",{className:"relative flex flex-col items-center text-center group",children:[u.jsxs("div",{className:"w-24 h-24 bg-white rounded-full border-4 border-gray-50 flex items-center justify-center mb-6 shadow-sm group-hover:border-accent/20 group-hover:shadow-lg transition-all duration-300 relative z-10",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center group-hover:bg-accent group-hover:text-white transition-colors duration-300",children:u.jsx(n.Icon,{className:"w-8 h-8 text-gray-400 group-hover:text-white transition-colors duration-300"})}),u.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md border-2 border-white",children:e+1})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-accent transition-colors duration-300",children:n.title}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed px-2",children:n.description}),e<jb.length-1&&u.jsx("div",{className:"lg:hidden mt-8 text-gray-200",children:u.jsx(Lv,{className:"w-6 h-6 rotate-[-90deg]"})})]},e))]})]})}),{onAuthStateChanged:iF}=Hi,{useNavigate:sF}=Ms,rF=[{id:"referral",title:" ",level:"Community & Referrals",price:"",period:"  15 ",description:"        .",features:["   (40-45 )","  (15-20 )","        ","  ","  "],highlight:!0,highlightText:" ",icon:xN,color:"purple"},{id:"junior",title:" ",level:"Fresh / Junior",price:"$9.99",description:"        .",features:["   (40-45 )","  (15-20 )","        ","  "],hasGuarantee:!0,icon:kr,color:"teal"},{id:"senior",title:" ",level:"Mid-Senior / Senior",price:"$24.9",description:"       .",features:["   (40-45 )","  (15-20 )","        ","  "],hasGuarantee:!0,popular:!0,icon:r4,color:"teal"},{id:"staff",title:" ",level:"Staff / Tech Lead",price:"$34.9",description:"      .",features:["   (40-45 )","  (15-20 )","        ","  "],hasGuarantee:!0,icon:_c,color:"teal"}],oF=()=>{const n=sF(),[e,t]=U.useState(null),[i,r]=U.useState(!1),[a,c]=U.useState(!1);U.useEffect(()=>{const m=iF(Nt,async f=>{if(t(f),f){try{const E=(await Rs(pn(gt,"users",f.uid))).data(),T=E==null?void 0:E.role,b=f.email==="dev.mohattia@gmail.com";c(T==="admin"||T==="maintainer"||T==="interviewer"||b)}catch{c(f.email==="dev.mohattia@gmail.com")}try{const g=qr(Cs(gt,"registrations"),Dc("userId","==",f.uid),Fm(15)),T=(await Hr(g)).docs.some(b=>{const L=b.data().status||"pending";return["pending","reviewing","approved"].includes(L)});r(T)}catch(g){console.error("Error checking active requests",g)}}else r(!1),c(!1)});return()=>m()},[]);const h=m=>{if(e)if(m==="referral")n("/profile");else{if(i&&!a)return;n("/request-meeting")}else n("/login")};return u.jsxs("section",{id:"pricing",className:"py-20 md:py-28 bg-gradient-to-b from-white to-gray-50 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-[10%] left-[-5%] w-72 h-72 bg-accent/5 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"})]}),u.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:[u.jsxs("div",{className:"text-center mb-16 max-w-4xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-3 block animate-in fade-in slide-in-from-bottom-2",children:"  "}),u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 animate-in fade-in slide-in-from-bottom-3",children:["  ",u.jsx("span",{className:"text-accent",children:" "})]}),u.jsxs("p",{className:"text-gray-600 text-lg md:text-xl leading-relaxed animate-in fade-in slide-in-from-bottom-4 bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-100 shadow-sm inline-block",children:[u.jsx("span",{className:"font-bold text-gray-800 block mb-1",children:"     "}),"            ."]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 align-stretch mb-12",children:rF.map((m,f)=>u.jsxs("div",{className:`
                relative flex flex-col p-6 rounded-2xl transition-all duration-300 group
                ${m.popular?"bg-white border-2 border-accent shadow-xl scale-105 z-10":"bg-white border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-1"}
              `,style:{animationDelay:`${f*100}ms`},children:[m.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-accent text-white px-4 py-1 rounded-full text-sm font-bold shadow-md whitespace-nowrap",children:" "}),m.highlight&&u.jsxs("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-1 rounded-full text-sm font-bold shadow-md whitespace-nowrap flex items-center gap-1",children:[u.jsx(xN,{className:"w-3 h-3"}),m.highlightText]}),u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("div",{className:`
                  w-12 h-12 mx-auto rounded-xl flex items-center justify-center mb-4 transition-colors
                  ${m.id==="referral"?"bg-purple-100 text-purple-600":"bg-accent/10 text-accent"}
                `,children:u.jsx(m.icon,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:m.title}),u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-4",children:m.level}),u.jsxs("div",{className:"flex items-end justify-center gap-1 mb-2",children:[u.jsx("span",{className:`text-4xl font-extrabold ${m.id==="referral"?"text-purple-600":"text-gray-900"}`,children:m.price}),m.id!=="referral"&&u.jsx("span",{className:"text-gray-400 mb-1",children:"/ "})]}),m.period&&u.jsx("p",{className:"text-xs text-purple-600 font-bold bg-purple-50 py-1 px-2 rounded-full inline-block",children:m.period})]}),u.jsx("p",{className:"text-gray-600 text-sm text-center mb-6 leading-relaxed min-h-[40px]",children:m.description}),u.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[m.features.map((g,E)=>u.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[u.jsx("div",{className:"mt-0.5 shrink-0",children:u.jsx("span",{className:`w-4 h-4 ${m.id==="referral"?"text-purple-500":"text-accent"}`,children:u.jsx(bk,{className:"w-4 h-4"})})}),u.jsx("span",{children:g})]},E)),m.hasGuarantee&&u.jsxs("li",{className:"flex items-center gap-3 text-sm font-bold text-green-700 bg-green-50 p-2 rounded-lg border border-green-100 mt-2",children:[u.jsx(SN,{className:"w-4 h-4 shrink-0"}),u.jsx("span",{children:"   100%"})]})]}),(!e||m.id==="referral"||a||!i)&&u.jsx(We,{onClick:()=>h(m.id),className:`w-full justify-center ${m.id==="referral"?"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500":m.popular?"bg-accent hover:bg-accentHover":"bg-gray-900 hover:bg-gray-800"}`,children:m.id==="referral"?" ":" "})]},m.id))}),u.jsx("div",{className:"max-w-4xl mx-auto text-center animate-in fade-in slide-in-from-bottom-4 delay-500",children:u.jsx("p",{className:"text-gray-800 font-bold text-lg",children:"    PayPal  InstaPay"})})]})]})},aF=[{title:"",description:"     .",Icon:RP},{title:"",description:"     .",Icon:Ts},{title:"",description:"     .",Icon:xm},{title:"",description:"      .",Icon:vm}],lF=()=>u.jsx("section",{id:"vision",className:"py-20 bg-gray-50",children:u.jsx("div",{className:"container mx-auto px-4 md:px-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[u.jsxs("div",{className:"w-full md:w-1/3",children:[u.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 relative inline-block",children:["",u.jsx("span",{className:"absolute bottom-2 left-0 w-full h-3 bg-accent/20 -z-10"})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-8",children:"          .           ."}),u.jsx("div",{className:"h-1 w-20 bg-accent rounded-full"})]}),u.jsx("div",{className:"w-full md:w-2/3",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:aF.map((n,e)=>u.jsxs("div",{className:"flex items-start gap-4 p-6 rounded-xl bg-white hover:bg-gray-50 border border-transparent hover:border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("div",{className:"shrink-0 bg-gray-50 p-3 rounded-full shadow-sm group-hover:bg-white",children:u.jsx(n.Icon,{className:"w-6 h-6 text-accent"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:n.title}),u.jsx("p",{className:"text-gray-500 text-sm",children:n.description})]})]},e))})})]})})}),cF=()=>u.jsxs(u.Fragment,{children:[u.jsx(Zj,{}),u.jsx(tF,{}),u.jsx(nF,{}),u.jsx(oF,{}),u.jsx(lF,{})]}),uF=async n=>{const e="service_w3s333b",t="template_ugepp1a",i="ZjvVZ6fPn30HS4LdG";try{console.log("       :",n.from_name);const r=await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:e,template_id:t,user_id:i,template_params:{admin_email:"dev.mohattia@gmail.com",user_name:n.from_name,user_email:n.user_email,user_phone:n.user_phone,field:n.field,level:n.level,tech_stack:n.tech_stack,expectations:n.expectations}})});if(!r.ok){const a=await r.text();throw console.error("EmailJS API Error Response:",a),new Error(`EmailJS Error: ${a}`)}return console.log("     "),{success:!0}}catch(r){return console.error("    :",r),{success:!1,error:r}}},{onAuthStateChanged:dF,sendEmailVerification:hF}=Hi,{useNavigate:fF,Link:Fb}=Ms,mF=()=>{var G;const n=fF(),[e,t]=U.useState(1),[i,r]=U.useState(!1),[a,c]=U.useState(!0),[h,m]=U.useState(!1),[f,g]=U.useState(null),[E,T]=U.useState(!1),[b,I]=U.useState(null),[L,M]=U.useState(!1),[j,H]=U.useState({fullName:"",email:"",country:"",whatsapp:"",linkedin:"",field:"",techStack:[],experience:0,level:"fresh",goals:[],hasInterviewExperience:"no",upcomingInterview:"no",preferredTime:"",expectations:"",termsAccepted:!1}),z=async $=>{$?$.emailVerified?(m(!1),I($),$.email&&!j.email&&H(me=>({...me,email:$.email})),$.displayName&&!j.fullName&&H(me=>({...me,fullName:$.displayName}))):m(!0):n("/login"),c(!1)};U.useEffect(()=>{const $=dF(Nt,me=>{z(me)});return()=>$()},[n]);const ne=async()=>{c(!0),Nt.currentUser&&(await Nt.currentUser.reload(),z(Nt.currentUser))},oe=async()=>{if(Nt.currentUser&&!L){M(!0);try{await hF(Nt.currentUser),alert("      .")}catch{alert(" .   .")}finally{M(!1)}}},[q,R]=U.useState(""),C=($,me)=>{H(ye=>({...ye,[$]:me})),g(null)},N=$=>{$.key==="Enter"&&q.trim()&&($.preventDefault(),j.techStack.includes(q.trim())||C("techStack",[...j.techStack,q.trim()]),R(""))},P=$=>{C("techStack",j.techStack.filter(me=>me!==$))},D=$=>{const me=j.goals;me.includes($)?C("goals",me.filter(ye=>ye!==$)):C("goals",[...me,$])},F=$=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($),V=$=>/^\+?[0-9]{8,15}$/.test($),xe=$=>$.includes("linkedin.com/"),Ce=()=>j.fullName.trim().length>3&&F(j.email)&&j.country.trim().length>2&&V(j.whatsapp)&&xe(j.linkedin),W=()=>j.field!==""&&j.techStack.length>0&&!isNaN(j.experience)&&j.experience>=0,ce=()=>j.goals.length>0&&j.preferredTime!==""&&j.expectations.trim().length>=10&&j.termsAccepted===!0,Ee=()=>{e===1?Ce()?(t(2),g(null)):g("         (    LinkedIn)."):e===2&&(W()?(t(3),g(null)):g("          ."))},He=async()=>{if(!i){if(!ce()){j.expectations.trim().length<10?g("  10           ."):j.goals.length===0?g("       ."):j.termsAccepted?g("       ."):g("    .");return}if(!b){g("    .");return}r(!0),g(null);try{const $=`MQ-${Math.floor(1e5+Math.random()*9e5)}`;await vI(Cs(gt,"registrations"),{...j,userId:b.uid,submittedAt:Br(),status:"pending",requestNumber:$}),await uF({to_email:"dev.mohattia@gmail.com",from_name:j.fullName,user_email:j.email,user_phone:j.whatsapp,field:j.field,level:j.level,tech_stack:j.techStack.join(", "),expectations:j.expectations}),T(!0)}catch($){console.error("Error submitting form: ",$),g("    .    .")}finally{r(!1)}}};if(a)return u.jsx("div",{className:"min-h-screen pt-32 flex flex-col items-center justify-center",children:u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin"})});if(h)return u.jsx("div",{className:"min-h-screen bg-gray-50 pt-32 pb-12 px-4 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] p-10 shadow-xl border border-gray-100 text-center animate-in fade-in zoom-in duration-500",children:[u.jsx("div",{className:"w-20 h-20 bg-amber-50 text-amber-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:u.jsx(pP,{className:"w-10 h-10"})}),u.jsx("h2",{className:"text-2xl font-black text-primary mb-4",children:"  "}),u.jsxs("p",{className:"text-gray-600 mb-8 leading-relaxed",children:["      ",u.jsxs("span",{className:"font-bold text-accent",children:["(",(G=Nt.currentUser)==null?void 0:G.email,")"]}),"    .      ."]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(We,{onClick:ne,className:"w-full flex items-center justify-center gap-2 py-4",children:[u.jsx(IP,{className:"w-5 h-5"}),"   "]}),u.jsx("button",{onClick:oe,disabled:L,className:"text-sm font-bold text-gray-500 hover:text-accent transition-colors underline",children:L?" ...":"    "})]})]})});const Le="block w-full border rounded-lg focus:ring-accent focus:border-accent border-gray-300";return u.jsxs("div",{className:"min-h-screen bg-gray-50 pt-32 pb-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:[u.jsxs("div",{className:"max-w-3xl w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"  "}),u.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"      ."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-200 -z-10 rounded"}),u.jsx("div",{className:"absolute top-1/2 right-0 h-1 bg-accent -z-10 rounded transition-all duration-500",style:{width:`${(e-1)/2*100}%`}}),u.jsx("div",{className:"flex justify-between",children:[1,2,3].map($=>u.jsxs("div",{className:`flex flex-col items-center bg-gray-50 px-2 ${e>=$?"text-accent":"text-gray-400"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors duration-300 ${e>=$?"border-accent bg-accent text-white":"border-gray-300 bg-white"}`,children:e>$?u.jsx(ws,{className:"w-5 h-5"}):$}),u.jsx("span",{className:"text-xs font-bold mt-1",children:$===1?"":$===2?"":""})]},$))})]}),u.jsxs("div",{className:"bg-white py-8 px-6 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"  "}),u.jsx("p",{className:"text-sm text-gray-500",children:"      ."})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(os,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:j.fullName,onChange:$=>C("fullName",$.target.value),className:`${Le} pr-10 py-3`,placeholder:":  "})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(na,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"email",value:j.email,onChange:$=>C("email",$.target.value),className:`${Le} pr-10 py-3`,placeholder:"email@example.com"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(Ad,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"tel",value:j.whatsapp,onChange:$=>C("whatsapp",$.target.value),className:`${Le} pr-10 py-3 dir-ltr text-right`,placeholder:"+1234567890"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(vm,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:j.country,onChange:$=>C("country",$.target.value),className:`${Le} pr-10 py-3`,placeholder:" "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" LinkedIn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(_m,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:j.linkedin,onChange:$=>C("linkedin",$.target.value),className:`${Le} pr-10 py-3 dir-ltr text-left`,placeholder:"linkedin.com/in/username"})]})]})]})]})]}),e===2&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"    "}),u.jsx("p",{className:"text-sm text-gray-500",children:"      ."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["Frontend","Backend","Full Stack","Mobile App","UX Design","QA Testing"].map($=>u.jsx("div",{onClick:()=>C("field",$),className:`cursor-pointer border rounded-lg p-3 text-center transition-all ${j.field===$?"border-accent bg-accent/5 text-accent font-bold ring-1 ring-accent":"border-gray-200 hover:border-gray-300 text-gray-600 text-sm"}`,children:$},$))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(vN,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:q,onChange:$=>R($.target.value),onKeyDown:N,className:`${Le} pr-10 py-3`,placeholder:"  Enter"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:j.techStack.map($=>u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:[$,u.jsx("button",{type:"button",onClick:()=>P($),className:"mr-2 text-gray-500 hover:text-red-500",children:""})]},$))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",min:"0",value:j.experience,onChange:$=>C("experience",parseInt($.target.value)),className:`${Le} py-3 px-4`})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:j.level,onChange:$=>C("level",$.target.value),className:`${Le} py-3 px-4`,children:[u.jsx("option",{value:"fresh",children:" (fresh)"}),u.jsx("option",{value:"junior",children:" (junior)"}),u.jsx("option",{value:"mid-senior",children:"  (mid/senior)"}),u.jsx("option",{value:"lead-staff",children:" (lead/staff)"})]})]})]})]}),e===3&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-primary",children:"   "}),u.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("div",{className:"space-y-2",children:["  ","    ","    ","    ","   (Referral)"].map($=>u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:j.goals.includes($),onChange:()=>D($),className:"w-5 h-5 text-accent rounded focus:ring-accent"}),u.jsx("span",{className:"text-gray-700 text-sm",children:$})]},$))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:j.preferredTime,onChange:$=>C("preferredTime",$.target.value),className:`${Le} py-3 px-4`,children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"morning",children:" (9 - 12)"}),u.jsx("option",{value:"evening",children:" (4 - 9)"}),u.jsx("option",{value:"flexible",children:"   "})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["    ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:j.upcomingInterview,onChange:$=>C("upcomingInterview",$.target.value),className:`${Le} py-3 px-4`,children:[u.jsx("option",{value:"no",children:"  "}),u.jsx("option",{value:"yes_soon",children:"   "}),u.jsx("option",{value:"yes_later",children:"   "})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex justify-between items-center",children:[u.jsxs("span",{children:["   ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-600 px-2 py-0.5 rounded-full font-bold",children:"10   "})]}),u.jsx("textarea",{value:j.expectations,onChange:$=>C("expectations",$.target.value),className:`${Le} py-3 px-4 min-h-[100px]`,placeholder:"      "})]}),u.jsx("div",{className:"pt-4 border-t border-gray-100",children:u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",checked:j.termsAccepted,onChange:$=>C("termsAccepted",$.target.checked),className:"mt-1 w-5 h-5 text-accent rounded focus:ring-accent border-gray-300"}),u.jsxs("span",{className:"text-sm text-gray-600 group-hover:text-gray-900 transition-colors",children:["  ",u.jsx(Fb,{to:"/terms",className:"text-accent hover:underline font-bold",children:" "}),"  ",u.jsx(Fb,{to:"/privacy",className:"text-accent hover:underline font-bold",children:" "}),"  ."]})]})})]}),f&&u.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-100 rounded-xl flex items-center gap-3 text-red-600 animate-in shake duration-500",children:[u.jsx(vc,{className:"w-5 h-5 shrink-0"}),u.jsx("p",{className:"text-sm font-medium",children:f})]}),u.jsxs("div",{className:"mt-8 flex gap-4",children:[e>1&&u.jsxs(We,{variant:"outline",onClick:()=>{t(e-1),g(null)},className:"flex-1 flex items-center justify-center gap-2",disabled:i,children:[u.jsx(ym,{className:"w-5 h-5"})," "]}),e<3?u.jsxs(We,{onClick:Ee,className:"flex-1 flex items-center justify-center gap-2",children:[" ",u.jsx(gm,{className:"w-5 h-5"})]}):u.jsx(We,{onClick:He,className:"flex-1 flex items-center justify-center gap-2 py-4",disabled:i,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Tt,{className:"w-6 h-6 animate-spin"}),"   ..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ws,{className:"w-5 h-5"}),"   "]})})]})]})]}),E&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 w-full max-w-md text-center shadow-2xl animate-in zoom-in-95 duration-300 border border-gray-100",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-inner",children:u.jsx(ws,{className:"w-12 h-12"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"  !"}),u.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"  .           24   ."}),u.jsx(We,{className:"w-full py-4 rounded-2xl shadow-accent/20 text-lg",onClick:()=>n("/my-requests"),children:"  "})]})})]})};var pF={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gF,yF;function vF(){return{geminiUrl:gF,vertexUrl:yF}}function _F(n,e,t,i){var r,a;if(!(n!=null&&n.baseUrl)){const c=vF();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:t:(a=c.geminiUrl)!==null&&a!==void 0?a:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $r{}function Te(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function y(n,e,t){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in n))if(Array.isArray(t))n[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[h])){const m=n[h];if(Array.isArray(t))for(let f=0;f<m.length;f++){const g=m[f];y(g,e.slice(a+1),t[f])}else for(const f of m)y(f,e.slice(a+1),t)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in n||(n[h]=[{}]);const m=n[h];y(m[0],e.slice(a+1),t);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function p(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const c=n[a];return Array.isArray(c)?c.map(h=>p(h,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function xF(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),a=i.split("."),c=new Set;let h=-1;for(let m=0;m<r.length;m++)if(r[m]==="*"){h=m;break}if(h!==-1&&a.length>h)for(let m=h;m<a.length;m++){const f=a[m];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&c.add(f)}av(n,r,a,0,c)}}function av(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2),h=n;if(c in h&&Array.isArray(h[c]))for(const m of h[c])av(m,e,t,i+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,h=Object.keys(c).filter(f=>!f.startsWith("_")&&!r.has(f)),m={};for(const f of h)m[f]=c[f];for(const[f,g]of Object.entries(m)){const E=[];for(const T of t.slice(i))T==="*"?E.push(f):E.push(T);y(c,E,g)}for(const f of h)delete c[f]}}else{const c=n;a in c&&av(c[a],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q0(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EF(n){const e={},t=p(n,["operationName"]);t!=null&&y(e,["operationName"],t);const i=p(n,["resourceName"]);return i!=null&&y(e,["_url","resourceName"],i),e}function TF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],bF(c)),e}function wF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],SF(c)),e}function bF(n){const e={},t=p(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>AF(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function SF(n){const e={},t=p(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>NF(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function AF(n){const e={},t=p(n,["video"]);return t!=null&&y(e,["video"],kF(t)),e}function NF(n){const e={},t=p(n,["_self"]);return t!=null&&y(e,["video"],PF(t)),e}function IF(n){const e={},t=p(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function CF(n){const e={},t=p(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function RF(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],DF(c)),e}function DF(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function AC(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],MF(c)),e}function MF(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function kF(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],Q0(i));const r=p(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function PF(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],Q0(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qb;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qb||(qb={}));var Hb;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Hb||(Hb={}));var Bb;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Bb||(Bb={}));var Po;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Po||(Po={}));var Gb;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gb||(Gb={}));var zb;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zb||(zb={}));var $b;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})($b||($b={}));var Kb;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kb||(Kb={}));var Yb;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yb||(Yb={}));var Jb;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Jb||(Jb={}));var Wb;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wb||(Wb={}));var Qb;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Qb||(Qb={}));var Xb;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Xb||(Xb={}));var Zb;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Zb||(Zb={}));var eS;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(eS||(eS={}));var tS;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tS||(tS={}));var nS;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nS||(nS={}));var iS;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(iS||(iS={}));var sS;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sS||(sS={}));var rm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(rm||(rm={}));var rS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rS||(rS={}));var oS;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(oS||(oS={}));var aS;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aS||(aS={}));var lv;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lv||(lv={}));var lS;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lS||(lS={}));var cS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(cS||(cS={}));var uS;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(uS||(uS={}));var dS;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(dS||(dS={}));var hS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(hS||(hS={}));var fS;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fS||(fS={}));var mS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(mS||(mS={}));var pS;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(pS||(pS={}));var gS;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(gS||(gS={}));var yS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(yS||(yS={}));var vS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vS||(vS={}));var _S;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_S||(_S={}));var xS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xS||(xS={}));var ES;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ES||(ES={}));var TS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(TS||(TS={}));var wS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(wS||(wS={}));var bS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(bS||(bS={}));var SS;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(SS||(SS={}));var AS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(AS||(AS={}));var NS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(NS||(NS={}));var IS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(IS||(IS={}));var CS;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(CS||(CS={}));var RS;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(RS||(RS={}));var DS;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(DS||(DS={}));var MS;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(MS||(MS={}));var kS;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kS||(kS={}));var PS;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PS||(PS={}));var LS;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(LS||(LS={}));var US;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(US||(US={}));var VS;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VS||(VS={}));var OS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(OS||(OS={}));var Kl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Kl||(Kl={}));class cv{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hu{get text(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const E=[];for(const T of(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[b,I]of Object.entries(T))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(I!==null||I!==void 0)&&E.push(b);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,f+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const E of(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[T,b]of Object.entries(E))T!=="inlineData"&&(b!==null||b!==void 0)&&g.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(f+=atob(E.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,a,c,h,m;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,a,c,h,m,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,a,c,h,m,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(m=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class jS{}class FS{}class LF{}class UF{}class VF{}class OF{}class qS{}class HS{}class BS{}class jF{}class om{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new om;let r;const a=e;return t?r=wF(a):r=TF(a),Object.assign(i,r),i}}class GS{}class zS{}class $S{}class KS{}class FF{}class qF{}class HF{}class X0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new X0,a=RF(e);return Object.assign(i,a),i}}class BF{}class GF{}class zF{}class YS{}class $F{get text(){var e,t,i;let r="",a=!1;const c=[];for(const h of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[m,f]of Object.entries(h))m!=="text"&&m!=="thought"&&f!==null&&c.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,t,i;let r="";const a=[];for(const c of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(c))h!=="inlineData"&&m!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class KF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Z0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new Z0,a=AC(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function NC(n,e){const t=_t(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function IC(n){return Array.isArray(n)?n.map(e=>am(e)):[am(n)]}function am(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function CC(n){const e=am(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RC(n){const e=am(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function JS(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function DC(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>JS(e)):[JS(n)]}function uv(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function WS(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function QS(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Zn(n){if(n==null)throw new Error("ContentUnion is required");return uv(n)?n:{role:"user",parts:DC(n)}}function e_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Zn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Zn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Zn(t)):[Zn(e)]}function rs(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(WS(n)||QS(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zn(n)]}const e=[],t=[],i=uv(n[0]);for(const r of n){const a=uv(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(WS(r)||QS(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:DC(t)}),e}function YF(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Po).includes(t[0].toUpperCase())?t[0].toUpperCase():Po.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Po).includes(i.toUpperCase())?i.toUpperCase():Po.TYPE_UNSPECIFIED})}}function ec(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&YF(n.type,e);for(const[c,h]of Object.entries(n))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Po).includes(h.toUpperCase())?h.toUpperCase():Po.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=ec(h);else if(i.includes(c)){const m=[];for(const f of h){if(f.type=="null"){e.nullable=!0;continue}m.push(ec(f))}e[c]=m}else if(r.includes(c)){const m={};for(const[f,g]of Object.entries(h))m[f]=ec(g);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=h}return e}function t_(n){return ec(n)}function n_(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function i_(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Uc(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ec(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ec(e.response));return n}function Vc(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function JF(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Kr(n,e){if(typeof e!="string")throw new Error("name must be a string");return JF(n,e,"cachedContents")}function MC(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function la(n){return Q0(n)}function WF(n){return n!=null&&typeof n=="object"&&"name"in n}function QF(n){return n!=null&&typeof n=="object"&&"video"in n}function XF(n){return n!=null&&typeof n=="object"&&"uri"in n}function kC(n){var e;let t;if(WF(n)&&(t=n.name),!(XF(n)&&(t=n.uri,t===void 0))&&!(QF(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function PC(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function LC(n){for(const e of["models","tunedModels","publisherModels"])if(ZF(n,e))return n[e];return[]}function ZF(n,e){return n!==null&&typeof n=="object"&&e in n}function e9(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function t9(n,e={}){const t=[],i=new Set;for(const r of n){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=e9(r,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function UC(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function n9(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function VC(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Oc(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function OC(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i9(n){const e={},t=p(n,["responsesFile"]);t!=null&&y(e,["fileName"],t);const i=p(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>V9(c))),y(e,["inlinedResponses"],a)}const r=p(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["inlinedEmbedContentResponses"],a)}return e}function s9(n){const e={},t=p(n,["predictionsFormat"]);t!=null&&y(e,["format"],t);const i=p(n,["gcsDestination","outputUriPrefix"]);i!=null&&y(e,["gcsUri"],i);const r=p(n,["bigqueryDestination","outputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function r9(n){const e={},t=p(n,["format"]);t!=null&&y(e,["predictionsFormat"],t);const i=p(n,["gcsUri"]);i!=null&&y(e,["gcsDestination","outputUriPrefix"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&y(e,["bigqueryDestination","outputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function kf(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata","displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["metadata","state"]);r!=null&&y(e,["state"],OC(r));const a=p(n,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const c=p(n,["metadata","endTime"]);c!=null&&y(e,["endTime"],c);const h=p(n,["metadata","updateTime"]);h!=null&&y(e,["updateTime"],h);const m=p(n,["metadata","model"]);m!=null&&y(e,["model"],m);const f=p(n,["metadata","output"]);return f!=null&&y(e,["dest"],i9(VC(f))),e}function dv(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["state"]);r!=null&&y(e,["state"],OC(r));const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["createTime"]);c!=null&&y(e,["createTime"],c);const h=p(n,["startTime"]);h!=null&&y(e,["startTime"],h);const m=p(n,["endTime"]);m!=null&&y(e,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(e,["updateTime"],f);const g=p(n,["model"]);g!=null&&y(e,["model"],g);const E=p(n,["inputConfig"]);E!=null&&y(e,["src"],o9(E));const T=p(n,["outputConfig"]);T!=null&&y(e,["dest"],s9(VC(T)));const b=p(n,["completionStats"]);return b!=null&&y(e,["completionStats"],b),e}function o9(n){const e={},t=p(n,["instancesFormat"]);t!=null&&y(e,["format"],t);const i=p(n,["gcsSource","uris"]);i!=null&&y(e,["gcsUri"],i);const r=p(n,["bigquerySource","inputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function a9(n,e){const t={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&y(t,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>U9(n,c))),y(t,["requests","requests"],a)}return t}function l9(n){const e={},t=p(n,["format"]);t!=null&&y(e,["instancesFormat"],t);const i=p(n,["gcsUri"]);i!=null&&y(e,["gcsSource","uris"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&y(e,["bigquerySource","inputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function c9(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function u9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function d9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function h9(n){const e={},t=p(n,["content"]);t!=null&&y(e,["content"],t);const i=p(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],f9(i));const r=p(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=p(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=p(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const h=p(n,["groundingMetadata"]);h!=null&&y(e,["groundingMetadata"],h);const m=p(n,["index"]);m!=null&&y(e,["index"],m);const f=p(n,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const g=p(n,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(b=>b)),y(e,["safetyRatings"],T)}const E=p(n,["urlContextMetadata"]);return E!=null&&y(e,["urlContextMetadata"],E),e}function f9(n){const e={},t=p(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["citations"],i)}return e}function jC(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>G9(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function m9(n,e){const t={},i=p(n,["displayName"]);if(e!==void 0&&i!=null&&y(e,["batch","displayName"],i),p(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function p9(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["dest"]);return e!==void 0&&r!=null&&y(e,["outputConfig"],r9(n9(r))),t}function XS(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["src"]);r!=null&&y(t,["batch","inputConfig"],a9(n,UC(n,r)));const a=p(e,["config"]);return a!=null&&m9(a,t),t}function g9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],_t(n,i));const r=p(e,["src"]);r!=null&&y(t,["inputConfig"],l9(UC(n,r)));const a=p(e,["config"]);return a!=null&&p9(a,t),t}function y9(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["batch","displayName"],i),t}function v9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["src"]);r!=null&&y(t,["batch","inputConfig"],S9(n,r));const a=p(e,["config"]);return a!=null&&y9(a,t),t}function _9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function x9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function E9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);return a!=null&&y(e,["error"],a),e}function T9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);return a!=null&&y(e,["error"],a),e}function w9(n,e){const t={},i=p(e,["contents"]);if(i!=null){let a=e_(n,i);Array.isArray(a)&&(a=a.map(c=>c)),y(t,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(y(t,["_self"],b9(r,t)),xF(t,{"requests[].*":"requests[].request.*"})),t}function b9(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=p(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function S9(n,e){const t={},i=p(e,["fileName"]);i!=null&&y(t,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&y(t,["requests"],w9(n,r)),t}function A9(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function N9(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I9(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function C9(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],jC(Zn(r)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const b=p(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const L=p(e,["seed"]);L!=null&&y(i,["seed"],L);const M=p(e,["responseMimeType"]);M!=null&&y(i,["responseMimeType"],M);const j=p(e,["responseSchema"]);j!=null&&y(i,["responseSchema"],t_(j));const H=p(e,["responseJsonSchema"]);if(H!=null&&y(i,["responseJsonSchema"],H),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(t!==void 0&&z!=null){let V=z;Array.isArray(V)&&(V=V.map(xe=>z9(xe))),y(t,["safetySettings"],V)}const ne=p(e,["tools"]);if(t!==void 0&&ne!=null){let V=Vc(ne);Array.isArray(V)&&(V=V.map(xe=>K9(Uc(xe)))),y(t,["tools"],V)}const oe=p(e,["toolConfig"]);if(t!==void 0&&oe!=null&&y(t,["toolConfig"],$9(oe)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=p(e,["cachedContent"]);t!==void 0&&q!=null&&y(t,["cachedContent"],Kr(n,q));const R=p(e,["responseModalities"]);R!=null&&y(i,["responseModalities"],R);const C=p(e,["mediaResolution"]);C!=null&&y(i,["mediaResolution"],C);const N=p(e,["speechConfig"]);if(N!=null&&y(i,["speechConfig"],n_(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&y(i,["thinkingConfig"],P);const D=p(e,["imageConfig"]);D!=null&&y(i,["imageConfig"],L9(D));const F=p(e,["enableEnhancedCivicAnswers"]);return F!=null&&y(i,["enableEnhancedCivicAnswers"],F),i}function R9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(f=>h9(f))),y(e,["candidates"],m)}const r=p(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=p(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=p(n,["responseId"]);c!=null&&y(e,["responseId"],c);const h=p(n,["usageMetadata"]);return h!=null&&y(e,["usageMetadata"],h),e}function D9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function M9(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Oc(n,i)),t}function k9(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function P9(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function L9(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function U9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["request","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let h=rs(r);Array.isArray(h)&&(h=h.map(m=>jC(m))),y(t,["request","contents"],h)}const a=p(e,["metadata"]);a!=null&&y(t,["metadata"],a);const c=p(e,["config"]);return c!=null&&y(t,["request","generationConfig"],C9(n,c,p(t,["request"],{}))),t}function V9(n){const e={},t=p(n,["response"]);t!=null&&y(e,["response"],R9(t));const i=p(n,["error"]);return i!=null&&y(e,["error"],i),e}function O9(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);if(e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),p(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function j9(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);e!==void 0&&r!=null&&y(e,["_query","pageToken"],r);const a=p(n,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),t}function F9(n){const e={},t=p(n,["config"]);return t!=null&&O9(t,e),e}function q9(n){const e={},t=p(n,["config"]);return t!=null&&j9(t,e),e}function H9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>kf(c))),y(e,["batchJobs"],a)}return e}function B9(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>dv(c))),y(e,["batchJobs"],a)}return e}function G9(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],A9(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],N9(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],c9(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function z9(n){const e={},t=p(n,["category"]);if(t!=null&&y(e,["category"],t),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function $9(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],I9(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function K9(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],k9(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],P9(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jr;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(jr||(jr={}));class Qa{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y9 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qa(jr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=XS(this.apiClient,e),i=t._url,r=Te("{model}:batchGenerateContent",i),h=t.batch.inputConfig.requests,m=h.requests,f=[];for(const g of m){const E=Object.assign({},g);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const b=E.request;b.systemInstruction=T,E.request=b}f.push(E)}return h.requests=f,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),c=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(c)i.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=g9(this.apiClient,e);return h=Te("batchPredictionJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>dv(g))}else{const f=XS(this.apiClient,e);return h=Te("{model}:batchGenerateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>kf(g))}}async createEmbeddingsInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v9(this.apiClient,e);return a=Te("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>kf(m))}}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=M9(this.apiClient,e);return h=Te("batchPredictionJobs/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>dv(g))}else{const f=D9(this.apiClient,e);return h=Te("batches/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>kf(g))}}async cancel(e){var t,i,r,a;let c="",h={};if(this.apiClient.isVertexAI()){const m=d9(this.apiClient,e);c=Te("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const m=u9(this.apiClient,e);c=Te("batches/{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=q9(e);return h=Te("batchPredictionJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=B9(g),T=new YS;return Object.assign(T,E),T})}else{const f=F9(e);return h=Te("batches",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=H9(g),T=new YS;return Object.assign(T,E),T})}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=x9(this.apiClient,e);return h=Te("batchPredictionJobs/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>T9(g))}else{const f=_9(this.apiClient,e);return h=Te("batches/{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>E9(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J9(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function ZS(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>v8(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function W9(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=p(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=p(n,["contents"]);if(e!==void 0&&c!=null){let g=rs(c);Array.isArray(g)&&(g=g.map(E=>ZS(E))),y(e,["contents"],g)}const h=p(n,["systemInstruction"]);e!==void 0&&h!=null&&y(e,["systemInstruction"],ZS(Zn(h)));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(E=>x8(E))),y(e,["tools"],g)}const f=p(n,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],_8(f)),p(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Q9(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=p(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=p(n,["contents"]);if(e!==void 0&&c!=null){let E=rs(c);Array.isArray(E)&&(E=E.map(T=>T)),y(e,["contents"],E)}const h=p(n,["systemInstruction"]);e!==void 0&&h!=null&&y(e,["systemInstruction"],Zn(h));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let E=m;Array.isArray(E)&&(E=E.map(T=>E8(T))),y(e,["tools"],E)}const f=p(n,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const g=p(n,["kmsKeyName"]);return e!==void 0&&g!=null&&y(e,["encryption_spec","kmsKeyName"],g),t}function X9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],NC(n,i));const r=p(e,["config"]);return r!=null&&W9(r,t),t}function Z9(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["model"],NC(n,i));const r=p(e,["config"]);return r!=null&&Q9(r,t),t}function e8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function t8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function n8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function i8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function s8(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function r8(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function o8(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function a8(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function l8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function c8(n,e){const t={},i=p(e,["name"]);return i!=null&&y(t,["_url","name"],Kr(n,i)),t}function u8(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function d8(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function h8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function f8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function m8(n){const e={},t=p(n,["config"]);return t!=null&&h8(t,e),e}function p8(n){const e={},t=p(n,["config"]);return t!=null&&f8(t,e),e}function g8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function y8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function v8(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],s8(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],r8(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],J9(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function _8(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],o8(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function x8(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],u8(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],d8(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function E8(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>a8(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function T8(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),t}function w8(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),t}function b8(n,e){const t={},i=p(e,["name"]);i!=null&&y(t,["_url","name"],Kr(n,i));const r=p(e,["config"]);return r!=null&&T8(r,t),t}function S8(n,e){const t={},i=p(e,["name"]);i!=null&&y(t,["_url","name"],Kr(n,i));const r=p(e,["config"]);return r!=null&&w8(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A8 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qa(jr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=Z9(this.apiClient,e);return h=Te("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=X9(this.apiClient,e);return h=Te("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=c8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=l8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=t8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=i8(g),T=new $S;return Object.assign(T,E),T})}else{const f=e8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=n8(g),T=new $S;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=S8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const f=b8(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=p8(e);return h=Te("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=y8(g),T=new KS;return Object.assign(T,E),T})}else{const f=m8(e);return h=Te("cachedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=g8(g),T=new KS;return Object.assign(T,E),T})}}}function lm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function eA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(n){return this instanceof Ke?(this.v=n,this):new Ke(n)}function Ss(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(b){return function(I){return Promise.resolve(I).then(b,E)}}function h(b,I){i[b]&&(r[b]=function(L){return new Promise(function(M,j){a.push([b,L,M,j])>1||m(b,L)})},I&&(r[b]=I(r[b])))}function m(b,I){try{f(i[b](I))}catch(L){T(a[0][3],L)}}function f(b){b.value instanceof Ke?Promise.resolve(b.value.v).then(g,E):T(a[0][2],b)}function g(b){m("next",b)}function E(b){m("throw",b)}function T(b,I){b(I),a.shift(),a.length&&m(a[0][0],a[0][1])}}function As(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eA=="function"?eA(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(c){return new Promise(function(h,m){c=n[a](c),r(h,m,c.done,c.value)})}}function r(a,c,h,m){Promise.resolve(m).then(function(f){a({value:f,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N8(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:FC(t)}function FC(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function I8(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tA(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let a=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),a&&!FC(n[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class C8{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new R8(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class R8{constructor(e,t,i,r={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),I8(a)}async sendMessage(e){var t;await this.sendPromise;const i=Zn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,c,h;const m=await r,f=(c=(a=m.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,g=m.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];g!=null&&(T=(h=g.slice(E))!==null&&h!==void 0?h:[]);const b=f?[f]:[];this.recordHistory(i,b,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Zn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const t=e?tA(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Ss(this,arguments,function*(){var r,a,c,h,m,f;const g=[];try{for(var E=!0,T=As(e),b;b=yield Ke(T.next()),r=b.done,!r;E=!0){h=b.value,E=!1;const I=h;if(N8(I)){const L=(f=(m=I.candidates)===null||m===void 0?void 0:m[0])===null||f===void 0?void 0:f.content;L!==void 0&&g.push(L)}yield yield Ke(I)}}catch(I){a={error:I}}finally{try{!E&&!r&&(c=T.return)&&(yield Ke(c.call(T)))}finally{if(a)throw a.error}}this.recordHistory(t,g)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(a=>a.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tA(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ep extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ep.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D8(n){const e={},t=p(n,["file"]);return t!=null&&y(e,["file"],t),e}function M8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function k8(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","file"],kC(t)),e}function P8(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function L8(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","file"],kC(t)),e}function U8(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function V8(n){const e={},t=p(n,["config"]);return t!=null&&U8(t,e),e}function O8(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j8 extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qa(jr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=V8(e);return a=Te("files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=O8(m),g=new BF;return Object.assign(g,f),g})}}async createInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=D8(e);return a=Te("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=M8(m),g=new GF;return Object.assign(g,f),g})}}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=L8(e);return a=Te("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=k8(e);return a=Te("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=P8(m),g=new zF;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function F8(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>n7(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function q8(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function H8(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B8(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function G8(n){const e={},t=p(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=p(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const r=p(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=p(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=p(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const h=p(n,["frequencyPenalty"]);h!=null&&y(e,["frequencyPenalty"],h);const m=p(n,["logprobs"]);m!=null&&y(e,["logprobs"],m);const f=p(n,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const g=p(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const E=p(n,["presencePenalty"]);E!=null&&y(e,["presencePenalty"],E);const T=p(n,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const b=p(n,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const I=p(n,["responseModalities"]);I!=null&&y(e,["responseModalities"],I);const L=p(n,["responseSchema"]);L!=null&&y(e,["responseSchema"],L);const M=p(n,["routingConfig"]);M!=null&&y(e,["routingConfig"],M);const j=p(n,["seed"]);j!=null&&y(e,["seed"],j);const H=p(n,["speechConfig"]);H!=null&&y(e,["speechConfig"],H);const z=p(n,["stopSequences"]);z!=null&&y(e,["stopSequences"],z);const ne=p(n,["temperature"]);ne!=null&&y(e,["temperature"],ne);const oe=p(n,["thinkingConfig"]);oe!=null&&y(e,["thinkingConfig"],oe);const q=p(n,["topK"]);q!=null&&y(e,["topK"],q);const R=p(n,["topP"]);if(R!=null&&y(e,["topP"],R),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function z8(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function $8(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function K8(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],i_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const b=p(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=p(n,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],F8(Zn(I)));const L=p(n,["tools"]);if(e!==void 0&&L!=null){let q=Vc(L);Array.isArray(q)&&(q=q.map(R=>s7(Uc(R)))),y(e,["setup","tools"],q)}const M=p(n,["sessionResumption"]);e!==void 0&&M!=null&&y(e,["setup","sessionResumption"],i7(M));const j=p(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","inputAudioTranscription"],j);const H=p(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&y(e,["setup","outputAudioTranscription"],H);const z=p(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&y(e,["setup","realtimeInputConfig"],z);const ne=p(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&y(e,["setup","contextWindowCompression"],ne);const oe=p(n,["proactivity"]);if(e!==void 0&&oe!=null&&y(e,["setup","proactivity"],oe),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function Y8(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],G8(i));const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],i_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const b=p(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=p(n,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],Zn(I));const L=p(n,["tools"]);if(e!==void 0&&L!=null){let R=Vc(L);Array.isArray(R)&&(R=R.map(C=>r7(Uc(C)))),y(e,["setup","tools"],R)}const M=p(n,["sessionResumption"]);e!==void 0&&M!=null&&y(e,["setup","sessionResumption"],M);const j=p(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","inputAudioTranscription"],j);const H=p(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&y(e,["setup","outputAudioTranscription"],H);const z=p(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&y(e,["setup","realtimeInputConfig"],z);const ne=p(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&y(e,["setup","contextWindowCompression"],ne);const oe=p(n,["proactivity"]);e!==void 0&&oe!=null&&y(e,["setup","proactivity"],oe);const q=p(n,["explicitVadSignal"]);return e!==void 0&&q!=null&&y(e,["setup","explicitVadSignal"],q),t}function J8(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],_t(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],K8(r,t)),t}function W8(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],_t(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],Y8(r,t)),t}function Q8(n){const e={},t=p(n,["musicGenerationConfig"]);return t!=null&&y(e,["musicGenerationConfig"],t),e}function X8(n){const e={},t=p(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["weightedPrompts"],i)}return e}function Z8(n){const e={},t=p(n,["media"]);if(t!=null){let f=IC(t);Array.isArray(f)&&(f=f.map(g=>Pf(g))),y(e,["mediaChunks"],f)}const i=p(n,["audio"]);i!=null&&y(e,["audio"],Pf(RC(i)));const r=p(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=p(n,["video"]);a!=null&&y(e,["video"],Pf(CC(a)));const c=p(n,["text"]);c!=null&&y(e,["text"],c);const h=p(n,["activityStart"]);h!=null&&y(e,["activityStart"],h);const m=p(n,["activityEnd"]);return m!=null&&y(e,["activityEnd"],m),e}function e7(n){const e={},t=p(n,["media"]);if(t!=null){let f=IC(t);Array.isArray(f)&&(f=f.map(g=>g)),y(e,["mediaChunks"],f)}const i=p(n,["audio"]);i!=null&&y(e,["audio"],RC(i));const r=p(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=p(n,["video"]);a!=null&&y(e,["video"],CC(a));const c=p(n,["text"]);c!=null&&y(e,["text"],c);const h=p(n,["activityStart"]);h!=null&&y(e,["activityStart"],h);const m=p(n,["activityEnd"]);return m!=null&&y(e,["activityEnd"],m),e}function t7(n){const e={},t=p(n,["setupComplete"]);t!=null&&y(e,["setupComplete"],t);const i=p(n,["serverContent"]);i!=null&&y(e,["serverContent"],i);const r=p(n,["toolCall"]);r!=null&&y(e,["toolCall"],r);const a=p(n,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const c=p(n,["usageMetadata"]);c!=null&&y(e,["usageMetadata"],o7(c));const h=p(n,["goAway"]);h!=null&&y(e,["goAway"],h);const m=p(n,["sessionResumptionUpdate"]);m!=null&&y(e,["sessionResumptionUpdate"],m);const f=p(n,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function n7(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],q8(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],H8(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],Pf(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function i7(n){const e={},t=p(n,["handle"]);if(t!=null&&y(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function s7(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],z8(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],$8(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function r7(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>B8(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function o7(n){const e={},t=p(n,["promptTokenCount"]);t!=null&&y(e,["promptTokenCount"],t);const i=p(n,["cachedContentTokenCount"]);i!=null&&y(e,["cachedContentTokenCount"],i);const r=p(n,["candidatesTokenCount"]);r!=null&&y(e,["responseTokenCount"],r);const a=p(n,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const c=p(n,["thoughtsTokenCount"]);c!=null&&y(e,["thoughtsTokenCount"],c);const h=p(n,["totalTokenCount"]);h!=null&&y(e,["totalTokenCount"],h);const m=p(n,["promptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(I=>I)),y(e,["promptTokensDetails"],b)}const f=p(n,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(I=>I)),y(e,["cacheTokensDetails"],b)}const g=p(n,["candidatesTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(I=>I)),y(e,["responseTokensDetails"],b)}const E=p(n,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(I=>I)),y(e,["toolUsePromptTokensDetails"],b)}const T=p(n,["trafficType"]);return T!=null&&y(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a7(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function l7(n){const e={},t=p(n,["content"]);t!=null&&y(e,["content"],t);const i=p(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],c7(i));const r=p(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=p(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=p(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const h=p(n,["groundingMetadata"]);h!=null&&y(e,["groundingMetadata"],h);const m=p(n,["index"]);m!=null&&y(e,["index"],m);const f=p(n,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const g=p(n,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(b=>b)),y(e,["safetyRatings"],T)}const E=p(n,["urlContextMetadata"]);return E!=null&&y(e,["urlContextMetadata"],E),e}function c7(n){const e={},t=p(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),y(e,["citations"],i)}return e}function u7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let a=rs(r);Array.isArray(a)&&(a=a.map(c=>c)),y(t,["contents"],a)}return t}function d7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["tokensInfo"],r)}return e}function h7(n){const e={},t=p(n,["values"]);t!=null&&y(e,["values"],t);const i=p(n,["statistics"]);return i!=null&&y(e,["statistics"],f7(i)),e}function f7(n){const e={},t=p(n,["truncated"]);t!=null&&y(e,["truncated"],t);const i=p(n,["token_count"]);return i!=null&&y(e,["tokenCount"],i),e}function tp(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>Tq(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function m7(n){const e={},t=p(n,["controlType"]);t!=null&&y(e,["controlType"],t);const i=p(n,["enableControlImageComputation"]);return i!=null&&y(e,["computeControl"],i),e}function p7(n){const e={};if(p(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function g7(n,e){const t={},i=p(n,["systemInstruction"]);e!==void 0&&i!=null&&y(e,["systemInstruction"],Zn(i));const r=p(n,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>GC(h))),y(e,["tools"],c)}const a=p(n,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],aq(a)),t}function y7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let c=rs(r);Array.isArray(c)&&(c=c.map(h=>tp(h))),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&p7(a),t}function v7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let c=rs(r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&g7(a,t),t}function _7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["totalTokens"]);i!=null&&y(e,["totalTokens"],i);const r=p(n,["cachedContentTokenCount"]);return r!=null&&y(e,["cachedContentTokenCount"],r),e}function x7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["totalTokens"]);return i!=null&&y(e,["totalTokens"],i),e}function E7(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],_t(n,i)),t}function T7(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],_t(n,i)),t}function w7(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function b7(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function S7(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=p(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=p(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const h=p(n,["guidanceScale"]);e!==void 0&&h!=null&&y(e,["parameters","guidanceScale"],h);const m=p(n,["seed"]);e!==void 0&&m!=null&&y(e,["parameters","seed"],m);const f=p(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&y(e,["parameters","includeSafetyAttributes"],E);const T=p(n,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const b=p(n,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const I=p(n,["outputMimeType"]);e!==void 0&&I!=null&&y(e,["parameters","outputOptions","mimeType"],I);const L=p(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&y(e,["parameters","outputOptions","compressionQuality"],L);const M=p(n,["addWatermark"]);e!==void 0&&M!=null&&y(e,["parameters","addWatermark"],M);const j=p(n,["labels"]);e!==void 0&&j!=null&&y(e,["labels"],j);const H=p(n,["editMode"]);e!==void 0&&H!=null&&y(e,["parameters","editMode"],H);const z=p(n,["baseSteps"]);return e!==void 0&&z!=null&&y(e,["parameters","editConfig","baseSteps"],z),t}function A7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>Iq(m))),y(t,["instances[0]","referenceImages"],h)}const c=p(e,["config"]);return c!=null&&S7(c,t),t}function N7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>np(a))),y(e,["generatedImages"],r)}return e}function I7(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=p(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function C7(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&y(e,["instances[]","task_type"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&y(e,["instances[]","title"],r);const a=p(n,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const c=p(n,["mimeType"]);e!==void 0&&c!=null&&y(e,["instances[]","mimeType"],c);const h=p(n,["autoTruncate"]);return e!==void 0&&h!=null&&y(e,["parameters","autoTruncate"],h),t}function R7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let h=e_(n,r);Array.isArray(h)&&(h=h.map(m=>m)),y(t,["requests[]","content"],h)}const a=p(e,["config"]);a!=null&&I7(a,t);const c=p(e,["model"]);return c!==void 0&&y(t,["requests[]","model"],_t(n,c)),t}function D7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let c=e_(n,r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["instances[]","content"],c)}const a=p(e,["config"]);return a!=null&&C7(a,t),t}function M7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["embeddings"],a)}const r=p(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function k7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>h7(c))),y(e,["embeddings"],a)}const r=p(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function P7(n){const e={},t=p(n,["endpoint"]);t!=null&&y(e,["name"],t);const i=p(n,["deployedModelId"]);return i!=null&&y(e,["deployedModelId"],i),e}function L7(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function U7(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function V7(n){const e={},t=p(n,["mode"]);t!=null&&y(e,["mode"],t);const i=p(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function O7(n){const e={};if(p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=p(n,["description"]);t!=null&&y(e,["description"],t);const i=p(n,["name"]);i!=null&&y(e,["name"],i);const r=p(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=p(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=p(n,["response"]);c!=null&&y(e,["response"],c);const h=p(n,["responseJsonSchema"]);return h!=null&&y(e,["responseJsonSchema"],h),e}function j7(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],tp(Zn(r)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const b=p(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const L=p(e,["seed"]);L!=null&&y(i,["seed"],L);const M=p(e,["responseMimeType"]);M!=null&&y(i,["responseMimeType"],M);const j=p(e,["responseSchema"]);j!=null&&y(i,["responseSchema"],t_(j));const H=p(e,["responseJsonSchema"]);if(H!=null&&y(i,["responseJsonSchema"],H),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(t!==void 0&&z!=null){let V=z;Array.isArray(V)&&(V=V.map(xe=>Cq(xe))),y(t,["safetySettings"],V)}const ne=p(e,["tools"]);if(t!==void 0&&ne!=null){let V=Vc(ne);Array.isArray(V)&&(V=V.map(xe=>Uq(Uc(xe)))),y(t,["tools"],V)}const oe=p(e,["toolConfig"]);if(t!==void 0&&oe!=null&&y(t,["toolConfig"],Lq(oe)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=p(e,["cachedContent"]);t!==void 0&&q!=null&&y(t,["cachedContent"],Kr(n,q));const R=p(e,["responseModalities"]);R!=null&&y(i,["responseModalities"],R);const C=p(e,["mediaResolution"]);C!=null&&y(i,["mediaResolution"],C);const N=p(e,["speechConfig"]);if(N!=null&&y(i,["speechConfig"],n_(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&y(i,["thinkingConfig"],P);const D=p(e,["imageConfig"]);D!=null&&y(i,["imageConfig"],hq(D));const F=p(e,["enableEnhancedCivicAnswers"]);return F!=null&&y(i,["enableEnhancedCivicAnswers"],F),i}function F7(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],Zn(r));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const c=p(e,["topP"]);c!=null&&y(i,["topP"],c);const h=p(e,["topK"]);h!=null&&y(i,["topK"],h);const m=p(e,["candidateCount"]);m!=null&&y(i,["candidateCount"],m);const f=p(e,["maxOutputTokens"]);f!=null&&y(i,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&y(i,["stopSequences"],g);const E=p(e,["responseLogprobs"]);E!=null&&y(i,["responseLogprobs"],E);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const b=p(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const L=p(e,["seed"]);L!=null&&y(i,["seed"],L);const M=p(e,["responseMimeType"]);M!=null&&y(i,["responseMimeType"],M);const j=p(e,["responseSchema"]);j!=null&&y(i,["responseSchema"],t_(j));const H=p(e,["responseJsonSchema"]);H!=null&&y(i,["responseJsonSchema"],H);const z=p(e,["routingConfig"]);z!=null&&y(i,["routingConfig"],z);const ne=p(e,["modelSelectionConfig"]);ne!=null&&y(i,["modelConfig"],ne);const oe=p(e,["safetySettings"]);if(t!==void 0&&oe!=null){let W=oe;Array.isArray(W)&&(W=W.map(ce=>ce)),y(t,["safetySettings"],W)}const q=p(e,["tools"]);if(t!==void 0&&q!=null){let W=Vc(q);Array.isArray(W)&&(W=W.map(ce=>GC(Uc(ce)))),y(t,["tools"],W)}const R=p(e,["toolConfig"]);t!==void 0&&R!=null&&y(t,["toolConfig"],R);const C=p(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const N=p(e,["cachedContent"]);t!==void 0&&N!=null&&y(t,["cachedContent"],Kr(n,N));const P=p(e,["responseModalities"]);P!=null&&y(i,["responseModalities"],P);const D=p(e,["mediaResolution"]);D!=null&&y(i,["mediaResolution"],D);const F=p(e,["speechConfig"]);F!=null&&y(i,["speechConfig"],n_(F));const V=p(e,["audioTimestamp"]);V!=null&&y(i,["audioTimestamp"],V);const xe=p(e,["thinkingConfig"]);xe!=null&&y(i,["thinkingConfig"],xe);const Ce=p(e,["imageConfig"]);if(Ce!=null&&y(i,["imageConfig"],fq(Ce)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function nA(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let c=rs(r);Array.isArray(c)&&(c=c.map(h=>tp(h))),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&y(t,["generationConfig"],j7(n,a,t)),t}function iA(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["contents"]);if(r!=null){let c=rs(r);Array.isArray(c)&&(c=c.map(h=>h)),y(t,["contents"],c)}const a=p(e,["config"]);return a!=null&&y(t,["generationConfig"],F7(n,a,t)),t}function sA(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(f=>l7(f))),y(e,["candidates"],m)}const r=p(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=p(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=p(n,["responseId"]);c!=null&&y(e,["responseId"],c);const h=p(n,["usageMetadata"]);return h!=null&&y(e,["usageMetadata"],h),e}function rA(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(g=>g)),y(e,["candidates"],f)}const r=p(n,["createTime"]);r!=null&&y(e,["createTime"],r);const a=p(n,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const c=p(n,["promptFeedback"]);c!=null&&y(e,["promptFeedback"],c);const h=p(n,["responseId"]);h!=null&&y(e,["responseId"],h);const m=p(n,["usageMetadata"]);return m!=null&&y(e,["usageMetadata"],m),e}function q7(n,e){const t={};if(p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["aspectRatio"]);e!==void 0&&r!=null&&y(e,["parameters","aspectRatio"],r);const a=p(n,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const h=p(n,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=p(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const f=p(n,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const g=p(n,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);const E=p(n,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const T=p(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T),p(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=p(n,["imageSize"]);if(e!==void 0&&b!=null&&y(e,["parameters","sampleImageSize"],b),p(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function H7(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=p(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=p(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const h=p(n,["guidanceScale"]);e!==void 0&&h!=null&&y(e,["parameters","guidanceScale"],h);const m=p(n,["seed"]);e!==void 0&&m!=null&&y(e,["parameters","seed"],m);const f=p(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&y(e,["parameters","includeSafetyAttributes"],E);const T=p(n,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const b=p(n,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const I=p(n,["outputMimeType"]);e!==void 0&&I!=null&&y(e,["parameters","outputOptions","mimeType"],I);const L=p(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&y(e,["parameters","outputOptions","compressionQuality"],L);const M=p(n,["addWatermark"]);e!==void 0&&M!=null&&y(e,["parameters","addWatermark"],M);const j=p(n,["labels"]);e!==void 0&&j!=null&&y(e,["labels"],j);const H=p(n,["imageSize"]);e!==void 0&&H!=null&&y(e,["parameters","sampleImageSize"],H);const z=p(n,["enhancePrompt"]);return e!==void 0&&z!=null&&y(e,["parameters","enhancePrompt"],z),t}function B7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&q7(a,t),t}function G7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&H7(a,t),t}function z7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>iq(c))),y(e,["generatedImages"],a)}const r=p(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],HC(r)),e}function $7(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>np(c))),y(e,["generatedImages"],a)}const r=p(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],BC(r)),e}function K7(n,e){const t={},i=p(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i),p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(n,["durationSeconds"]);if(e!==void 0&&r!=null&&y(e,["parameters","durationSeconds"],r),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(n,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const c=p(n,["resolution"]);e!==void 0&&c!=null&&y(e,["parameters","resolution"],c);const h=p(n,["personGeneration"]);if(e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h),p(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=p(n,["negativePrompt"]);e!==void 0&&m!=null&&y(e,["parameters","negativePrompt"],m);const f=p(n,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),p(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=p(n,["lastFrame"]);e!==void 0&&g!=null&&y(e,["instances[0]","lastFrame"],ip(g));const E=p(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(b=>Jq(b))),y(e,["instances[0]","referenceImages"],T)}if(p(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Y7(n,e){const t={},i=p(n,["numberOfVideos"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const a=p(n,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const c=p(n,["durationSeconds"]);e!==void 0&&c!=null&&y(e,["parameters","durationSeconds"],c);const h=p(n,["seed"]);e!==void 0&&h!=null&&y(e,["parameters","seed"],h);const m=p(n,["aspectRatio"]);e!==void 0&&m!=null&&y(e,["parameters","aspectRatio"],m);const f=p(n,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const g=p(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const E=p(n,["pubsubTopic"]);e!==void 0&&E!=null&&y(e,["parameters","pubsubTopic"],E);const T=p(n,["negativePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","negativePrompt"],T);const b=p(n,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const I=p(n,["generateAudio"]);e!==void 0&&I!=null&&y(e,["parameters","generateAudio"],I);const L=p(n,["lastFrame"]);e!==void 0&&L!=null&&y(e,["instances[0]","lastFrame"],ks(L));const M=p(n,["referenceImages"]);if(e!==void 0&&M!=null){let z=M;Array.isArray(z)&&(z=z.map(ne=>Wq(ne))),y(e,["instances[0]","referenceImages"],z)}const j=p(n,["mask"]);e!==void 0&&j!=null&&y(e,["instances[0]","mask"],Yq(j));const H=p(n,["compressionQuality"]);return e!==void 0&&H!=null&&y(e,["parameters","compressionQuality"],H),t}function J7(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],Z7(c)),e}function W7(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],eq(c)),e}function Q7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&y(t,["instances[0]","image"],ip(a));const c=p(e,["video"]);c!=null&&y(t,["instances[0]","video"],zC(c));const h=p(e,["source"]);h!=null&&tq(h,t);const m=p(e,["config"]);return m!=null&&K7(m,t),t}function X7(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["prompt"]);r!=null&&y(t,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&y(t,["instances[0]","image"],ks(a));const c=p(e,["video"]);c!=null&&y(t,["instances[0]","video"],$C(c));const h=p(e,["source"]);h!=null&&nq(h,t);const m=p(e,["config"]);return m!=null&&Y7(m,t),t}function Z7(n){const e={},t=p(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>rq(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function eq(n){const e={},t=p(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(c=>oq(c))),y(e,["generatedVideos"],a)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function tq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ip(r));const a=p(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],zC(a)),t}function nq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ks(r));const a=p(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],$C(a)),t}function iq(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["image"],mq(t));const i=p(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const r=p(n,["_self"]);return r!=null&&y(e,["safetyAttributes"],HC(r)),e}function np(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["image"],qC(t));const i=p(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const r=p(n,["_self"]);r!=null&&y(e,["safetyAttributes"],BC(r));const a=p(n,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function sq(n){const e={},t=p(n,["_self"]);t!=null&&y(e,["mask"],qC(t));const i=p(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["labels"],r)}return e}function rq(n){const e={},t=p(n,["video"]);return t!=null&&y(e,["video"],$q(t)),e}function oq(n){const e={},t=p(n,["_self"]);return t!=null&&y(e,["video"],Kq(t)),e}function aq(n){const e={},t=p(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=p(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const r=p(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=p(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=p(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const h=p(n,["frequencyPenalty"]);h!=null&&y(e,["frequencyPenalty"],h);const m=p(n,["logprobs"]);m!=null&&y(e,["logprobs"],m);const f=p(n,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const g=p(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const E=p(n,["presencePenalty"]);E!=null&&y(e,["presencePenalty"],E);const T=p(n,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const b=p(n,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const I=p(n,["responseModalities"]);I!=null&&y(e,["responseModalities"],I);const L=p(n,["responseSchema"]);L!=null&&y(e,["responseSchema"],L);const M=p(n,["routingConfig"]);M!=null&&y(e,["routingConfig"],M);const j=p(n,["seed"]);j!=null&&y(e,["seed"],j);const H=p(n,["speechConfig"]);H!=null&&y(e,["speechConfig"],H);const z=p(n,["stopSequences"]);z!=null&&y(e,["stopSequences"],z);const ne=p(n,["temperature"]);ne!=null&&y(e,["temperature"],ne);const oe=p(n,["thinkingConfig"]);oe!=null&&y(e,["thinkingConfig"],oe);const q=p(n,["topK"]);q!=null&&y(e,["topK"],q);const R=p(n,["topP"]);if(R!=null&&y(e,["topP"],R),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lq(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],_t(n,i)),t}function cq(n,e){const t={},i=p(e,["model"]);return i!=null&&y(t,["_url","name"],_t(n,i)),t}function uq(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function dq(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function hq(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fq(n){const e={},t=p(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=p(n,["imageSize"]);i!=null&&y(e,["imageSize"],i);const r=p(n,["outputMimeType"]);r!=null&&y(e,["imageOutputOptions","mimeType"],r);const a=p(n,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function mq(n){const e={},t=p(n,["bytesBase64Encoded"]);t!=null&&y(e,["imageBytes"],la(t));const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function qC(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["imageBytes"],la(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function ip(n){const e={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=p(n,["imageBytes"]);t!=null&&y(e,["bytesBase64Encoded"],la(t));const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function ks(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["imageBytes"]);i!=null&&y(e,["bytesBase64Encoded"],la(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function pq(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=p(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const c=p(e,["filter"]);t!==void 0&&c!=null&&y(t,["_query","filter"],c);const h=p(e,["queryBase"]);return t!==void 0&&h!=null&&y(t,["_url","models_url"],PC(n,h)),i}function gq(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=p(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const c=p(e,["filter"]);t!==void 0&&c!=null&&y(t,["_query","filter"],c);const h=p(e,["queryBase"]);return t!==void 0&&h!=null&&y(t,["_url","models_url"],PC(n,h)),i}function yq(n,e){const t={},i=p(e,["config"]);return i!=null&&pq(n,i,t),t}function vq(n,e){const t={},i=p(e,["config"]);return i!=null&&gq(n,i,t),t}function _q(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["_self"]);if(r!=null){let a=LC(r);Array.isArray(a)&&(a=a.map(c=>hv(c))),y(e,["models"],a)}return e}function xq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["_self"]);if(r!=null){let a=LC(r);Array.isArray(a)&&(a=a.map(c=>fv(c))),y(e,["models"],a)}return e}function Eq(n){const e={},t=p(n,["maskMode"]);t!=null&&y(e,["maskMode"],t);const i=p(n,["segmentationClasses"]);i!=null&&y(e,["maskClasses"],i);const r=p(n,["maskDilation"]);return r!=null&&y(e,["dilation"],r),e}function hv(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);r!=null&&y(e,["description"],r);const a=p(n,["version"]);a!=null&&y(e,["version"],a);const c=p(n,["_self"]);c!=null&&y(e,["tunedModelInfo"],Vq(c));const h=p(n,["inputTokenLimit"]);h!=null&&y(e,["inputTokenLimit"],h);const m=p(n,["outputTokenLimit"]);m!=null&&y(e,["outputTokenLimit"],m);const f=p(n,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const g=p(n,["temperature"]);g!=null&&y(e,["temperature"],g);const E=p(n,["maxTemperature"]);E!=null&&y(e,["maxTemperature"],E);const T=p(n,["topP"]);T!=null&&y(e,["topP"],T);const b=p(n,["topK"]);b!=null&&y(e,["topK"],b);const I=p(n,["thinking"]);return I!=null&&y(e,["thinking"],I),e}function fv(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["displayName"]);i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);r!=null&&y(e,["description"],r);const a=p(n,["versionId"]);a!=null&&y(e,["version"],a);const c=p(n,["deployedModels"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(T=>P7(T))),y(e,["endpoints"],E)}const h=p(n,["labels"]);h!=null&&y(e,["labels"],h);const m=p(n,["_self"]);m!=null&&y(e,["tunedModelInfo"],Oq(m));const f=p(n,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const g=p(n,["checkpoints"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(T=>T)),y(e,["checkpoints"],E)}return e}function Tq(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],L7(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],U7(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],a7(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function wq(n){const e={},t=p(n,["productImage"]);return t!=null&&y(e,["image"],ks(t)),e}function bq(n,e){const t={},i=p(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const r=p(n,["baseSteps"]);e!==void 0&&r!=null&&y(e,["parameters","baseSteps"],r);const a=p(n,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const c=p(n,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const h=p(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const m=p(n,["personGeneration"]);e!==void 0&&m!=null&&y(e,["parameters","personGeneration"],m);const f=p(n,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const g=p(n,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const E=p(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const T=p(n,["enhancePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","enhancePrompt"],T);const b=p(n,["labels"]);return e!==void 0&&b!=null&&y(e,["labels"],b),t}function Sq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["source"]);r!=null&&Nq(r,t);const a=p(e,["config"]);return a!=null&&bq(a,t),t}function Aq(n){const e={},t=p(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>np(r))),y(e,["generatedImages"],i)}return e}function Nq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["personImage"]);e!==void 0&&r!=null&&y(e,["instances[0]","personImage","image"],ks(r));const a=p(n,["productImages"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>wq(h))),y(e,["instances[0]","productImages"],c)}return t}function Iq(n){const e={},t=p(n,["referenceImage"]);t!=null&&y(e,["referenceImage"],ks(t));const i=p(n,["referenceId"]);i!=null&&y(e,["referenceId"],i);const r=p(n,["referenceType"]);r!=null&&y(e,["referenceType"],r);const a=p(n,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],Eq(a));const c=p(n,["controlImageConfig"]);c!=null&&y(e,["controlImageConfig"],m7(c));const h=p(n,["styleImageConfig"]);h!=null&&y(e,["styleImageConfig"],h);const m=p(n,["subjectImageConfig"]);return m!=null&&y(e,["subjectImageConfig"],m),e}function HC(n){const e={},t=p(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=p(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const r=p(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function BC(n){const e={},t=p(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=p(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const r=p(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function Cq(n){const e={},t=p(n,["category"]);if(t!=null&&y(e,["category"],t),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function Rq(n){const e={},t=p(n,["image"]);return t!=null&&y(e,["image"],ks(t)),e}function Dq(n,e){const t={},i=p(n,["mode"]);e!==void 0&&i!=null&&y(e,["parameters","mode"],i);const r=p(n,["maxPredictions"]);e!==void 0&&r!=null&&y(e,["parameters","maxPredictions"],r);const a=p(n,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const c=p(n,["maskDilation"]);e!==void 0&&c!=null&&y(e,["parameters","maskDilation"],c);const h=p(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&y(e,["parameters","binaryColorThreshold"],h);const m=p(n,["labels"]);return e!==void 0&&m!=null&&y(e,["labels"],m),t}function Mq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["source"]);r!=null&&Pq(r,t);const a=p(e,["config"]);return a!=null&&Dq(a,t),t}function kq(n){const e={},t=p(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>sq(r))),y(e,["generatedMasks"],i)}return e}function Pq(n,e){const t={},i=p(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const r=p(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ks(r));const a=p(n,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],Rq(a)),t}function Lq(n){const e={},t=p(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],V7(t));const i=p(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function Uq(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],uq(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],dq(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function GC(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let E=t;Array.isArray(E)&&(E=E.map(T=>O7(T))),y(e,["functionDeclarations"],E)}const i=p(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const r=p(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=p(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(n,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const m=p(n,["googleMaps"]);m!=null&&y(e,["googleMaps"],m);const f=p(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const g=p(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function Vq(n){const e={},t=p(n,["baseModel"]);t!=null&&y(e,["baseModel"],t);const i=p(n,["createTime"]);i!=null&&y(e,["createTime"],i);const r=p(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function Oq(n){const e={},t=p(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&y(e,["baseModel"],t);const i=p(n,["createTime"]);i!=null&&y(e,["createTime"],i);const r=p(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function jq(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=p(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function Fq(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const r=p(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=p(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function qq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","name"],_t(n,i));const r=p(e,["config"]);return r!=null&&jq(r,t),t}function Hq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["config"]);return r!=null&&Fq(r,t),t}function Bq(n,e){const t={},i=p(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const r=p(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&y(e,["parameters","safetySetting"],r);const a=p(n,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const c=p(n,["includeRaiReason"]);e!==void 0&&c!=null&&y(e,["parameters","includeRaiReason"],c);const h=p(n,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=p(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const f=p(n,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const g=p(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const E=p(n,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const T=p(n,["numberOfImages"]);e!==void 0&&T!=null&&y(e,["parameters","sampleCount"],T);const b=p(n,["mode"]);return e!==void 0&&b!=null&&y(e,["parameters","mode"],b),t}function Gq(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["_url","model"],_t(n,i));const r=p(e,["image"]);r!=null&&y(t,["instances[0]","image"],ks(r));const a=p(e,["upscaleFactor"]);a!=null&&y(t,["parameters","upscaleConfig","upscaleFactor"],a);const c=p(e,["config"]);return c!=null&&Bq(c,t),t}function zq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>np(a))),y(e,["generatedImages"],r)}return e}function $q(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],la(i));const r=p(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function Kq(n){const e={},t=p(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],la(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Yq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["_self"],ks(t));const i=p(n,["maskMode"]);return i!=null&&y(e,["maskMode"],i),e}function Jq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["image"],ip(t));const i=p(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function Wq(n){const e={},t=p(n,["image"]);t!=null&&y(e,["image"],ks(t));const i=p(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function zC(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["uri"],t);const i=p(n,["videoBytes"]);i!=null&&y(e,["encodedVideo"],la(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["encoding"],r),e}function $C(n){const e={},t=p(n,["uri"]);t!=null&&y(e,["gcsUri"],t);const i=p(n,["videoBytes"]);i!=null&&y(e,["bytesBase64Encoded"],la(i));const r=p(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qq(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["displayName"],i),t}function Xq(n){const e={},t=p(n,["config"]);return t!=null&&Qq(t,e),e}function Zq(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function eH(n){const e={},t=p(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&Zq(i,e),e}function tH(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function nH(n,e){const t={},i=p(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["customMetadata"],a)}const r=p(n,["chunkingConfig"]);return e!==void 0&&r!=null&&y(e,["chunkingConfig"],r),t}function iH(n){const e={},t=p(n,["name"]);t!=null&&y(e,["name"],t);const i=p(n,["metadata"]);i!=null&&y(e,["metadata"],i);const r=p(n,["done"]);r!=null&&y(e,["done"],r);const a=p(n,["error"]);a!=null&&y(e,["error"],a);const c=p(n,["response"]);return c!=null&&y(e,["response"],rH(c)),e}function sH(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=p(n,["fileName"]);i!=null&&y(e,["fileName"],i);const r=p(n,["config"]);return r!=null&&nH(r,e),e}function rH(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&y(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function oH(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function aH(n){const e={},t=p(n,["config"]);return t!=null&&oH(t,e),e}function lH(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["fileSearchStores"],a)}return e}function KC(n,e){const t={},i=p(n,["mimeType"]);e!==void 0&&i!=null&&y(e,["mimeType"],i);const r=p(n,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const a=p(n,["customMetadata"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["customMetadata"],h)}const c=p(n,["chunkingConfig"]);return e!==void 0&&c!=null&&y(e,["chunkingConfig"],c),t}function cH(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=p(n,["config"]);return i!=null&&KC(i,e),e}function uH(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dH="Content-Type",hH="X-Server-Timeout",fH="User-Agent",mv="x-goog-api-client",mH="1.34.0",pH=`google-genai-sdk/${mH}`,gH="v1beta1",yH="v1beta";class vH{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:gH,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yH,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(t))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const a=new AbortController,c=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const h=setTimeout(()=>a.abort(),t.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=c}return t&&t.extraBody!==null&&_H(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await oA(r),new cv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await oA(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Ss(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const h="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:g}=yield Ke(r.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=a.decode(g,{stream:!0});try{const I=JSON.parse(E);if("error"in I){const L=JSON.parse(JSON.stringify(I.error)),M=L.status,j=L.code,H=`got status: ${M}. ${JSON.stringify(I)}`;if(j>=400&&j<600)throw new ep({message:H,status:j})}}catch(I){if(I.name==="ApiError")throw I}c+=E;let T=-1,b=0;for(;;){T=-1,b=0;for(const M of m){const j=c.indexOf(M);j!==-1&&(T===-1||j<T)&&(T=j,b=M.length)}if(T===-1)break;const I=c.substring(0,T);c=c.substring(T+b);const L=I.trim();if(L.startsWith(h)){const M=L.substring(h.length).trim();try{const j=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ke(new cv(j))}catch(j){throw new Error(`exception parsing stream chunk ${M}. ${j}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=pH+" "+this.clientOptions.userAgentExtra;return e[fH]=t,e[mv]=t,e[dH]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(hH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);r.sizeBytes=String(c.size);const h=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const m={file:r},f=this.getFileName(e),g=Te("upload/v1beta/files",m._url),E=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,f,m,t==null?void 0:t.httpOptions);return a.upload(e,E,this)}async uploadFileToFileSearchStore(e,t,i){var r;const a=this.clientOptions.uploader,c=await a.stat(t),h=String(c.size),m=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(t),E={};i!=null&&KC(i,E);const T=await this.fetchUploadUrl(f,h,m,g,E,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(t,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,a,c){var h;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:m});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(h=f==null?void 0:f.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function oA(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new ep({message:r,status:t}):new Error(r)}}function _H(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const h=Object.assign({},a);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const f=c[m],g=h[m];f&&typeof f=="object"&&!Array.isArray(f)&&g&&typeof g=="object"&&!Array.isArray(g)?h[m]=i(g,f):(g&&f&&typeof g!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof g}, New type: ${typeof f}. Overwriting.`),h[m]=f)}return h}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xH="mcp_used/unknown";let EH=!1;function YC(n){for(const e of n)if(TH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EH}function JC(n){var e;const t=(e=n[mv])!==null&&e!==void 0?e:"";n[mv]=(t+` ${xH}`).trimStart()}function TH(n){return n!==null&&typeof n=="object"&&n instanceof s_}function wH(n){return Ss(this,arguments,function*(t,i=100){let r,a=0;for(;a<i;){const c=yield Ke(t.listTools({cursor:r}));for(const h of c.tools)yield yield Ke(h),a++;if(!c.nextCursor)break;r=c.nextCursor}})}class s_{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new s_(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const a={},c=[];for(const g of this.mcpClients)try{for(var h=!0,m=(t=void 0,As(wH(g))),f;f=await m.next(),e=f.done,!e;h=!0){r=f.value,h=!1;const E=r;c.push(E);const T=E.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=g}}catch(E){t={error:E}}finally{try{!h&&!e&&(i=m.return)&&await i.call(m)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),t9(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await r.callTool({name:i.name,arguments:i.args},void 0,a);t.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bH(n,e,t){const i=new KF;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class SH{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=IH(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let f=()=>{};const g=new Promise(z=>{f=z}),E=e.callbacks,T=function(){f({})},b=this.apiClient,I={onopen:T,onmessage:z=>{bH(b,E.onmessage,z)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(z){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(z){}},L=this.webSocketFactory.create(m,NH(c),I);L.connect(),await g;const H={setup:{model:_t(this.apiClient,e.model)}};return L.send(JSON.stringify(H)),new AH(L,this.apiClient)}}class AH{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=X8(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Q8(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Kl.PLAY)}pause(){this.sendPlaybackControl(Kl.PAUSE)}stop(){this.sendPlaybackControl(Kl.STOP)}resetContext(){this.sendPlaybackControl(Kl.RESET_CONTEXT)}close(){this.conn.close()}}function NH(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function IH(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RH(n,e,t){const i=new $F;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const a=JSON.parse(r);if(n.isVertexAI()){const c=t7(a);Object.assign(i,c)}else Object.assign(i,a);e(i)}class DH{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new SH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,a,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&YC(e.config.tools)&&JC(E);const T=LH(E);if(this.apiClient.isVertexAI())g=`${m}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,g);else{const N=this.apiClient.getApiKey();let P="BidiGenerateContent",D="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",D="access_token"),g=`${m}/ws/google.ai.generativelanguage.${f}.GenerativeService.${P}?${D}=${N}`}let b=()=>{};const I=new Promise(N=>{b=N}),L=e.callbacks,M=function(){var N;(N=L==null?void 0:L.onopen)===null||N===void 0||N.call(L),b({})},j=this.apiClient,H={onopen:M,onmessage:N=>{RH(j,L.onmessage,N)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(N){},onclose:(i=L==null?void 0:L.onclose)!==null&&i!==void 0?i:function(N){}},z=this.webSocketFactory.create(g,PH(T),H);z.connect(),await I;let ne=_t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ne.startsWith("publishers/")){const N=this.apiClient.getProject(),P=this.apiClient.getLocation();ne=`projects/${N}/locations/${P}/`+ne}let oe={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rm.AUDIO]}:e.config.responseModalities=[rm.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],R=[];for(const N of q)if(this.isCallableTool(N)){const P=N;R.push(await P.tool())}else R.push(N);R.length>0&&(e.config.tools=R);const C={model:ne,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?oe=W8(this.apiClient,C):oe=J8(this.apiClient,C),delete oe.config,z.send(JSON.stringify(oe)),new kH(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const MH={turnComplete:!0};class kH{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=rs(t.turns),e.isVertexAI()||(i=i.map(r=>tp(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(CH)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},MH),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:e7(e)}:t={realtimeInput:Z8(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function PH(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function LH(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aA=10;function lA(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(tc(c)){r=!0;break}if(!r)return!0;const a=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function tc(n){return"callTool"in n&&typeof n.callTool=="function"}function UH(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>tc(r)))!==null&&i!==void 0?i:!1}function cA(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(tc(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(r)}),t}function uA(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VH extends $r{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,a,c,h;const m=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!UH(t)||lA(t.config))return await this.generateContentInternal(m);const f=cA(t);if(f.length>0){const L=f.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let g,E;const T=rs(m.contents),b=(a=(r=(i=m.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:aA;let I=0;for(;I<b&&(g=await this.generateContentInternal(m),!(!g.functionCalls||g.functionCalls.length===0));){const L=g.candidates[0].content,M=[];for(const j of(h=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(tc(j)){const z=await j.callTool(g.functionCalls);M.push(...z)}I++,E={role:"user",parts:M},m.contents=rs(m.contents),m.contents.push(L),m.contents.push(E),uA(m.config)&&(T.push(L),T.push(E))}return uA(m.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async t=>{var i,r,a,c,h;if(this.maybeMoveToResponseJsonSchem(t),lA(t.config)){const E=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(E)}const m=cA(t);if(m.length>0){const E=m.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,g=(h=(c=t==null?void 0:t.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(f&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let a;const c=[];if(i!=null&&i.generatedImages)for(const m of i.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((r=m==null?void 0:m.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=m==null?void 0:m.safetyAttributes:c.push(m);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:i.sdkHttpResponse},h}),this.list=async t=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Qa(jr.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,a,c,h,m;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((c=(a=t.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.uri&&(!((m=(h=t.source)===null||h===void 0?void 0:h.video)===null||m===void 0)&&m.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const c=await Promise.all(a.map(async m=>tc(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&YC(e.config.tools)){const m=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},m);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),JC(f),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return h}async initAfcToolsMap(e){var t,i,r;const a=new Map;for(const c of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(tc(c)){const h=c,m=await h.tool();for(const f of(r=m.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,h)}}return a}async processAfcStream(e){var t,i,r;const a=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:aA;let c=!1,h=0;const m=await this.initAfcToolsMap(e);return(function(f,g,E){return Ss(this,arguments,function*(){for(var T,b,I,L,M,j;h<a;){c&&(h++,c=!1);const oe=yield Ke(f.processParamsMaybeAddMcpUsage(E)),q=yield Ke(f.generateContentStreamInternal(oe)),R=[],C=[];try{for(var H=!0,z=(b=void 0,As(q)),ne;ne=yield Ke(z.next()),T=ne.done,!T;H=!0){L=ne.value,H=!1;const N=L;if(yield yield Ke(N),N.candidates&&(!((M=N.candidates[0])===null||M===void 0)&&M.content)){C.push(N.candidates[0].content);for(const P of(j=N.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(h<a&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(P.functionCall.name)){const D=yield Ke(g.get(P.functionCall.name).callTool([P.functionCall]));R.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(N){b={error:N}}finally{try{!H&&!T&&(I=z.return)&&(yield Ke(I.call(z)))}finally{if(b)throw b.error}}if(R.length>0){c=!0;const N=new Hu;N.candidates=[{content:{role:"user",parts:R}}],yield yield Ke(N);const P=[];P.push(...C),P.push({role:"user",parts:R});const D=rs(E.contents).concat(P);E.contents=D}else break}})})(this,m,e)}async generateContentInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=iA(this.apiClient,e);return h=Te("{model}:generateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=rA(g),T=new Hu;return Object.assign(T,E),T})}else{const f=nA(this.apiClient,e);return h=Te("{model}:generateContent",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=sA(g),T=new Hu;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=iA(this.apiClient,e);return h=Te("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(E){return Ss(this,arguments,function*(){var T,b,I,L;try{for(var M=!0,j=As(E),H;H=yield Ke(j.next()),T=H.done,!T;M=!0){L=H.value,M=!1;const z=L,ne=rA(yield Ke(z.json()));ne.sdkHttpResponse={headers:z.headers};const oe=new Hu;Object.assign(oe,ne),yield yield Ke(oe)}}catch(z){b={error:z}}finally{try{!M&&!T&&(I=j.return)&&(yield Ke(I.call(j)))}finally{if(b)throw b.error}}})})}else{const f=nA(this.apiClient,e);return h=Te("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(E){return Ss(this,arguments,function*(){var T,b,I,L;try{for(var M=!0,j=As(E),H;H=yield Ke(j.next()),T=H.done,!T;M=!0){L=H.value,M=!1;const z=L,ne=sA(yield Ke(z.json()));ne.sdkHttpResponse={headers:z.headers};const oe=new Hu;Object.assign(oe,ne),yield yield Ke(oe)}}catch(z){b={error:z}}finally{try{!M&&!T&&(I=j.return)&&(yield Ke(I.call(j)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=D7(this.apiClient,e);return h=Te("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=k7(g),T=new jS;return Object.assign(T,E),T})}else{const f=R7(this.apiClient,e);return h=Te("{model}:batchEmbedContents",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=M7(g),T=new jS;return Object.assign(T,E),T})}}async generateImagesInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=G7(this.apiClient,e);return h=Te("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=$7(g),T=new FS;return Object.assign(T,E),T})}else{const f=B7(this.apiClient,e);return h=Te("{model}:predict",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=z7(g),T=new FS;return Object.assign(T,E),T})}}async editImageInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=A7(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=N7(m),g=new LF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=Gq(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=zq(m),g=new UF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=Sq(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=Aq(m),g=new VF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=Mq(this.apiClient,e);return a=Te("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=kq(m),g=new OF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=cq(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>fv(g))}else{const f=lq(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>hv(g))}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=vq(this.apiClient,e);return h=Te("{models_url}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=xq(g),T=new qS;return Object.assign(T,E),T})}else{const f=yq(this.apiClient,e);return h=Te("{models_url}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=_q(g),T=new qS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=Hq(this.apiClient,e);return h=Te("{model}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>fv(g))}else{const f=qq(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>hv(g))}}async delete(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=T7(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=b7(g),T=new HS;return Object.assign(T,E),T})}else{const f=E7(this.apiClient,e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=w7(g),T=new HS;return Object.assign(T,E),T})}}async countTokens(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=v7(this.apiClient,e);return h=Te("{model}:countTokens",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=x7(g),T=new BS;return Object.assign(T,E),T})}else{const f=y7(this.apiClient,e);return h=Te("{model}:countTokens",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=_7(g),T=new BS;return Object.assign(T,E),T})}}async computeTokens(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=u7(this.apiClient,e);return a=Te("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>{const f=d7(m),g=new jF;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=X7(this.apiClient,e);return h=Te("{model}:predictLongRunning",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c.then(g=>{const E=W7(g),T=new om;return Object.assign(T,E),T})}else{const f=Q7(this.apiClient,e);return h=Te("{model}:predictLongRunning",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>{const E=J7(g),T=new om;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OH extends $r{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=CF(e);return h=Te("{operationName}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),c}else{const f=IF(e);return h=Te("{operationName}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=EF(e);return a=Te("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jH(n){const e={},t=p(n,["data"]);if(t!=null&&y(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function FH(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>JH(a))),y(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&y(e,["role"],i),e}function qH(n,e,t){const i={},r=p(e,["expireTime"]);t!==void 0&&r!=null&&y(t,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&y(t,["newSessionExpireTime"],a);const c=p(e,["uses"]);t!==void 0&&c!=null&&y(t,["uses"],c);const h=p(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&y(t,["bidiGenerateContentSetup"],YH(n,h));const m=p(e,["lockAdditionalFields"]);return t!==void 0&&m!=null&&y(t,["fieldMask"],m),i}function HH(n,e){const t={},i=p(e,["config"]);return i!=null&&y(t,["config"],qH(n,i,t)),t}function BH(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function GH(n){const e={},t=p(n,["id"]);t!=null&&y(e,["id"],t);const i=p(n,["args"]);i!=null&&y(e,["args"],i);const r=p(n,["name"]);if(r!=null&&y(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zH(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function $H(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function KH(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=p(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=p(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const h=p(n,["topK"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","topK"],h);const m=p(n,["maxOutputTokens"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","maxOutputTokens"],m);const f=p(n,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const g=p(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const E=p(n,["speechConfig"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","speechConfig"],i_(E));const T=p(n,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const b=p(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=p(n,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],FH(Zn(I)));const L=p(n,["tools"]);if(e!==void 0&&L!=null){let q=Vc(L);Array.isArray(q)&&(q=q.map(R=>QH(Uc(R)))),y(e,["setup","tools"],q)}const M=p(n,["sessionResumption"]);e!==void 0&&M!=null&&y(e,["setup","sessionResumption"],WH(M));const j=p(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","inputAudioTranscription"],j);const H=p(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&y(e,["setup","outputAudioTranscription"],H);const z=p(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&y(e,["setup","realtimeInputConfig"],z);const ne=p(n,["contextWindowCompression"]);e!==void 0&&ne!=null&&y(e,["setup","contextWindowCompression"],ne);const oe=p(n,["proactivity"]);if(e!==void 0&&oe!=null&&y(e,["setup","proactivity"],oe),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function YH(n,e){const t={},i=p(e,["model"]);i!=null&&y(t,["setup","model"],_t(n,i));const r=p(e,["config"]);return r!=null&&y(t,["config"],KH(r,t)),t}function JH(n){const e={},t=p(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=p(n,["fileData"]);a!=null&&y(e,["fileData"],BH(a));const c=p(n,["functionCall"]);c!=null&&y(e,["functionCall"],GH(c));const h=p(n,["functionResponse"]);h!=null&&y(e,["functionResponse"],h);const m=p(n,["inlineData"]);m!=null&&y(e,["inlineData"],jH(m));const f=p(n,["text"]);f!=null&&y(e,["text"],f);const g=p(n,["thought"]);g!=null&&y(e,["thought"],g);const E=p(n,["thoughtSignature"]);E!=null&&y(e,["thoughtSignature"],E);const T=p(n,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function WH(n){const e={},t=p(n,["handle"]);if(t!=null&&y(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QH(n){const e={},t=p(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(E=>E)),y(e,["functionDeclarations"],g)}if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const r=p(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=p(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=p(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=p(n,["googleMaps"]);h!=null&&y(e,["googleMaps"],zH(h));const m=p(n,["googleSearch"]);m!=null&&y(e,["googleSearch"],$H(m));const f=p(n,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XH(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${t}.${a}`);e.push(...r)}else e.push(t)}return e.join(",")}function ZH(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const a=XH(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(f=>c.includes(f)?`generationConfig.${f}`:f));const m=[];a&&m.push(a),h.length>0&&m.push(...h),m.length>0?n.fieldMask=m.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class eB extends $r{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=HH(this.apiClient,e);a=Te("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const m=ZH(h,e.config);return r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tB(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function nB(n){const e={},t=p(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&tB(i,e),e}function iB(n){const e={},t=p(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function sB(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),t}function rB(n){const e={},t=p(n,["parent"]);t!=null&&y(e,["_url","parent"],t);const i=p(n,["config"]);return i!=null&&sB(i,e),e}function oB(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const r=p(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aB extends $r{constructor(e){super(),this.apiClient=e,this.list=async t=>new Qa(jr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iB(e);return a=Te("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nB(e);r=Te("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rB(e);return a=Te("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=oB(m),g=new FF;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lB extends $r{constructor(e,t=new aB(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Qa(jr.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xq(e);return a=Te("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async get(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tH(e);return a=Te("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eH(e);r=Te("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aH(e);return a=Te("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=lH(m),g=new qF;return Object.assign(g,f),g})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cH(e);return a=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=uH(m),g=new HF;return Object.assign(g,f),g})}}async importFile(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sH(e);return a=Te("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const f=iH(m),g=new X0;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WC=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return WC=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};const cB=()=>WC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pv(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const gv=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs extends Error{}class ci extends cs{constructor(e,t,i,r){super(`${ci.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new sp({message:i,cause:gv(t)});const a=t;return e===400?new XC(e,a,i,r):e===401?new ZC(e,a,i,r):e===403?new eR(e,a,i,r):e===404?new tR(e,a,i,r):e===409?new nR(e,a,i,r):e===422?new iR(e,a,i,r):e===429?new sR(e,a,i,r):e>=500?new rR(e,a,i,r):new ci(e,a,i,r)}}class yv extends ci{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sp extends ci{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class QC extends sp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class XC extends ci{}class ZC extends ci{}class eR extends ci{}class tR extends ci{}class nR extends ci{}class iR extends ci{}class sR extends ci{}class rR extends ci{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uB=/^[a-z][a-z0-9+.-]*:/i,dB=n=>uB.test(n);let vv=n=>(vv=Array.isArray,vv(n));const hB=vv;let fB=hB;const dA=fB;function mB(n){if(!n)return!0;for(const e in n)return!1;return!0}function pB(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const gB=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new cs(`${n} must be an integer`);if(e<0)throw new cs(`${n} must be a positive integer`);return e},yB=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vB=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _B(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xB=()=>{var n,e,t,i,r;const a=_B();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gl,"X-Stainless-OS":fA(Deno.build.os),"X-Stainless-Arch":hA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gl,"X-Stainless-OS":fA((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":hA((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=EB();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EB(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,c=i[3]||0;return{browser:e,version:`${r}.${a}.${c}`}}}return null}const hA=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",fA=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let gf;const TB=()=>gf??(gf=xB());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wB(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oR(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function bB(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return oR({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function aR(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SB(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const i=n.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AB=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lR=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Iy(n,e,t){return lR(),new File(n,e??"unknown_file",t)}function NB(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const IB=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cR=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",CB=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&cR(n),RB=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function DB(n,e,t){if(lR(),n=await n,CB(n))return n instanceof File?n:Iy([await n.arrayBuffer()],n.name);if(RB(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Iy(await _v(r),e,t)}const i=await _v(n);if(e||(e=NB(n)),!(t!=null&&t.type)){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return Iy(i,e,t)}async function _v(n){var e,t,i,r,a;let c=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)c.push(n);else if(cR(n))c.push(n instanceof Blob?n:await n.arrayBuffer());else if(IB(n))try{for(var h=!0,m=As(n),f;f=await m.next(),e=f.done,!e;h=!0){r=f.value,h=!1;const g=r;c.push(...await _v(g))}}catch(g){t={error:g}}finally{try{!h&&!e&&(i=m.return)&&await i.call(m)}finally{if(t)throw t.error}}else{const g=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${g?`; constructor: ${g}`:""}${MB(n)}`)}return c}function MB(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR{constructor(e){this._client=e}}uR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dR(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mA=Object.freeze(Object.create(null)),kB=(n=dR)=>(function(t,...i){if(t.length===1)return t[0];let r=!1;const a=[],c=t.reduce((g,E,T)=>{var b,I,L;/[?#]/.test(E)&&(r=!0);const M=i[T];let j=(r?encodeURIComponent:n)(""+M);return T!==i.length&&(M==null||typeof M=="object"&&M.toString===((L=Object.getPrototypeOf((I=Object.getPrototypeOf((b=M.hasOwnProperty)!==null&&b!==void 0?b:mA))!==null&&I!==void 0?I:mA))===null||L===void 0?void 0:L.toString))&&(j=M+"",a.push({start:g.length+E.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),g+E+(T===i.length?"":j)},""),h=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=m.exec(h))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((g,E)=>g.start-E.start),a.length>0){let g=0;const E=a.reduce((T,b)=>{const I=" ".repeat(b.start-g),L="^".repeat(b.length);return g=b.start+b.length,T+I+L},"");throw new cs(`Path parameters result in path with invalid segments:
${a.map(T=>T.error).join(`
`)}
${c}
${E}`)}return c}),yf=kB(dR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hR extends uR{create(e,t){var i;const{api_version:r=this._client.apiVersion}=e,a=lm(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new cs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new cs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(yf`/${r}/interactions`,Object.assign(Object.assign({body:a},t),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(yf`/${r}/interactions/${e}`,i)}cancel(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(yf`/${r}/interactions/${e}/cancel`,i)}get(e,t={},i){var r;const a=t??{},{api_version:c=this._client.apiVersion}=a,h=lm(a,["api_version"]);return this._client.get(yf`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},i),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}hR._key=Object.freeze(["interactions"]);class fR extends hR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PB(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let vf;function r_(n){let e;return(vf??(e=new globalThis.TextEncoder,vf=e.encode.bind(e)))(n)}let _f;function pA(n){let e;return(_f??(e=new globalThis.TextDecoder,_f=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?r_(e):e;this.buffer=PB([this.buffer,t]);const i=[];let r;for(;(r=LB(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(pA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=pA(this.buffer.subarray(0,a));i.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}rp.NEWLINE_CHARS=new Set([`
`,"\r"]);rp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function LB(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function UB(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cm={off:0,error:200,warn:300,info:400,debug:500},gA=(n,e,t)=>{if(n){if(pB(cm,n))return n;oi(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(cm))}`)}};function Wu(){}function xf(n,e,t){return!e||cm[n]>cm[t]?Wu:e[n].bind(e)}const VB={error:Wu,warn:Wu,info:Wu,debug:Wu};let yA=new WeakMap;function oi(n){var e;const t=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return VB;const r=yA.get(t);if(r&&r[0]===i)return r[1];const a={error:xf("error",t,i),warn:xf("warn",t,i),info:xf("info",t,i),debug:xf("debug",t,i)};return yA.set(t,[i,a]),a}const Ua=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yl{constructor(e,t,i){this.iterator=e,this.controller=t,this.client=i}static fromSSEResponse(e,t,i){let r=!1;const a=i?oi(i):console;function c(){return Ss(this,arguments,function*(){var m,f,g,E;if(r)throw new cs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var b=!0,I=As(OB(e,t)),L;L=yield Ke(I.next()),m=L.done,!m;b=!0){E=L.value,b=!1;const M=E;if(!T)if(M.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ke(JSON.parse(M.data))}catch(j){throw a.error("Could not parse message into JSON:",M.data),a.error("From chunk:",M.raw),j}}}catch(M){f={error:M}}finally{try{!b&&!m&&(g=I.return)&&(yield Ke(g.call(I)))}finally{if(f)throw f.error}}T=!0}catch(M){if(pv(M))return yield Ke(void 0);throw M}finally{T||t.abort()}})}return new Yl(c,t,i)}static fromReadableStream(e,t,i){let r=!1;function a(){return Ss(this,arguments,function*(){var m,f,g,E;const T=new rp,b=aR(e);try{for(var I=!0,L=As(b),M;M=yield Ke(L.next()),m=M.done,!m;I=!0){E=M.value,I=!1;const j=E;for(const H of T.decode(j))yield yield Ke(H)}}catch(j){f={error:j}}finally{try{!I&&!m&&(g=L.return)&&(yield Ke(g.call(L)))}finally{if(f)throw f.error}}for(const j of T.flush())yield yield Ke(j)})}function c(){return Ss(this,arguments,function*(){var m,f,g,E;if(r)throw new cs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var b=!0,I=As(a()),L;L=yield Ke(I.next()),m=L.done,!m;b=!0){E=L.value,b=!1;const M=E;T||M&&(yield yield Ke(JSON.parse(M)))}}catch(M){f={error:M}}finally{try{!b&&!m&&(g=I.return)&&(yield Ke(g.call(I)))}finally{if(f)throw f.error}}T=!0}catch(M){if(pv(M))return yield Ke(void 0);throw M}finally{T||t.abort()}})}return new Yl(c,t,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const c=i.next();e.push(c),t.push(c)}return a.shift()}});return[new Yl(()=>r(e),this.controller,this.client),new Yl(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return oR({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await t.next();if(a)return i.close();const c=r_(JSON.stringify(r)+`
`);i.enqueue(c)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}}function OB(n,e){return Ss(this,arguments,function*(){var i,r,a,c;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new cs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new cs("Attempted to iterate over a response with no body");const h=new FB,m=new rp,f=aR(n.body);try{for(var g=!0,E=As(jB(f)),T;T=yield Ke(E.next()),i=T.done,!i;g=!0){c=T.value,g=!1;const b=c;for(const I of m.decode(b)){const L=h.decode(I);L&&(yield yield Ke(L))}}}catch(b){r={error:b}}finally{try{!g&&!i&&(a=E.return)&&(yield Ke(a.call(E)))}finally{if(r)throw r.error}}for(const b of m.flush()){const I=h.decode(b);I&&(yield yield Ke(I))}})}function jB(n){return Ss(this,arguments,function*(){var t,i,r,a;let c=new Uint8Array;try{for(var h=!0,m=As(n),f;f=yield Ke(m.next()),t=f.done,!t;h=!0){a=f.value,h=!1;const g=a;if(g==null)continue;const E=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?r_(g):g;let T=new Uint8Array(c.length+E.length);T.set(c),T.set(E,c.length),c=T;let b;for(;(b=UB(c))!==-1;)yield yield Ke(c.slice(0,b)),c=c.slice(b)}}catch(g){i={error:g}}finally{try{!h&&!t&&(r=m.return)&&(yield Ke(r.call(m)))}finally{if(i)throw i.error}}c.length>0&&(yield yield Ke(c))})}class FB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=qB(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function qB(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HB(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,c=await(async()=>{var h;if(e.options.stream)return oi(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Yl.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const m=t.headers.get("content-type"),f=(h=m==null?void 0:m.split(";")[0])===null||h===void 0?void 0:h.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await t.json():await t.text()})();return oi(n).debug(`[${i}] response parsed`,Ua({retryOfRequestLogID:r,url:t.url,status:t.status,body:c,durationMs:Date.now()-a})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_ extends Promise{constructor(e,t,i=HB){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new o_(this.client,this.responsePromise,async(t,i)=>e(await this.parseResponse(t,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mR=Symbol("brand.privateNullableHeaders");function*BB(n){if(!n)return;if(mR in n){const{values:i,nulls:r}=n;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():dA(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=dA(i[1])?i[1]:[i[1]];let c=!1;for(const h of a)h!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,h])}}const Bu=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[a,c]of BB(i)){const h=a.toLowerCase();r.has(h)||(e.delete(a),r.add(h)),c===null?(e.delete(a),t.add(h)):(e.append(a,c),t.delete(h))}}return{[mR]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=n=>{var e,t,i,r,a,c;if(typeof globalThis.process<"u")return(i=(t=(e=pF)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(c=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pR;class op{constructor(e){var t,i,r,a,c,h,m,{baseURL:f=Cy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(t=Cy("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:E="v1beta"}=e,T=lm(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:g,apiVersion:E},T),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(i=b.timeout)!==null&&i!==void 0?i:op.DEFAULT_TIMEOUT,this.logger=(r=b.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(c=(a=gA(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:gA(Cy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:I,this.fetchOptions=b.fetchOptions,this.maxRetries=(h=b.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(m=b.fetch)!==null&&m!==void 0?m:wB(),this.encoder=AB,this._options=b,this.apiKey=g,this.apiVersion=E,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Bu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Bu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Bu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new cs(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Gl}`}defaultIdempotencyKey(){return`stainless-node-retry-${cB()}`}makeStatusError(e,t,i,r){return ci.generate(e,t,i,r)}buildURL(e,t,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=dB(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return mB(c)||(t=Object.assign(Object.assign({},c),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new o_(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var r,a,c;const h=await e,m=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=m),await this.prepareOptions(h);const{req:f,url:g,timeout:E}=await this.buildRequest(h,{retryCount:m-t});await this.prepareRequest(f,{url:g,options:h});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,I=Date.now();if(oi(this).debug(`[${T}] sending request`,Ua({retryOfRequestLogID:i,method:h.method,url:g,options:h,headers:f.headers})),!((a=h.signal)===null||a===void 0)&&a.aborted)throw new yv;const L=new AbortController,M=await this.fetchWithTimeout(g,f,E,L).catch(gv),j=Date.now();if(M instanceof globalThis.Error){const z=`retrying, ${t} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new yv;const ne=pv(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(t)return oi(this).info(`[${T}] connection ${ne?"timed out":"failed"} - ${z}`),oi(this).debug(`[${T}] connection ${ne?"timed out":"failed"} (${z})`,Ua({retryOfRequestLogID:i,url:g,durationMs:j-I,message:M.message})),this.retryRequest(h,t,i??T);throw oi(this).info(`[${T}] connection ${ne?"timed out":"failed"} - error; no more retries left`),oi(this).debug(`[${T}] connection ${ne?"timed out":"failed"} (error; no more retries left)`,Ua({retryOfRequestLogID:i,url:g,durationMs:j-I,message:M.message})),ne?new QC:new sp({cause:M})}const H=`[${T}${b}] ${f.method} ${g} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${j-I}ms`;if(!M.ok){const z=await this.shouldRetry(M);if(t&&z){const N=`retrying, ${t} attempts remaining`;return await SB(M.body),oi(this).info(`${H} - ${N}`),oi(this).debug(`[${T}] response error (${N})`,Ua({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,durationMs:j-I})),this.retryRequest(h,t,i??T,M.headers)}const ne=z?"error; no more retries left":"error; not retryable";oi(this).info(`${H} - ${ne}`);const oe=await M.text().catch(N=>gv(N).message),q=yB(oe),R=q?void 0:oe;throw oi(this).debug(`[${T}] response error (${ne})`,Ua({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,message:R,durationMs:Date.now()-I})),this.makeStatusError(M.status,q,R,M.headers)}return oi(this).info(H),oi(this).debug(`[${T}] response start`,Ua({retryOfRequestLogID:i,url:M.url,status:M.status,headers:M.headers,durationMs:j-I})),{response:M,options:h,controller:L,requestLogID:T,retryOfRequestLogID:i,startTime:I}}async fetchWithTimeout(e,t,i,r){const a=t||{},{signal:c,method:h}=a,m=lm(a,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const f=setTimeout(()=>r.abort(),i),g=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},g?{duplex:"half"}:{}),{method:"GET"}),m);h&&(E.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(f)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){var a;let c;const h=r==null?void 0:r.get("retry-after-ms");if(h){const f=parseFloat(h);Number.isNaN(f)||(c=f)}const m=r==null?void 0:r.get("retry-after");if(m&&!c){const f=parseFloat(m);Number.isNaN(f)?c=Date.parse(m)-Date.now():c=f*1e3}if(!(c&&0<=c&&c<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(t,f)}return await vB(c),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,c=Math.min(.5*Math.pow(2,a),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:t=0}={}){var i,r,a;const c=Object.assign({},e),{method:h,path:m,query:f,defaultBaseURL:g}=c,E=this.buildURL(m,f,g);"timeout"in c&&gB("timeout",c.timeout),c.timeout=(i=c.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:b}=this.buildBody({options:c}),I=await this.buildHeaders({options:e,method:h,bodyHeaders:T,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:I},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=c.fetchOptions)!==null&&a!==void 0?a:{}),url:E,timeout:c.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=Bu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),TB()),this._options.defaultHeaders,i,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Bu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:bB(e)}:this.encoder({body:e,headers:i})}}op.DEFAULT_TIMEOUT=6e4;class kn extends op{constructor(){super(...arguments),this.interactions=new fR(this)}}pR=kn;kn.GeminiNextGenAPIClient=pR;kn.GeminiNextGenAPIClientError=cs;kn.APIError=ci;kn.APIConnectionError=sp;kn.APIConnectionTimeoutError=QC;kn.APIUserAbortError=yv;kn.NotFoundError=tR;kn.ConflictError=nR;kn.RateLimitError=sR;kn.BadRequestError=XC;kn.AuthenticationError=ZC;kn.InternalServerError=rR;kn.PermissionDeniedError=eR;kn.UnprocessableEntityError=iR;kn.toFile=DB;kn.Interactions=fR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function zB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function $B(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&y(t,["sdkHttpResponse"],i),t}function KB(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&y(t,["sdkHttpResponse"],i),t}function YB(n,e,t){const i={};if(p(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&y(e,["displayName"],r),p(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(n,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const c=p(n,["learningRateMultiplier"]);if(c!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],c),p(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=p(n,["batchSize"]);e!==void 0&&h!=null&&y(e,["tuningTask","hyperparameters","batchSize"],h);const m=p(n,["learningRate"]);if(e!==void 0&&m!=null&&y(e,["tuningTask","hyperparameters","learningRate"],m),p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function JB(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=p(n,["validationDataset"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec"],vA(b))}else if(r==="PREFERENCE_TUNING"){const b=p(n,["validationDataset"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec"],vA(b))}const a=p(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const c=p(n,["description"]);e!==void 0&&c!=null&&y(e,["description"],c);let h=p(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=p(n,["epochCount"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(h==="PREFERENCE_TUNING"){const b=p(n,["epochCount"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let m=p(t,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=p(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(m==="PREFERENCE_TUNING"){const b=p(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=p(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=p(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=p(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let g=p(t,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=p(n,["adapterSize"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(g==="PREFERENCE_TUNING"){const b=p(n,["adapterSize"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(p(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=p(n,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const T=p(n,["beta"]);return e!==void 0&&T!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function WB(n,e){const t={},i=p(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&y(t,["preTunedModel"],r);const a=p(n,["trainingDataset"]);a!=null&&aG(a);const c=p(n,["config"]);return c!=null&&YB(c,t),t}function QB(n,e){const t={},i=p(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&y(t,["preTunedModel"],r);const a=p(n,["trainingDataset"]);a!=null&&lG(a,t,e);const c=p(n,["config"]);return c!=null&&JB(c,t,e),t}function XB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function ZB(n,e){const t={},i=p(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function eG(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=p(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=p(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),i}function tG(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=p(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=p(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),i}function nG(n,e){const t={},i=p(n,["config"]);return i!=null&&eG(i,t),t}function iG(n,e){const t={},i=p(n,["config"]);return i!=null&&tG(i,t),t}function sG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=p(n,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>gR(h))),y(t,["tuningJobs"],c)}return t}function rG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=p(n,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>xv(h))),y(t,["tuningJobs"],c)}return t}function oG(n,e){const t={},i=p(n,["name"]);i!=null&&y(t,["model"],i);const r=p(n,["name"]);return r!=null&&y(t,["endpoint"],r),t}function aG(n,e){const t={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["examples","examples"],r)}return t}function lG(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=p(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=p(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let a=p(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=p(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=p(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(p(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function gR(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["state"]);a!=null&&y(t,["state"],MC(a));const c=p(n,["createTime"]);c!=null&&y(t,["createTime"],c);const h=p(n,["tuningTask","startTime"]);h!=null&&y(t,["startTime"],h);const m=p(n,["tuningTask","completeTime"]);m!=null&&y(t,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(t,["updateTime"],f);const g=p(n,["description"]);g!=null&&y(t,["description"],g);const E=p(n,["baseModel"]);E!=null&&y(t,["baseModel"],E);const T=p(n,["_self"]);return T!=null&&y(t,["tunedModel"],oG(T)),t}function xv(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["state"]);a!=null&&y(t,["state"],MC(a));const c=p(n,["createTime"]);c!=null&&y(t,["createTime"],c);const h=p(n,["startTime"]);h!=null&&y(t,["startTime"],h);const m=p(n,["endTime"]);m!=null&&y(t,["endTime"],m);const f=p(n,["updateTime"]);f!=null&&y(t,["updateTime"],f);const g=p(n,["error"]);g!=null&&y(t,["error"],g);const E=p(n,["description"]);E!=null&&y(t,["description"],E);const T=p(n,["baseModel"]);T!=null&&y(t,["baseModel"],T);const b=p(n,["tunedModel"]);b!=null&&y(t,["tunedModel"],b);const I=p(n,["preTunedModel"]);I!=null&&y(t,["preTunedModel"],I);const L=p(n,["supervisedTuningSpec"]);L!=null&&y(t,["supervisedTuningSpec"],L);const M=p(n,["preferenceOptimizationSpec"]);M!=null&&y(t,["preferenceOptimizationSpec"],M);const j=p(n,["tuningDataStats"]);j!=null&&y(t,["tuningDataStats"],j);const H=p(n,["encryptionSpec"]);H!=null&&y(t,["encryptionSpec"],H);const z=p(n,["partnerModelTuningSpec"]);z!=null&&y(t,["partnerModelTuningSpec"],z);const ne=p(n,["customBaseModel"]);ne!=null&&y(t,["customBaseModel"],ne);const oe=p(n,["experiment"]);oe!=null&&y(t,["experiment"],oe);const q=p(n,["labels"]);q!=null&&y(t,["labels"],q);const R=p(n,["outputUri"]);R!=null&&y(t,["outputUri"],R);const C=p(n,["pipelineJob"]);C!=null&&y(t,["pipelineJob"],C);const N=p(n,["serviceAccount"]);N!=null&&y(t,["serviceAccount"],N);const P=p(n,["tunedModelDisplayName"]);P!=null&&y(t,["tunedModelDisplayName"],P);const D=p(n,["veoTuningSpec"]);return D!=null&&y(t,["veoTuningSpec"],D),t}function cG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&y(t,["name"],r);const a=p(n,["metadata"]);a!=null&&y(t,["metadata"],a);const c=p(n,["done"]);c!=null&&y(t,["done"],c);const h=p(n,["error"]);return h!=null&&y(t,["error"],h),t}function vA(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&y(t,["validationDatasetUri"],i);const r=p(n,["vertexDatasetResource"]);return r!=null&&y(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uG extends $r{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Qa(jr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),a=await this.tuneMldevInternal(r);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:lv.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=ZB(e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>xv(g))}else{const f=XB(e);return h=Te("{name}",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>gR(g))}}async listInternal(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=iG(e);return h=Te("tuningJobs",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=rG(g),T=new GS;return Object.assign(T,E),T})}else{const f=nG(e);return h=Te("tunedModels",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=sG(g),T=new GS;return Object.assign(T,E),T})}}async cancel(e){var t,i,r,a;let c,h="",m={};if(this.apiClient.isVertexAI()){const f=zB(e);return h=Te("{name}:cancel",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=KB(g),T=new zS;return Object.assign(T,E),T})}else{const f=GB(e);return h=Te("{name}:cancel",f._url),m=f._query,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),c.then(g=>{const E=$B(g),T=new zS;return Object.assign(T,E),T})}}async tuneInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=QB(e,e);return a=Te("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>xv(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WB(e);return a=Te("tunedModels",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:m.headers},g})),r.then(m=>cG(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dG{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hG=1024*1024*8,fG=3,mG=1e3,pG=2,um="x-goog-upload-status";async function gG(n,e,t){var i;const r=await yR(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[um])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function yG(n,e,t){var i;const r=await yR(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[um])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=AC(a),h=new Z0;return Object.assign(h,c),h}async function yR(n,e,t){var i,r;let a=0,c=0,h=new cv(new Response),m="upload";for(a=n.size;c<a;){const f=Math.min(hG,a-c),g=n.slice(c,c+f);c+f>=a&&(m+=", finalize");let E=0,T=mG;for(;E<fG&&(h=await t.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(f)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[um]));)E++,await _G(T),T=T*pG;if(c+=f,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[um])!=="active")break;if(a<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function vG(n){return{size:n.size,type:n.type}}function _G(n){return new Promise(e=>setTimeout(e,n))}class xG{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gG(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yG(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vG(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EG{create(e,t,i){return new TG(e,t,i)}}class TG{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A="x-goog-api-key";class wG{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(_A)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_A,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bG="gl-node/";class SG{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new kn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=_F(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new wG(this.apiKey);this.apiClient=new vH({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:bG+"web",uploader:new xG,downloader:new dG}),this.models=new VH(this.apiClient),this.live=new DH(this.apiClient,r,new EG),this.batches=new Y9(this.apiClient),this.chats=new C8(this.models,this.apiClient),this.caches=new A8(this.apiClient),this.files=new j8(this.apiClient),this.operations=new OH(this.apiClient),this.authTokens=new eB(this.apiClient),this.tunings=new uG(this.apiClient),this.fileSearchStores=new lB(this.apiClient)}}const xA=new SG({apiKey:"PLACEHOLDER_API_KEY"}),fc={async suggestNote(n,e,t,i){var h;const a=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong for Fresh Level"][e-1],c=`You are a professional technical recruiter and coach.
    Context: Evaluating a ${t} candidate.
    Skill being evaluated: ${n}
    Score Given: ${e}/5 (${a})
    ${i?`Previous feedback context: ${i}`:""}
    
    Task: Write a concise, constructive "Coach Note" in Arabic for the interviewer. 
    The note should explain why this score might be given and what the candidate demonstrated or missed.
    Output only the note text in Arabic.`;try{return((h=(await xA.models.generateContent({model:"gemini-3-flash-preview",contents:c,config:{temperature:.7}})).text)==null?void 0:h.trim())||"   ."}catch(m){return console.error("AI Error:",m),"    ."}},async generateFinalReport(n,e,t,i){const r=`You are an expert technical career coach. 
    Generate a high-quality, professional, and encouraging "Software Engineering Interview Evaluation Report" in Arabic.
    
    Candidate Information:
    - Name: ${n}
    - Role: ${t}
    - Interviewer: ${e}
    
    Full Evaluation Data (Sections, Skills, Scores, and Interviewer Notes):
    ${JSON.stringify(i,null,2)}
    
    CRITICAL INSTRUCTIONS FOR THE REPORT STRUCTURE (Arabic):
    1. Executive Summary: Overall impression.
    2. Detailed Breakdown by Section:
       - For EACH SKILL within a section, you MUST display it as follows:
         * Skill Name & Score (e.g., Programming Logic: 4/5)
         * "  ": [HERE YOU MUST INCLUDE THE VERBATIM NOTES WRITTEN BY THE INTERVIEWER FROM THE DATA PROVIDED]
         * " ": [Your AI coaching tip based on the score and note]
    3. Final Decision: Ready, Almost Ready, or Not Ready Yet.
    4. Pro Tips: Personalized advice.
    
    IMPORTANT: Do NOT summarize the interviewer notes into one paragraph. Keep them attached to each skill as "Direct Observations". If a note is empty, write "    ".
    
    Use Markdown with beautiful formatting, emojis, and clear headings.`;try{return(await xA.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{temperature:.8}})).text}catch(a){return console.error("AI Report Generation Error:",a),null}}},AG=[{id:"fundamentals",title:"1.   (Programming Fundamentals)",weight:30,items:[{skill:"Variables & Data Types",score:3,notes:""},{skill:"Conditions & Loops",score:3,notes:""},{skill:"Functions / Methods",score:3,notes:""},{skill:"Basic OOP Concepts",score:3,notes:""},{skill:"Code Readability & Naming",score:3,notes:""}],summary:""},{id:"problem-solving",title:"2.     (Problem-Solving)",weight:25,items:[{skill:"Understanding the problem",score:3,notes:""},{skill:"Breaking problems into steps",score:3,notes:""},{skill:"Writing a simple logical solution",score:3,notes:""},{skill:"Handling simple edge cases",score:3,notes:""},{skill:"Explaining the solution clearly",score:3,notes:""}],summary:""},{id:"data-structures",title:"3.   -  (Data Structures Basics)",weight:15,items:[{skill:"Arrays / Lists usage",score:3,notes:""},{skill:"Strings handling",score:3,notes:""},{skill:"Basic Maps / Objects",score:3,notes:""},{skill:"Choosing the right data structure",score:3,notes:""}],summary:""},{id:"sw-dev-fundamentals",title:"4.    (SW Dev Fundamentals)",weight:15,items:[{skill:"Understanding software projects",score:3,notes:""},{skill:"Awareness of SDLC basics",score:3,notes:""},{skill:"Git basics (add, commit)",score:3,notes:""},{skill:"Bug vs Feature understanding",score:3,notes:""}],summary:""},{id:"attitude",title:"5.     (Learning Ability & Attitude)",weight:10,items:[{skill:"Willingness to learn",score:3,notes:""},{skill:"Accepting feedback",score:3,notes:""},{skill:"Persistence when stuck",score:3,notes:""},{skill:"Asking questions",score:3,notes:""}],summary:""},{id:"communication",title:"6.   (Communication Basics)",weight:5,items:[{skill:"Clear explanation",score:3,notes:""},{skill:"Understanding questions",score:3,notes:""},{skill:"Honest communication",score:3,notes:""}],summary:""}],NG=[{id:"coding-quality",title:"1.    (Programming & Coding Quality)",weight:25,items:[{skill:"Clean & maintainable code",score:3,notes:""},{skill:"Functions & modular design",score:3,notes:""},{skill:"Error handling basics",score:3,notes:""},{skill:"OOP concepts (Inheritance, Classes)",score:3,notes:""},{skill:"Code structure & naming",score:3,notes:""}],summary:""},{id:"algorithms",title:"2.    (Problem-Solving & Algorithms)",weight:25,items:[{skill:"Breaking complex problems",score:3,notes:""},{skill:"Designing step-by-step solutions",score:3,notes:""},{skill:"Handling edge cases",score:3,notes:""},{skill:"Searching & Sorting algorithms",score:3,notes:""},{skill:"Correctness vs Efficiency balance",score:3,notes:""}],summary:""},{id:"ds-knowledge",title:"3.    (Data Structures Knowledge)",weight:15,items:[{skill:"Arrays, Lists, Stacks, Queues",score:3,notes:""},{skill:"Hash maps / Dictionaries usage",score:3,notes:""},{skill:"Choosing right DS",score:3,notes:""},{skill:"Time/Space trade-offs awareness",score:3,notes:""}],summary:""},{id:"se-practices",title:"4.    (Software Engineering Practices)",weight:15,items:[{skill:"Git branching & workflow",score:3,notes:""},{skill:"Simple Unit Testing",score:3,notes:""},{skill:"Debugging & Troubleshooting",score:3,notes:""},{skill:"Dev/Stage/Prod environments",score:3,notes:""},{skill:"Documentation skills",score:3,notes:""}],summary:""},{id:"system-basics",title:"5.    (System & Architecture Basics)",weight:10,items:[{skill:"Understanding of APIs",score:3,notes:""},{skill:"Client-server concepts",score:3,notes:""},{skill:"Basic database concepts",score:3,notes:""},{skill:"Scalability & Performance awareness",score:3,notes:""}],summary:""},{id:"teamwork",title:"6.   (Communication & Collaboration)",weight:10,items:[{skill:"Explaining technical ideas",score:3,notes:""},{skill:"Working with feedback",score:3,notes:""},{skill:"Pair programming & teamwork",score:3,notes:""},{skill:"Asking clarifying questions",score:3,notes:""}],summary:""}],IG=[{id:"system-design",title:"1. System Design & Architecture",weight:30,items:[{skill:"Designing scalable systems",score:3,notes:""},{skill:"Breaking architecture into components",score:3,notes:""},{skill:"API design & integration",score:3,notes:""},{skill:"Database modeling & optimization",score:3,notes:""},{skill:"Considering performance, security, reliability",score:3,notes:""}],summary:""},{id:"problem-solving-adv",title:"2. Advanced Problem-Solving & Code Quality",weight:20,items:[{skill:"Solving complex engineering problems",score:3,notes:""},{skill:"Optimizing algorithms & performance",score:3,notes:""},{skill:"Writing clean, maintainable, scalable code",score:3,notes:""},{skill:"Applying design patterns effectively",score:3,notes:""},{skill:"Handling ambiguity in requirements",score:3,notes:""}],summary:""},{id:"tech-leadership",title:"3. Technical Leadership & Collaboration",weight:15,items:[{skill:"Mentoring junior/mid engineers",score:3,notes:""},{skill:"Leading technical discussions",score:3,notes:""},{skill:"Driving engineering decisions",score:3,notes:""},{skill:"Cross-team collaboration",score:3,notes:""},{skill:"Communicating complex ideas clearly",score:3,notes:""}],summary:""},{id:"best-practices-adv",title:"4. Software Engineering Best Practices",weight:15,items:[{skill:"Code reviews (depth, clarity, impact)",score:3,notes:""},{skill:"Testing strategy (unit, integration, automation)",score:3,notes:""},{skill:"CI/CD pipeline understanding",score:3,notes:""},{skill:"Observability (logging, metrics, tracing)",score:3,notes:""},{skill:"DevOps & deployment awareness",score:3,notes:""}],summary:""},{id:"ownership-delivery",title:"5. Ownership & Delivery",weight:10,items:[{skill:"Taking ownership of projects end-to-end",score:3,notes:""},{skill:"Estimation accuracy & planning",score:3,notes:""},{skill:"Delivering high-quality work on time",score:3,notes:""},{skill:"Managing ambiguity & risk",score:3,notes:""}],summary:""},{id:"stakeholder-interaction",title:"6. Communication & Stakeholder Interaction",weight:10,items:[{skill:"Communicating with non-technical stakeholders",score:3,notes:""},{skill:"Presenting architecture / solution proposals",score:3,notes:""},{skill:"Managing technical disagreements",score:3,notes:""},{skill:"Documentation quality",score:3,notes:""}],summary:""}],CG=[{id:"strategy-leadership",title:"1. Technical Strategy & Architecture Leadership",weight:30,items:[{skill:"Defining longterm technical direction",score:3,notes:""},{skill:"Architecture for large-scale systems",score:3,notes:""},{skill:"Designing for reliability, performance & cost",score:3,notes:""},{skill:"Setting engineering standards & best practices",score:3,notes:""},{skill:"Making highimpact technical decisions",score:3,notes:""}],summary:""},{id:"deep-expertise",title:"2. Complex System Design & Deep Technical Expertise",weight:20,items:[{skill:"Designing distributed systems",score:3,notes:""},{skill:"Deep expertise in critical tech stack",score:3,notes:""},{skill:"Understanding of data architecture & flows",score:3,notes:""},{skill:"Handling ambiguity in complex designs",score:3,notes:""},{skill:"Innovating technical solutions",score:3,notes:""}],summary:""},{id:"cross-team-influence",title:"3. CrossTeam Technical Leadership & Influence",weight:15,items:[{skill:"Influencing across multiple teams/orgs",score:3,notes:""},{skill:"Leading architecture reviews",score:3,notes:""},{skill:"Driving alignment between engineering groups",score:3,notes:""},{skill:"Supporting and unblocking teams",score:3,notes:""},{skill:"Communicating technical vision",score:3,notes:""}],summary:""},{id:"mentorship-culture",title:"4. Mentorship, Talent Development & Engineering Culture",weight:10,items:[{skill:"Mentoring senior/mid engineers",score:3,notes:""},{skill:"Growing technical leaders",score:3,notes:""},{skill:"Raising engineering quality standards",score:3,notes:""},{skill:"Fostering impactful learning culture",score:3,notes:""}],summary:""},{id:"execution-impact",title:"5. Execution, Ownership & Impact Delivery",weight:15,items:[{skill:"Executing large, multi-quarter initiatives",score:3,notes:""},{skill:"Driving clarity in ambiguous situations",score:3,notes:""},{skill:"Managing risk, trade-offs, and dependencies",score:3,notes:""},{skill:"Delivering measurable business impact",score:3,notes:""},{skill:"Ensuring long-term maintainability",score:3,notes:""}],summary:""},{id:"stakeholder-alignment",title:"6. Communication, Stakeholder Alignment & Influence",weight:10,items:[{skill:"Communicating with executives & non-technical leads",score:3,notes:""},{skill:"Translating strategy into actionable engineering plans",score:3,notes:""},{skill:"Writing high-quality technical documents",score:3,notes:""},{skill:"Handling conflict and technical disagreements",score:3,notes:""}],summary:""}],RG=({registration:n,onComplete:e,onCancel:t})=>{const[i,r]=U.useState(0),[a,c]=U.useState(!1),[h,m]=U.useState(null),[f,g]=U.useState(null),[E,T]=U.useState(!1),b=n.level==="junior"?NG:AG,[I,L]=U.useState(JSON.parse(JSON.stringify(b))),M=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong for Level"],j=()=>{let N=0;return I.forEach(P=>{const D=P.items.reduce((F,V)=>F+V.score,0)/(P.items.length*5);N+=D*P.weight}),Math.round(N)},H=(N,P,D)=>{const F=[...I];F[N].items[P].score=D,L(F)},z=(N,P,D)=>{const F=[...I];F[N].items[P].notes=D,L(F)},ne=async(N,P)=>{const D=I[N].items[P];m(`${N}-${P}`);const F=await fc.suggestNote(D.skill,D.score,n.level==="junior"?"Junior Level":"Fresh Level");z(N,P,F),m(null)},oe=async()=>{var F;c(!0);const N=j(),P=((F=Nt.currentUser)==null?void 0:F.displayName)||"",D=await fc.generateFinalReport(n.fullName,P,n.level==="junior"?"Junior Software Engineer":"Fresh Software Engineer",{sections:I.map(V=>({title:V.title,score:`${Math.round(V.items.reduce((xe,Ce)=>xe+Ce.score,0)/(V.items.length*5)*V.weight)}/${V.weight}`,items:V.items.map(xe=>({skill:xe.skill,score:xe.score,notes:xe.notes}))})),totalScore:`${N}/100`});D&&(g(D),T(!0)),c(!1)},q=async()=>{c(!0);try{const N=pn(gt,"registrations",n.id);await dc(N,{status:"completed",evaluationReport:f,finalScore:j(),completedAt:Br()}),e()}catch{alert("   .")}finally{c(!1)}},R=I[i],C=j();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-2xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300 overflow-hidden",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0 border-b-4 border-accent",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-accent to-teal-400 rounded-3xl flex items-center justify-center shadow-lg shadow-accent/40 animate-pulse",children:u.jsx(Uv,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("h2",{className:"text-xl md:text-2xl font-black",children:n.fullName}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ts,{className:"w-4 h-4"}),u.jsxs("span",{className:"uppercase tracking-widest",children:[n.level," Assessment Flow"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8 bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:"Section"}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[i+1," / ",I.length]})]}),u.jsx("div",{className:"h-10 w-px bg-white/10"}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:"Live Score"}),u.jsxs("div",{className:`text-3xl font-black transition-all duration-500 ${C>=75?"text-emerald-400":C>=60?"text-amber-400":"text-rose-400"}`,children:[C,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2.5 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-accent shadow-[0_0_20px_rgba(13,148,136,0.6)] transition-all duration-1000 ease-out",style:{width:`${(i+1)/I.length*100}%`}})})]}),E?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[4rem] border-4 border-dashed border-gray-200 relative",children:[u.jsxs("div",{className:"flex items-center justify-between mb-12 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-3xl flex items-center justify-center shadow-lg shadow-emerald-100",children:u.jsx(ws,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-3xl font-black text-gray-800",children:"  "}),u.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"     "})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("button",{onClick:()=>T(!1),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 rounded-2xl font-black text-gray-600 hover:bg-gray-100 transition-all",children:[u.jsx(jv,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview",className:"bg-white rounded-[3rem] p-8 md:p-12 shadow-2xl border border-gray-100 prose prose-teal max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  :"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[j(),"%"]})]}),u.jsx("textarea",{value:f||"",onChange:N=>g(N.target.value),className:"w-full min-h-[600px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 custom-scrollbar"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center text-accent shadow-inner",children:u.jsx(xm,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:R.title})]}),u.jsxs("div",{className:"text-[10px] font-black bg-accent/10 text-accent px-3 py-1 rounded-full border border-accent/20",children:["WEIGHT: ",R.weight,"%"]})]}),u.jsx("div",{className:"space-y-16",children:R.items.map((N,P)=>u.jsxs("div",{className:"group/item animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${P*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-8 mb-8",children:[u.jsxs("div",{className:"space-y-2 flex-grow",children:[u.jsxs("label",{className:"text-xl font-bold text-gray-900 flex items-center gap-4",children:[u.jsx("span",{className:"w-8 h-8 rounded-xl bg-primary text-white flex items-center justify-center text-xs shadow-md group-hover/item:bg-accent transition-colors",children:P+1}),N.skill]}),u.jsxs("p",{className:"text-sm text-gray-400 mr-12 leading-relaxed",children:["Evaluate the candidate's depth and practical application of ",N.skill.toLowerCase()," for the ",n.level," level."]})]}),u.jsx("div",{className:"flex flex-wrap gap-3 shrink-0 justify-end",children:[1,2,3,4,5].map(D=>u.jsxs("button",{onClick:()=>H(i,P,D),className:`
                            group/btn relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-110 active:scale-95
                            ${N.score===D?D>=4?"bg-emerald-500 border-emerald-400 text-white shadow-xl shadow-emerald-100":D===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-xl shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/40 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:D}),u.jsx("span",{className:"text-[7px] font-black mt-1 opacity-0 group-hover/btn:opacity-100 transition-opacity absolute -bottom-6 bg-gray-800 text-white px-2 py-0.5 rounded whitespace-nowrap z-20 pointer-events-none",children:M[D-1]})]},D))})]}),u.jsxs("div",{className:"relative mr-12 group/note",children:[u.jsx("div",{className:"absolute -left-1 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within/note:bg-accent transition-colors"}),u.jsx("textarea",{value:N.notes,onChange:D=>z(i,P,D.target.value),placeholder:"        ...",className:"w-full bg-gray-50 border border-gray-200 rounded-3xl p-6 pr-6 pl-16 text-sm focus:bg-white focus:ring-4 focus:ring-accent/10 focus:border-accent outline-none min-h-[120px] transition-all"}),u.jsx("button",{onClick:()=>ne(i,P),disabled:h===`${i}-${P}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-200 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-md transition-all flex items-center gap-2 group/ai active:scale-90",title:"AI Magic Notes",children:h===`${i}-${P}`?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(kr,{className:"w-5 h-5 group-hover/ai:rotate-12"}),u.jsx("span",{className:"text-[10px] font-black hidden lg:block",children:" "})]})})]})]},P))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/80 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsxs("button",{onClick:t,className:"text-gray-400 hover:text-rose-500 font-black text-sm flex items-center gap-2 transition-colors",children:[u.jsx(Ir,{className:"w-5 h-5"}),"   "]}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:E?u.jsxs(We,{onClick:q,disabled:a,className:"w-full md:w-auto px-16 py-5 rounded-[2rem] gap-4 shadow-2xl shadow-emerald-300 bg-emerald-600 hover:bg-emerald-700 border-none text-xl",children:[a?u.jsx(Tt,{className:"w-6 h-6 animate-spin"}):u.jsx(Nd,{className:"w-6 h-6"}),"   "]}):u.jsxs(u.Fragment,{children:[i>0&&u.jsx(We,{variant:"outline",onClick:()=>r(i-1),className:"flex-1 md:flex-none rounded-2xl px-10",children:""}),i<I.length-1?u.jsx(We,{onClick:()=>r(i+1),className:"flex-1 md:flex-none rounded-2xl px-12 gap-3 group",children:""}):u.jsxs(We,{onClick:oe,disabled:a,className:"flex-1 md:flex-none rounded-2xl px-12 gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-2xl shadow-accent/30",children:[a?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(kr,{className:"w-5 h-5"}),"   "]})]})})]})]})})},DG=({registration:n,onComplete:e,onCancel:t})=>{const[i,r]=U.useState(0),[a,c]=U.useState(!1),[h,m]=U.useState(null),[f,g]=U.useState(null),[E,T]=U.useState(!1),[b,I]=U.useState(JSON.parse(JSON.stringify(IG))),L=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong Expert"],M=()=>{let C=0;return b.forEach(N=>{const P=N.items.reduce((D,F)=>D+F.score,0)/(N.items.length*5);C+=P*N.weight}),Math.round(C)},j=(C,N,P)=>{const D=[...b];D[C].items[N].score=P,I(D)},H=(C,N,P)=>{const D=[...b];D[C].items[N].notes=P,I(D)},z=async(C,N)=>{const P=b[C].items[N];m(`${C}-${N}`);const D=await fc.suggestNote(P.skill,P.score,"Senior Level");H(C,N,D),m(null)},ne=async()=>{var D;c(!0);const C=M(),N=((D=Nt.currentUser)==null?void 0:D.displayName)||"",P=await fc.generateFinalReport(n.fullName,N,"Senior Software Engineer",{sections:b.map(F=>({title:F.title,score:`${Math.round(F.items.reduce((V,xe)=>V+xe.score,0)/(F.items.length*5)*F.weight)}/${F.weight}`,items:F.items.map(V=>({skill:V.skill,score:V.score,notes:V.notes}))})),totalScore:`${C}/100`});P&&(g(P),T(!0)),c(!1)},oe=async()=>{c(!0);try{const C=pn(gt,"registrations",n.id);await dc(C,{status:"completed",evaluationReport:f,finalScore:M(),completedAt:Br()}),e()}catch{alert("   .")}finally{c(!1)}},q=b[i],R=M();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-accent rounded-3xl flex items-center justify-center shadow-lg shadow-accent/20 animate-pulse",children:u.jsx(Uv,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right md:text-right",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-black",children:[": ",n.fullName]}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ts,{className:"w-4 h-4"}),u.jsx("span",{children:"Senior Level Assessment Flow"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[i+1," / ",b.length]})]}),u.jsx("div",{className:"h-12 w-px bg-white/10 hidden md:block"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:" "}),u.jsxs("div",{className:`text-4xl font-black transition-colors duration-500 ${R>=80?"text-emerald-400":R>=65?"text-amber-400":"text-rose-400"}`,children:[R,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent shadow-[0_0_15px_rgba(13,148,136,0.8)] transition-all duration-700",style:{width:`${(i+1)/b.length*100}%`}})})]}),E?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[3rem] border-2 border-dashed border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-10 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center",children:u.jsx(ws,{className:"w-7 h-7"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:"   (Senior)"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(We,{variant:"outline",className:"gap-2 rounded-2xl",onClick:()=>T(!1),children:[u.jsx(jv,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview-senior",className:"bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 prose prose-slate max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  (Senior):"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[M(),"%"]})]}),u.jsx("textarea",{value:f||"",onChange:C=>g(C.target.value),className:"w-full min-h-[500px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 text-right"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center text-gray-400",children:u.jsx(xm,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-black text-gray-800",children:q.title})]}),u.jsx("div",{className:"space-y-16",children:q.items.map((C,N)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${N*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[u.jsxs("div",{className:"space-y-1 flex-grow",children:[u.jsxs("label",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[u.jsx("span",{className:"w-6 h-6 rounded-lg bg-primary/5 text-primary flex items-center justify-center text-xs",children:N+1}),C.skill]}),u.jsx("p",{className:"text-xs text-gray-400 mr-9",children:"       ."})]}),u.jsx("div",{className:"flex flex-wrap gap-2 shrink-0 justify-end",children:[1,2,3,4,5].map(P=>u.jsxs("button",{onClick:()=>j(i,N,P),className:`
                            group relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-105 active:scale-95
                            ${C.score===P?P>=4?"bg-emerald-500 border-emerald-400 text-white shadow-lg shadow-emerald-100":P===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-lg shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/30 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:P}),u.jsx("span",{className:"text-[8px] font-bold mt-1 text-center leading-tight opacity-0 group-hover:opacity-100 transition-opacity absolute -top-8 bg-gray-900 text-white px-2 py-1 rounded whitespace-nowrap z-10 pointer-events-none",children:L[P-1]})]},P))})]}),u.jsxs("div",{className:"relative group mr-9",children:[u.jsx("div",{className:"absolute -right-7 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within:bg-accent transition-colors"}),u.jsx("textarea",{value:C.notes,onChange:P=>H(i,N,P.target.value),placeholder:"       ...",className:"w-full bg-gray-50 border border-gray-100 rounded-[1.5rem] p-5 pr-5 pl-14 text-sm focus:bg-white focus:ring-2 focus:ring-accent outline-none min-h-[100px] transition-all text-right"}),u.jsx("button",{onClick:()=>z(i,N),disabled:h===`${i}-${N}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-100 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-sm transition-all flex items-center gap-2 group/ai",title:"  ",children:h===`${i}-${N}`?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(kr,{className:"w-5 h-5 group-hover/ai:animate-bounce"}),u.jsx("span",{className:"text-[10px] font-black hidden group-hover/ai:block",children:" "})]})})]})]},N))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/50 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsx(We,{variant:"outline",onClick:t,className:"w-full md:w-auto rounded-2xl",children:" "}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:E?u.jsxs(We,{onClick:oe,disabled:a,className:"w-full md:w-auto px-10 rounded-2xl gap-3 shadow-2xl shadow-emerald-200 bg-emerald-600 hover:bg-emerald-700 border-none",children:[a?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(Nd,{className:"w-5 h-5"}),"   "]}):u.jsxs(u.Fragment,{children:[i>0&&u.jsx(We,{variant:"outline",onClick:()=>r(i-1),className:"flex-1 md:flex-none rounded-2xl",children:""}),i<b.length-1?u.jsx(We,{onClick:()=>r(i+1),className:"flex-1 md:flex-none rounded-2xl gap-2",children:""}):u.jsxs(We,{onClick:ne,disabled:a,className:"flex-1 md:flex-none rounded-2xl gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-xl shadow-accent/20",children:[a?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(kr,{className:"w-5 h-5 animate-pulse"}),"   "]})]})})]})]})})},MG=({registration:n,onComplete:e,onCancel:t})=>{const[i,r]=U.useState(0),[a,c]=U.useState(!1),[h,m]=U.useState(null),[f,g]=U.useState(null),[E,T]=U.useState(!1),[b,I]=U.useState(JSON.parse(JSON.stringify(CG))),L=["Not Demonstrated","Basic Awareness","Developing","Competent","Strong Expert"],M=()=>{let C=0;return b.forEach(N=>{const P=N.items.reduce((D,F)=>D+F.score,0)/(N.items.length*5);C+=P*N.weight}),Math.round(C)},j=(C,N,P)=>{const D=[...b];D[C].items[N].score=P,I(D)},H=(C,N,P)=>{const D=[...b];D[C].items[N].notes=P,I(D)},z=async(C,N)=>{const P=b[C].items[N];m(`${C}-${N}`);const D=await fc.suggestNote(P.skill,P.score,"Staff Level");H(C,N,D),m(null)},ne=async()=>{var D;c(!0);const C=M(),N=((D=Nt.currentUser)==null?void 0:D.displayName)||"",P=await fc.generateFinalReport(n.fullName,N,"Staff Software Engineer",{sections:b.map(F=>({title:F.title,score:`${Math.round(F.items.reduce((V,xe)=>V+xe.score,0)/(F.items.length*5)*F.weight)}/${F.weight}`,items:F.items.map(V=>({skill:V.skill,score:V.score,notes:V.notes}))})),totalScore:`${C}/100`});P&&(g(P),T(!0)),c(!1)},oe=async()=>{c(!0);try{const C=pn(gt,"registrations",n.id);await dc(C,{status:"completed",evaluationReport:f,finalScore:M(),completedAt:Br()}),e()}catch{alert("   .")}finally{c(!1)}},q=b[i],R=M();return u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-0 md:p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-5xl md:h-[90vh] md:rounded-[3rem] shadow-2xl flex flex-col animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-10 text-white relative shrink-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-accent rounded-3xl flex items-center justify-center shadow-lg shadow-accent/20 animate-pulse",children:u.jsx(Uv,{className:"w-9 h-9"})}),u.jsxs("div",{className:"text-right md:text-right",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-black",children:[": ",n.fullName]}),u.jsxs("div",{className:"flex items-center gap-2 text-accent/90 text-sm font-bold mt-1",children:[u.jsx(Ts,{className:"w-4 h-4"}),u.jsx("span",{children:"Staff Level Assessment Flow"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"text-xl font-black text-accent",children:[i+1," / ",b.length]})]}),u.jsx("div",{className:"h-12 w-px bg-white/10 hidden md:block"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest mb-1",children:" "}),u.jsxs("div",{className:`text-4xl font-black transition-colors duration-500 ${R>=85?"text-emerald-400":R>=70?"text-amber-400":"text-rose-400"}`,children:[R,"%"]})]})]})]}),u.jsx("div",{className:"mt-8 h-2 w-full bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-accent shadow-[0_0_15px_rgba(13,148,136,0.8)] transition-all duration-700",style:{width:`${(i+1)/b.length*100}%`}})})]}),E?u.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar",children:u.jsxs("div",{className:"bg-gray-50 p-6 md:p-12 rounded-[3rem] border-2 border-dashed border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-10 flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center",children:u.jsx(ws,{className:"w-7 h-7"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-800",children:"   (Staff)"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(We,{variant:"outline",className:"gap-2 rounded-2xl",onClick:()=>T(!1),children:[u.jsx(jv,{className:"w-5 h-5"}),"  "]})})]}),u.jsxs("div",{id:"final-report-preview-staff",className:"bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 prose prose-slate max-w-none dir-rtl text-right",children:[u.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex justify-between items-center no-pdf",children:[u.jsx("span",{className:"font-bold text-emerald-800",children:"  (Staff):"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-600",children:[M(),"%"]})]}),u.jsx("textarea",{value:f||"",onChange:C=>g(C.target.value),className:"w-full min-h-[500px] text-gray-700 font-medium leading-relaxed outline-none border-none resize-none focus:ring-0 text-right"})]})]})}):u.jsxs("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar space-y-12",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center text-gray-400",children:u.jsx(xm,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-xl font-black text-gray-800",children:q.title})]}),u.jsx("div",{className:"space-y-16",children:q.items.map((C,N)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${N*100}ms`},children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[u.jsxs("div",{className:"space-y-1 flex-grow",children:[u.jsxs("label",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[u.jsx("span",{className:"w-6 h-6 rounded-lg bg-primary/5 text-primary flex items-center justify-center text-xs",children:N+1}),C.skill]}),u.jsx("p",{className:"text-xs text-gray-400 mr-9",children:"       ."})]}),u.jsx("div",{className:"flex flex-wrap gap-2 shrink-0 justify-end",children:[1,2,3,4,5].map(P=>u.jsxs("button",{onClick:()=>j(i,N,P),className:`
                            group relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl border-2 transition-all transform hover:scale-105 active:scale-95
                            ${C.score===P?P>=4?"bg-emerald-500 border-emerald-400 text-white shadow-lg shadow-emerald-100":P===3?"bg-amber-500 border-amber-400 text-white shadow-xl shadow-amber-100":"bg-rose-500 border-rose-400 text-white shadow-lg shadow-rose-100":"bg-white border-gray-100 text-gray-400 hover:border-accent/30 hover:bg-accent/5"}
                          `,children:[u.jsx("span",{className:"text-xl font-black leading-none",children:P}),u.jsx("span",{className:"text-[8px] font-bold mt-1 text-center leading-tight opacity-0 group-hover:opacity-100 transition-opacity absolute -top-8 bg-gray-900 text-white px-2 py-1 rounded whitespace-nowrap z-10 pointer-events-none",children:L[P-1]})]},P))})]}),u.jsxs("div",{className:"relative group mr-9",children:[u.jsx("div",{className:"absolute -right-7 top-0 bottom-0 w-1 bg-gray-100 rounded-full group-focus-within:bg-accent transition-colors"}),u.jsx("textarea",{value:C.notes,onChange:P=>H(i,N,P.target.value),placeholder:"       ...",className:"w-full bg-gray-50 border border-gray-100 rounded-[1.5rem] p-5 pr-5 pl-14 text-sm focus:bg-white focus:ring-2 focus:ring-accent outline-none min-h-[100px] transition-all text-right"}),u.jsx("button",{onClick:()=>z(i,N),disabled:h===`${i}-${N}`,className:"absolute left-4 bottom-4 p-3 bg-white border border-gray-100 text-accent hover:bg-accent hover:text-white rounded-2xl shadow-sm transition-all flex items-center gap-2 group/ai",title:"  ",children:h===`${i}-${N}`?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(kr,{className:"w-5 h-5 group-hover/ai:animate-bounce"}),u.jsx("span",{className:"text-[10px] font-black hidden group-hover/ai:block",children:" "})]})})]})]},N))})]}),u.jsxs("div",{className:"p-6 md:p-10 border-t border-gray-100 bg-gray-50/50 flex flex-col md:flex-row justify-between items-center gap-6 shrink-0",children:[u.jsx(We,{variant:"outline",onClick:t,className:"w-full md:w-auto rounded-2xl",children:" "}),u.jsx("div",{className:"flex gap-4 w-full md:w-auto",children:E?u.jsxs(We,{onClick:oe,disabled:a,className:"w-full md:w-auto px-10 rounded-2xl gap-3 shadow-2xl shadow-emerald-200 bg-emerald-600 hover:bg-emerald-700 border-none",children:[a?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(Nd,{className:"w-5 h-5"}),"   "]}):u.jsxs(u.Fragment,{children:[i>0&&u.jsx(We,{variant:"outline",onClick:()=>r(i-1),className:"flex-1 md:flex-none rounded-2xl",children:""}),i<b.length-1?u.jsx(We,{onClick:()=>r(i+1),className:"flex-1 md:flex-none rounded-2xl gap-2",children:""}):u.jsxs(We,{onClick:ne,disabled:a,className:"flex-1 md:flex-none rounded-2xl gap-3 bg-gradient-to-r from-accent to-emerald-600 border-none shadow-xl shadow-accent/20",children:[a?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(kr,{className:"w-5 h-5 animate-pulse"}),"   "]})]})})]})]})})},{onAuthStateChanged:kG}=Hi,vR=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(null),[c,h]=U.useState(null),[m,f]=U.useState(""),[g,E]=U.useState("ALL"),[T,b]=U.useState(1),I=10,[L,M]=U.useState(null),[j,H]=U.useState(null),[z,ne]=U.useState(0),[oe,q]=U.useState(null),[R,C]=U.useState(null),[N,P]=U.useState(null),[D,F]=U.useState(null),[V,xe]=U.useState(null),[Ce,W]=U.useState(""),[ce,Ee]=U.useState(!1),[He,Le]=U.useState(!1),[G,$]=U.useState({meeting:"",report:"",video:""}),me=async()=>{i(!0);try{const fe=qr(Cs(gt,"registrations")),Me=await Hr(fe),pt=[];Me.forEach(Kn=>{const Yn=Kn.data();pt.push({id:Kn.id,...Yn})}),pt.sort((Kn,Yn)=>{var Ai,Ni;const hi=((Ai=Kn.submittedAt)==null?void 0:Ai.seconds)||0;return(((Ni=Yn.submittedAt)==null?void 0:Ni.seconds)||0)-hi}),e(pt)}catch(fe){console.error("Error fetching registrations:",fe),h("   .")}finally{i(!1)}};U.useEffect(()=>{const fe=kG(Nt,async Me=>{if(Me){const pt=await Rs(pn(gt,"users",Me.uid));pt.exists()&&a(pt.data())}});return me(),()=>fe()},[]),U.useEffect(()=>{b(1)},[m,g]);const ye=fe=>{M(fe),W(fe.status||"pending")},Re=async fe=>{if(H(fe),fe.userId)try{const Me=await Rs(pn(gt,"users",fe.userId));Me.exists()&&ne(Me.data().referralCount||0)}catch{ne(0)}},Fe=fe=>{q(fe)},tt=fe=>{const Me=document.getElementById("admin-report-to-print");if(!Me)return;Le(!0);const pt={margin:10,filename:`__${fe}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(pt).from(Me).save().then(()=>{Le(!1)}).catch(Kn=>{Le(!1)})},Qt=fe=>{C(fe),$({meeting:fe.meetingLink||"",report:fe.reportLink||"",video:fe.videoLink||""})},Qe=()=>{M(null),H(null),ne(0),q(null),C(null),P(null),F(null),xe(null),Ee(!1)},ds=async()=>{if(L){Ee(!0);try{const fe=pn(gt,"registrations",L.id);await dc(fe,{status:Ce}),e(Me=>Me.map(pt=>pt.id===L.id?{...pt,status:Ce}:pt)),Qe()}catch{alert("   .")}finally{Ee(!1)}}},en=async()=>{if(R){Ee(!0);try{const fe=pn(gt,"registrations",R.id);await dc(fe,{meetingLink:G.meeting,reportLink:G.report,videoLink:G.video}),e(Me=>Me.map(pt=>pt.id===R.id?{...pt,meetingLink:G.meeting,reportLink:G.report,videoLink:G.video}:pt)),Qe()}catch{alert("   .")}finally{Ee(!1)}}},ui=fe=>{switch(fe){case"completed":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:""});case"approved":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:""});case"canceled":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:""});case"reviewing":return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:" "});default:return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:" "})}},Bi=fe=>{switch(fe){case"fresh":return" (fresh)";case"junior":return" (junior)";case"mid-senior":return"  (mid/senior)";case"lead-staff":return" (lead/staff)";default:return fe}},zn=(r==null?void 0:r.role)==="admin",$n=(r==null?void 0:r.role)==="maintainer",di=(r==null?void 0:r.role)==="interviewer",Ps=r==null?void 0:r.field,or={FE:"Frontend",BE:"Backend",UX:"UX Design",mobile:"Mobile App"},Lt=n.filter(fe=>{var Ai,Ni,Ls,Jn;if(di&&Ps&&!zn){const tn=or[Ps];if(fe.field!==tn||fe.status!=="approved"&&fe.status!=="completed")return!1}const Me=m.toLowerCase().trim(),pt=g==="ALL"||fe.status===g||!fe.status&&g==="pending";if(!Me&&pt)return!0;const Kn=((Ai=fe.email)==null?void 0:Ai.toLowerCase().includes(Me))||!1,Yn=((Ni=fe.whatsapp)==null?void 0:Ni.includes(Me))||!1,hi=((Ls=fe.fullName)==null?void 0:Ls.toLowerCase().includes(Me))||!1,ti=((Jn=fe.requestNumber)==null?void 0:Jn.toLowerCase().includes(Me))||!1;return(Kn||Yn||hi||ti)&&pt}),Ut=Math.ceil(Lt.length/I),Pn=Lt.slice((T-1)*I,T*I),Yr=()=>zn||$n?["pending","reviewing","approved","completed","canceled"]:di?["completed","canceled"]:[];return u.jsxs("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50 relative",children:[u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[u.jsxs("h1",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[u.jsx(zo,{className:"w-8 h-8 text-accent"})," "]}),u.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm text-sm font-medium text-gray-600 border border-gray-200",children:[" : ",Lt.length]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-grow max-w-md",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(Fv,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:m,onChange:fe=>f(fe.target.value),className:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-accent focus:border-accent bg-white shadow-sm",placeholder:"    ..."})]}),u.jsxs("div",{className:"relative w-full md:w-56",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(Xk,{className:"h-5 w-5 text-gray-400"})}),u.jsxs("select",{value:g,onChange:fe=>E(fe.target.value),className:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg focus:ring-accent focus:border-accent bg-white shadow-sm appearance-none",children:[u.jsx("option",{value:"ALL",children:"  "}),u.jsx("option",{value:"pending",children:" "}),u.jsx("option",{value:"reviewing",children:" "}),u.jsx("option",{value:"approved",children:""}),u.jsx("option",{value:"completed",children:""}),u.jsx("option",{value:"canceled",children:""})]})]})]})]}),t?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Tt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full whitespace-nowrap text-right",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:" "}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:" "}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:Pn.length>0?Pn.map(fe=>u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded border border-gray-200",children:fe.requestNumber||`MQ-${fe.id.slice(0,6).toUpperCase()}`})}),u.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:fe.fullName}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex flex-col text-xs text-gray-600",children:[u.jsx("span",{className:"dir-ltr text-right",children:fe.email}),u.jsx("span",{className:"dir-ltr text-right",children:fe.whatsapp})]})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700",children:fe.field}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded font-bold",children:Bi(fe.level)}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:[fe.experience,"  "]})]})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"flex items-center gap-2",children:ui(fe.status)})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[fe.status==="completed"&&fe.evaluationReport&&u.jsx("button",{onClick:()=>Fe(fe),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  ",children:u.jsx(zo,{className:"w-5 h-5"})}),di&&(fe.status==="approved"||fe.status==="reviewing")&&u.jsxs(u.Fragment,{children:[(fe.level==="fresh"||fe.level==="junior")&&u.jsxs("button",{onClick:()=>P(fe),className:"p-2 text-accent hover:bg-accent/10 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Junior/Fresh",children:[u.jsx(rw,{className:"w-5 h-5"}),"  Jr"]}),fe.level==="mid-senior"&&u.jsxs("button",{onClick:()=>F(fe),className:"p-2 text-primary hover:bg-primary/10 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Senior/Mid",children:[u.jsx(Ts,{className:"w-5 h-5"}),"  Senior"]}),fe.level==="lead-staff"&&u.jsxs("button",{onClick:()=>xe(fe),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors flex items-center gap-1 font-bold text-xs",title:"  Lead/Staff",children:[u.jsx(Ts,{className:"w-5 h-5"}),"  Lead"]})]}),(fe.status==="approved"||fe.status==="completed")&&u.jsx("button",{onClick:()=>Qt(fe),className:"p-2 text-gray-400 hover:text-accent rounded-full transition-colors",title:" ",children:u.jsx(Ly,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>Re(fe),className:"p-2 text-gray-400 hover:text-blue-600 rounded-full transition-colors",title:" ",children:u.jsx(_N,{className:"w-5 h-5"})}),(zn||$n||di)&&u.jsx("button",{onClick:()=>ye(fe),className:"p-2 text-gray-400 hover:text-accent rounded-full transition-colors",title:" ",children:u.jsx(SP,{className:"w-5 h-5"})})]})})]},fe.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"    ."})})})]})})}),Ut>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>b(fe=>Math.max(fe-1,1)),disabled:T===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(Ut)].map((fe,Me)=>u.jsx("button",{onClick:()=>b(Me+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${T===Me+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:Me+1},Me+1))}),u.jsx("button",{onClick:()=>b(fe=>Math.min(fe+1,Ut)),disabled:T===Ut,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(gm,{className:"w-5 h-5 text-gray-600"})})]})]})]}),N&&u.jsx(RG,{registration:N,onComplete:()=>{Qe(),me()},onCancel:Qe}),D&&u.jsx(DG,{registration:D,onComplete:()=>{Qe(),me()},onCancel:Qe}),V&&u.jsx(MG,{registration:V,onComplete:()=>{Qe(),me()},onCancel:Qe}),oe&&u.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/90 backdrop-blur-lg flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl relative animate-in zoom-in-95 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-8 text-white flex justify-between items-center shrink-0 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-accent rounded-2xl flex items-center justify-center shadow-lg shadow-accent/20",children:u.jsx(Ts,{className:"w-6 h-6 md:w-8 md:h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg md:text-xl font-black text-right",children:"  "}),u.jsx("p",{className:"text-accent text-xs font-bold uppercase tracking-widest text-right",children:oe.fullName})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>tt(oe.fullName),disabled:He,className:"p-2 md:p-3 bg-accent/20 hover:bg-accent/30 text-accent rounded-full transition-colors flex items-center gap-2 text-xs md:text-sm font-bold",title:" PDF",children:[He?u.jsx(Tt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:" PDF"})]}),u.jsx("button",{onClick:Qe,className:"p-2 md:p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(Ir,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),u.jsxs("div",{id:"admin-report-to-print",className:"p-6 md:p-10 overflow-y-auto custom-scrollbar flex-grow bg-white",children:[u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100 flex items-center justify-between mb-8 shadow-inner",children:[u.jsx("div",{className:"text-emerald-800 font-black",children:"  :"}),u.jsxs("div",{className:"text-3xl md:text-4xl font-black text-emerald-600",children:["%",oe.finalScore||"-"]})]}),u.jsx("div",{className:"prose prose-slate max-w-none dir-rtl text-right whitespace-pre-wrap leading-loose font-medium text-gray-700",children:oe.evaluationReport})]}),u.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-100 bg-gray-50 flex flex-col md:flex-row justify-center items-center gap-4 shrink-0",children:[u.jsx(We,{variant:"primary",className:"px-12 py-4 w-full md:w-auto text-lg rounded-2xl shadow-xl shadow-accent/20",onClick:Qe,children:" "}),u.jsxs("button",{onClick:()=>tt(oe.fullName),disabled:He,className:"flex items-center justify-center gap-2 px-10 py-4 bg-white border-2 border-accent text-accent rounded-2xl font-bold hover:bg-accent hover:text-white transition-all w-full md:w-auto shadow-sm disabled:opacity-50",children:[He?u.jsx(Tt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),"   PDF"]})]})]})}),L&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-gray-800",children:"  "}),u.jsx("button",{onClick:Qe,className:"text-gray-400 hover:text-red-500",children:u.jsx(Ir,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"space-y-3 mb-8",children:Yr().map(fe=>u.jsxs("label",{className:`flex items-center gap-3 p-4 border rounded-2xl cursor-pointer transition-all ${Ce===fe?"border-accent bg-accent/5 ring-1 ring-accent":"border-gray-100 hover:bg-gray-50"}`,children:[u.jsx("input",{type:"radio",name:"status",value:fe,checked:Ce===fe,onChange:Me=>W(Me.target.value),className:"text-accent focus:ring-accent w-5 h-5"}),u.jsx("span",{className:"font-bold text-sm text-gray-700 capitalize",children:fe==="pending"?" ":fe==="reviewing"?" ":fe==="approved"?"":fe==="completed"?"":""})]},fe))}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(We,{onClick:ds,disabled:ce,className:"flex-1 justify-center rounded-2xl",children:ce?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):" "}),u.jsx(We,{variant:"outline",onClick:Qe,className:"rounded-2xl",children:""})]})]})]})}),j&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-primary px-8 py-6 text-white flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-accent rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx(os,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[u.jsx("h3",{className:"text-xl font-black",children:j.fullName}),z>=15&&u.jsxs("span",{className:"bg-amber-400 text-primary text-[10px] font-black px-2 py-0.5 rounded-lg flex items-center gap-1 animate-pulse",children:[u.jsx(Ts,{className:"w-3 h-3"}),"  "]})]}),u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs text-white/60",children:[u.jsx(EN,{className:"w-3 h-3 text-accent"}),": ",j.requestNumber||j.id.slice(0,8).toUpperCase()]})]})]}),u.jsx("button",{onClick:Qe,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(Ir,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8 text-right",children:[u.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 text-white flex items-center justify-between shadow-xl",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-accent",children:u.jsx(_c,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] font-bold text-white/50 uppercase",children:"  "}),u.jsxs("div",{className:"text-2xl font-black",children:[z," ",u.jsx("span",{className:"text-xs font-normal text-white/40",children:" "})]})]})]}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-[10px] font-bold text-white/50 uppercase",children:" "}),u.jsx("div",{className:`text-sm font-black ${z>=15?"text-emerald-400":"text-amber-400"}`,children:z>=15?"  ":` ${15-z} `})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(na,{className:"w-3.5 h-3.5"}),"  "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700 dir-ltr text-right",children:j.email})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(Ad,{className:"w-3.5 h-3.5"}),"  "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700 dir-ltr text-right",children:j.whatsapp})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(vm,{className:"w-3.5 h-3.5"}),"  / "]}),u.jsx("div",{className:"text-sm font-bold text-gray-700",children:j.country})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[u.jsx(_m,{className:"w-3.5 h-3.5"}),"  LinkedIn"]}),u.jsx("a",{href:j.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-accent hover:underline flex items-center gap-1 dir-ltr justify-end",children:j.linkedin})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-black text-gray-900 flex flex-row-reverse items-center gap-2 text-lg",children:[u.jsx(ta,{className:"w-5 h-5 text-accent"}),"   "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-blue-500 font-bold uppercase mb-1",children:""}),u.jsx("div",{className:"font-bold text-blue-900",children:j.field})]}),u.jsxs("div",{className:"p-4 bg-teal-50 border border-teal-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-teal-500 font-bold uppercase mb-1",children:""}),u.jsx("div",{className:"font-bold text-teal-900",children:Bi(j.level)})]}),u.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-100 rounded-xl",children:[u.jsx("div",{className:"text-[10px] text-purple-500 font-bold uppercase mb-1",children:" "}),u.jsxs("div",{className:"font-bold text-purple-900",children:[j.experience," "]})]})]})]}),j.evaluationReport&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-black text-gray-900 flex flex-row-reverse items-center gap-2 text-lg",children:[u.jsx(rw,{className:"w-5 h-5 text-emerald-500"}),"   "]}),u.jsx("div",{className:"p-6 bg-emerald-50/30 border-2 border-emerald-100 rounded-[2rem] text-sm text-gray-700 leading-relaxed overflow-x-auto text-right dir-rtl",children:u.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:j.evaluationReport})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(vN,{className:"w-4 h-4"}),"  "]}),u.jsx("div",{className:"flex flex-row-reverse flex-wrap gap-2",children:j.techStack.map((fe,Me)=>u.jsx("span",{className:"px-3 py-1 bg-white border border-gray-200 text-gray-700 text-xs font-bold rounded-lg shadow-sm",children:fe},Me))})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(vc,{className:"w-4 h-4"}),"   "]}),u.jsxs("div",{className:"p-5 bg-gray-50 border border-gray-200 rounded-2xl text-sm text-gray-700 leading-relaxed italic",children:['"',j.expectations,'"']})]})]}),u.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end shrink-0 bg-gray-50",children:u.jsx(We,{onClick:Qe,children:""})})]})}),R&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"bg-accent px-6 py-5 flex items-center justify-between text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ly,{className:"w-6 h-6"}),u.jsx("h3",{className:"font-black",children:" "})]}),u.jsx("button",{onClick:Qe,className:"hover:bg-white/10 p-2 rounded-full",children:u.jsx(Ir,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (Zoom/Meet)"}),u.jsx("input",{type:"url",value:G.meeting,onChange:fe=>$({...G,meeting:fe.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (Drive)"}),u.jsx("input",{type:"url",value:G.report,onChange:fe=>$({...G,report:fe.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-gray-500 mb-2 mr-1",children:"  (YouTube/Loom)"}),u.jsx("input",{type:"url",value:G.video,onChange:fe=>$({...G,video:fe.target.value}),className:"w-full px-5 py-3 bg-gray-50 border border-gray-100 rounded-2xl focus:ring-2 focus:ring-accent outline-none text-sm dir-ltr",placeholder:"https://..."})]})]}),u.jsxs("div",{className:"pt-4 flex gap-3",children:[u.jsxs(We,{onClick:en,disabled:ce,className:"flex-1 justify-center rounded-2xl gap-2",children:[ce?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsx(Nd,{className:"w-5 h-5"}),"  "]}),u.jsx(We,{variant:"outline",onClick:Qe,className:"flex-none rounded-2xl",children:""})]})]})]})})]})},{onAuthStateChanged:PG}=Hi,{useNavigate:LG}=Ms,UG=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(null),[c,h]=U.useState(null),[m,f]=U.useState(!1),[g,E]=U.useState(!1),[T,b]=U.useState(!1),[I,L]=U.useState({interview:"",platform:"",interviewer:"",improvements:""}),M=LG();U.useEffect(()=>{const q=PG(Nt,async R=>{if(R)try{const C=qr(Cs(gt,"registrations"),Dc("userId","==",R.uid)),N=await Hr(C),P=[];N.forEach(D=>{const F=D.data();P.push({id:D.id,...F})}),P.sort((D,F)=>{var Ce,W;const V=((Ce=D.submittedAt)==null?void 0:Ce.seconds)||0;return(((W=F.submittedAt)==null?void 0:W.seconds)||0)-V}),e(P)}catch(C){console.error("Error fetching requests:",C)}finally{i(!1)}else M("/login")});return()=>q()},[M]);const j=q=>{const R=document.getElementById("report-to-print");if(!R)return;b(!0);const C={margin:10,filename:`__${q}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(C).from(R).save().then(()=>{b(!1)}).catch(N=>{console.error("PDF Download Error:",N),b(!1)})},H=async q=>{var R,C,N;if(!I.interview||!I.platform||!I.interviewer){alert("   ");return}f(!0);try{await vI(Cs(gt,"reviews"),{requestId:q.id,userId:(R=Nt.currentUser)==null?void 0:R.uid,userName:q.fullName||((C=Nt.currentUser)==null?void 0:C.displayName),userEmail:q.email||((N=Nt.currentUser)==null?void 0:N.email),userPhone:q.whatsapp||"",interviewFeedback:I.interview,platformFeedback:I.platform,interviewerFeedback:I.interviewer,improvementIdeas:I.improvements,submittedAt:Br()}),E(!0),setTimeout(()=>{a(null),E(!1),L({interview:"",platform:"",interviewer:"",improvements:""})},2e3)}catch(P){console.error("Error saving review:",P),alert("    ")}finally{f(!1)}},z=q=>q?q.seconds?new Date(q.seconds*1e3).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):new Date(q).toLocaleDateString("ar-EG"):" ",ne=q=>{const R={completed:"bg-green-100 text-green-800 border-green-200",approved:"bg-blue-100 text-blue-800 border-blue-200",canceled:"bg-red-100 text-red-800 border-red-200",reviewing:"bg-purple-100 text-purple-800 border-purple-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200"},C={completed:"",approved:" ",canceled:"",reviewing:" ",pending:" "};return u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border ${R[q]||R.pending}`,children:C[q]||" "})},oe=n.some(q=>{const R=q.status||"pending";return["pending","reviewing","approved"].includes(R)});return t?u.jsxs("div",{className:"min-h-screen pt-32 pb-12 flex flex-col items-center justify-center bg-gray-50",children:[u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin mb-4"}),u.jsx("p",{className:"text-gray-500",children:"  ..."})]}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-gray-50 px-4 md:px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:""}),u.jsx("p",{className:"text-gray-500",children:"     "})]}),!oe&&u.jsx(We,{onClick:()=>M("/request-meeting"),children:"  +"})]}),n.length===0?u.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-gray-100",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(zo,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"   "}),u.jsx("p",{className:"text-gray-500 mb-6",children:"      ."}),u.jsx(We,{variant:"outline",onClick:()=>M("/request-meeting"),children:" "})]}):u.jsx("div",{className:"grid gap-6",children:n.map(q=>{var R,C;return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-50 flex flex-wrap justify-between items-center gap-4 bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center text-accent",children:u.jsx(EN,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:q.field}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-0.5",children:[u.jsx("span",{className:"font-bold bg-gray-200 px-1.5 py-0.5 rounded text-gray-700",children:q.requestNumber||`MQ-${q.id.slice(0,6).toUpperCase()}`}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(pN,{className:"w-3 h-3"}),z(q.submittedAt)]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[q.status==="completed"&&u.jsxs("button",{onClick:()=>a(q.id),className:"flex items-center gap-1 text-xs font-bold text-accent hover:text-accentHover bg-accent/5 px-3 py-1 rounded-full border border-accent/20 transition-colors",children:[u.jsx(Xu,{className:"w-3 h-3"})," "]}),ne(q.status)]})]}),u.jsxs("div",{className:"p-6",children:[q.status==="completed"&&q.evaluationReport&&u.jsxs("div",{className:"group relative mb-10 overflow-hidden rounded-[2.5rem] bg-slate-900 p-1 shadow-2xl transition-all hover:scale-[1.01]",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/40 via-emerald-500/40 to-teal-500/40 opacity-50 blur-xl group-hover:opacity-80 transition-opacity"}),u.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-between gap-6 bg-slate-900 px-8 py-8 rounded-[2.4rem] border border-white/10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-right",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-accent rounded-3xl blur-md opacity-40 animate-pulse"}),u.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-accent to-emerald-600 rounded-3xl flex items-center justify-center shadow-xl",children:u.jsx(kr,{className:"w-10 h-10 text-white animate-bounce"})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-2xl font-black text-white flex items-center justify-center md:justify-start gap-2",children:"   !"}),u.jsxs("p",{className:"text-gray-400 text-sm font-medium",children:["   : ",u.jsxs("span",{className:"text-emerald-400 font-black text-lg",children:["%",q.finalScore]}),"   ."]})]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("button",{onClick:()=>h(q.id),className:"group/btn relative flex items-center gap-3 bg-white px-8 py-4 rounded-2xl font-black text-slate-900 shadow-xl transition-all hover:bg-accent hover:text-white active:scale-95",children:[u.jsx(_N,{className:"w-5 h-5 transition-transform group-hover/btn:scale-110"}),"  ",u.jsx(Lv,{className:"w-4 h-4 mr-2 transition-transform group-hover/btn:-translate-x-1"})]}),u.jsx("span",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:"Moqabala AI Agent v3.0"})]})]})]}),(q.status==="completed"||q.status==="approved")&&(q.reportLink||q.videoLink||q.meetingLink)&&u.jsxs("div",{className:"mb-8 p-5 bg-gray-50 rounded-2xl border border-gray-100",children:[u.jsxs("h4",{className:"text-sm font-black text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(iw,{className:"w-4 h-4 text-accent"}),"   "]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[q.reportLink&&u.jsxs("a",{href:q.reportLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(Kk,{className:"w-4 h-4"}),"  ",u.jsx(dy,{className:"w-3 h-3 opacity-50"})]}),q.videoLink&&u.jsxs("a",{href:q.videoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(AN,{className:"w-4 h-4"}),"  ",u.jsx(dy,{className:"w-3 h-3 opacity-50"})]}),q.meetingLink&&u.jsxs("a",{href:q.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl text-xs font-bold border border-gray-100 hover:border-accent hover:text-accent shadow-sm transition-all",children:[u.jsx(Ly,{className:"w-4 h-4"}),"  ",u.jsx(dy,{className:"w-3 h-3 opacity-50"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[u.jsx(ta,{className:"w-4 h-4"}),"  "]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm text-gray-700 font-bold",children:[q.level==="fresh"&&" (fresh)",q.level==="junior"&&" (junior)",q.level==="mid-senior"&&"  (mid/senior)",q.level==="lead-staff"&&" (lead/staff)"]}),(R=q.techStack)==null?void 0:R.map((N,P)=>u.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm border border-blue-100",children:N},P))]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[u.jsx(yN,{className:"w-4 h-4"}),"  "]}),u.jsxs("p",{className:"text-sm text-gray-700",children:[q.preferredTime==="morning"&&" (9 - 12)",q.preferredTime==="evening"&&" (4 - 9)",q.preferredTime==="flexible"&&"   ",!q.preferredTime&&" "]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-500 mb-2",children:"  "}),u.jsx("ul",{className:"space-y-2",children:(C=q.goals)==null?void 0:C.map((N,P)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-1.5 shrink-0"}),N]},P))})]})]})]}),c===q.id&&u.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/90 backdrop-blur-lg flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl relative animate-in zoom-in-95 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-primary p-6 md:p-8 text-white flex justify-between items-center shrink-0 border-b border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-accent rounded-2xl flex items-center justify-center shadow-lg shadow-accent/20",children:u.jsx(Ts,{className:"w-6 h-6 md:w-8 md:h-8"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg md:text-xl font-black",children:"  "}),u.jsx("p",{className:"text-accent text-xs font-bold uppercase tracking-widest",children:q.fullName})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>j(q.fullName),disabled:T,className:"p-2 md:p-3 bg-accent/20 hover:bg-accent/30 text-accent rounded-full transition-colors flex items-center gap-2 text-xs md:text-sm font-bold",title:" PDF",children:[T?u.jsx(Tt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:" PDF"})]}),u.jsx("button",{onClick:()=>h(null),className:"p-2 md:p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(Ir,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),u.jsxs("div",{id:"report-to-print",className:"p-6 md:p-10 overflow-y-auto custom-scrollbar flex-grow bg-white",children:[u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100 flex items-center justify-between mb-8 shadow-inner",children:[u.jsx("div",{className:"text-emerald-800 font-black",children:"  :"}),u.jsxs("div",{className:"text-3xl md:text-4xl font-black text-emerald-600",children:[q.finalScore,"%"]})]}),u.jsx("div",{className:"prose prose-slate max-w-none dir-rtl text-right whitespace-pre-wrap leading-loose font-medium text-gray-700",children:q.evaluationReport})]}),u.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-100 bg-gray-50 flex flex-col md:flex-row justify-center items-center gap-4 shrink-0",children:[u.jsx(We,{variant:"primary",className:"px-12 py-4 w-full md:w-auto text-lg rounded-2xl shadow-xl shadow-accent/20",onClick:()=>h(null),children:"   !"}),u.jsxs("button",{onClick:()=>j(q.fullName),disabled:T,className:"flex items-center justify-center gap-2 px-10 py-4 bg-white border-2 border-accent text-accent rounded-2xl font-bold hover:bg-accent hover:text-white transition-all w-full md:w-auto shadow-sm disabled:opacity-50",children:[T?u.jsx(Tt,{className:"w-4 h-4 animate-spin"}):u.jsx(Of,{className:"w-4 h-4"}),"   (PDF)"]})]})]})}),r===q.id&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-accent px-6 py-4 flex items-center justify-between text-white",children:[u.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[u.jsx(Ov,{className:"w-5 h-5"}),"  "]}),u.jsx("button",{onClick:()=>a(null),className:"hover:rotate-90 transition-transform",children:u.jsx(Ir,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar",children:g?u.jsxs("div",{className:"py-12 text-center space-y-4",children:[u.jsx(iw,{className:"w-16 h-16 text-green-500 mx-auto animate-bounce"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:" !    "})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),u.jsx("textarea",{value:I.interview,onChange:N=>L({...I,interview:N.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"    "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),u.jsx("textarea",{value:I.platform,onChange:N=>L({...I,platform:N.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"   ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),u.jsx("textarea",{value:I.interviewer,onChange:N=>L({...I,interviewer:N.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"     ..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   ()"}),u.jsx("textarea",{value:I.improvements,onChange:N=>L({...I,improvements:N.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-accent focus:border-accent min-h-[80px]",placeholder:"    "})]}),u.jsx("div",{className:"pt-4",children:u.jsx(We,{onClick:()=>H(q),disabled:m,className:"w-full justify-center text-lg",children:m?u.jsx(Tt,{className:"w-6 h-6 animate-spin"}):" "})})]})})]})})]},q.id)})})]})})},{signInWithEmailAndPassword:VG,signInWithPopup:OG,onAuthStateChanged:jG}=Hi,{useNavigate:FG,Link:qG}=Ms,HG=()=>{const n=FG(),[e,t]=U.useState(""),[i,r]=U.useState(""),[a,c]=U.useState(!1),[h,m]=U.useState(!0),[f,g]=U.useState(null);U.useEffect(()=>{const I=jG(Nt,L=>{L?n("/",{replace:!0}):m(!1)});return()=>I()},[n]);const E=async I=>{var L;try{const M=pn(gt,"users",I.uid);if(!(await Rs(M)).exists()){const z=`${(I.displayName||((L=I.email)==null?void 0:L.split("@")[0])||"User").split(" ")[0].toUpperCase()}${Math.random().toString(36).substring(2,7).toUpperCase()}`;await Hm(M,{uid:I.uid,name:I.displayName||" ",email:I.email,role:"user",isEmailVerified:I.emailVerified||!1,referralCode:z,referralCount:0,referredUsers:[],createdAt:Br()})}}catch(M){console.error("Error syncing profile on login:",M)}},T=async I=>{I.preventDefault(),c(!0),g(null);try{const L=await VG(Nt,e,i);await E(L.user),n("/")}catch{g("   .    .")}finally{c(!1)}},b=async()=>{g(null);try{const I=await OG(Nt,SC);await E(I.user),n("/")}catch{g("      Google.")}};return h?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 flex items-center justify-center px-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg max-w-md w-full border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),f&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl mb-6 text-sm flex items-center gap-2",children:[u.jsx(vc,{className:"w-5 h-5"}),f]}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(na,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:e,onChange:I=>t(I.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:"email@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(Vv,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,value:i,onChange:I=>r(I.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:""})]})]}),u.jsx(We,{type:"submit",className:"w-full py-3.5 rounded-2xl text-lg shadow-accent/20",disabled:a,children:a?u.jsx(Tt,{className:"w-6 h-6 animate-spin"}):" "})]}),u.jsxs("div",{className:"mt-8 relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-100"})}),u.jsx("div",{className:"relative flex justify-center text-xs text-gray-400",children:u.jsx("span",{className:"px-4 bg-white",children:" "})})]}),u.jsxs("button",{onClick:b,className:"mt-6 w-full flex justify-center items-center gap-3 px-4 py-3 border border-gray-200 rounded-2xl font-bold text-gray-700 hover:bg-gray-50 transition-all",children:[u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["   ",u.jsx(qG,{to:"/signup",className:"font-bold text-accent hover:underline",children:"  "})]})]})})},{createUserWithEmailAndPassword:BG,updateProfile:GG,signInWithPopup:zG,sendEmailVerification:$G,onAuthStateChanged:KG}=Hi,{useNavigate:YG,Link:EA,useLocation:JG}=Ms,WG=()=>{const n=YG(),e=JG(),[t,i]=U.useState(""),[r,a]=U.useState(""),[c,h]=U.useState(""),[m,f]=U.useState(!1),[g,E]=U.useState(!0),[T,b]=U.useState(null),[I,L]=U.useState(null),[M,j]=U.useState(!1),[H,z]=U.useState(null);U.useEffect(()=>{const R=KG(Nt,C=>{C?n("/",{replace:!0}):E(!1)});return()=>R()},[n]),U.useEffect(()=>{const R=e.search||window.location.hash.split("?")[1],N=new URLSearchParams(R).get("ref");N&&(L(N),(async()=>{try{const D=qr(Cs(gt,"users"),Dc("referralCode","==",N)),F=await Hr(D);F.empty||(j(!0),z(F.docs[0].id))}catch{}})())},[e]);const ne=async(R,C)=>{try{const N=pn(gt,"users",R.uid);if((await Rs(N)).exists())return;const D=Math.random().toString(36).substring(2,7).toUpperCase(),F=`${(C||"USER").split(" ")[0].substring(0,4).toUpperCase()}${D}`;await Hm(N,{uid:R.uid,name:C,email:R.email,role:"user",isEmailVerified:R.emailVerified||!1,referralCode:F,referralCount:0,referredUsers:[],referredBy:M?H:null,referralProcessed:!1,createdAt:Br()}),R.emailVerified||await $G(R)}catch(N){console.error(N)}},oe=async R=>{R.preventDefault(),f(!0),b(null);try{const C=await BG(Nt,r,c);await GG(C.user,{displayName:t}),await ne(C.user,t),n("/profile?verify=sent")}catch(C){C.code==="auth/email-already-in-use"?b({msg:"     .",code:"email-in-use"}):b({msg:"    ."})}finally{f(!1)}},q=async()=>{b(null);try{const R=await zG(Nt,SC);await ne(R.user,R.user.displayName||"User"),n("/profile")}catch{b({msg:"     Google."})}};return g?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 flex items-center justify-center px-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-xl max-w-md w-full border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-black text-primary",children:"  "}),I&&M&&u.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-2xl text-[10px] font-bold border border-emerald-100",children:[u.jsx(qv,{className:"w-3.5 h-3.5"}),"    "]})]}),T&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl mb-6 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[u.jsx(vc,{className:"w-5 h-5"})," ",T.msg]}),T.code==="email-in-use"&&u.jsxs("div",{className:"mt-3",children:[u.jsx("p",{className:"text-xs mb-3",children:"           ."}),u.jsxs(EA,{to:"/login",className:"flex items-center justify-center gap-2 py-2 bg-white border border-red-200 rounded-xl text-red-600 font-bold hover:bg-red-50 transition-colors",children:[u.jsx(TN,{className:"w-4 h-4"}),"     "]})]})]}),u.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(os,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",required:!0,value:t,onChange:R=>i(R.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:" "})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(na,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:r,onChange:R=>a(R.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:"email@example.com"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-bold text-gray-700 mr-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(Vv,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,value:c,onChange:R=>h(R.target.value),className:"w-full pr-10 pl-4 py-3 rounded-2xl border border-gray-200 outline-none focus:ring-2 focus:ring-accent",placeholder:""})]})]}),u.jsx(We,{type:"submit",className:"w-full py-4 text-lg rounded-2xl shadow-accent/20",disabled:m,children:m?u.jsx(Tt,{className:"w-6 h-6 animate-spin"}):"  "})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[u.jsx("div",{className:"h-px bg-gray-100 flex-grow"}),u.jsx("span",{className:"text-gray-400 text-xs",children:"  "}),u.jsx("div",{className:"h-px bg-gray-100 flex-grow"})]}),u.jsxs("button",{onClick:q,className:"mt-4 w-full py-3 px-4 border border-gray-200 rounded-2xl flex items-center justify-center gap-3 font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:[u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google ( )"]}),u.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["   ",u.jsx(EA,{to:"/login",className:"font-bold text-accent hover:underline",children:" "})]})]})})},{onAuthStateChanged:QG}=Hi,{Link:Ef,useNavigate:XG,useLocation:ZG}=Ms,ez=()=>{const n=XG(),t=ZG().pathname==="/",[i,r]=U.useState(null),[a,c]=U.useState(!1),[h,m]=U.useState(!1);U.useEffect(()=>{const T=QG(Nt,async b=>{if(r(b),b){try{const L=(await Rs(pn(gt,"users",b.uid))).data(),M=L==null?void 0:L.role;m(M==="admin"||M==="maintainer"||M==="interviewer")}catch{m(!1)}try{const I=qr(Cs(gt,"registrations"),Dc("userId","==",b.uid),Fm(10)),M=(await Hr(I)).docs.some(j=>{const z=j.data().status||"pending";return["pending","reviewing","approved"].includes(z)});c(M)}catch(I){console.error("Error checking active requests",I)}}else c(!1),m(!1)});return()=>T()},[]);const f=T=>{if(!t)n("/"),setTimeout(()=>{const b=document.getElementById(T);b&&b.scrollIntoView({behavior:"smooth"})},100);else{const b=document.getElementById(T);b&&b.scrollIntoView({behavior:"smooth"})}},g=()=>{n(i?a?"/my-requests":"/request-meeting":"/login")},E=!i||h||!a;return u.jsxs("footer",{id:"contact",className:"bg-secondary text-gray-300 mt-28",children:[E&&u.jsx("div",{className:"container mx-auto px-4 md:px-6 relative",children:u.jsxs("div",{className:"bg-accent rounded-2xl p-8 md:p-12 absolute -top-16 left-4 right-4 md:left-6 md:right-6 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-8 transform hover:scale-[1.01] transition-transform duration-300",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"    "}),u.jsx("p",{className:"text-teal-100",children:"      ."})]}),u.jsx(We,{variant:"white",className:"whitespace-nowrap w-full md:w-auto text-accent",onClick:g,children:"  "})]})}),u.jsxs("div",{className:`pt-40 pb-12 container mx-auto px-4 md:px-6 ${E?"":"pt-20"}`,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-800 pb-12 mb-8",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("h4",{className:"text-2xl font-bold text-white mb-6",children:""}),u.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:"        ."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"hover:text-accent transition-colors",children:u.jsx(XP,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"hover:text-accent transition-colors",children:u.jsx(_m,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"hover:text-accent transition-colors",children:u.jsx(iP,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:" "}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Ef,{to:"/",className:"hover:text-accent transition-colors",children:""})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("about"),className:"hover:text-accent transition-colors text-right",children:" "})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("how-it-works"),className:"hover:text-accent transition-colors text-right",children:" "})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>f("vision"),className:"hover:text-accent transition-colors text-right",children:""})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:""}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Ef,{to:"/faq",className:"hover:text-accent transition-colors",children:" "})}),u.jsx("li",{children:u.jsx(Ef,{to:"/privacy",className:"hover:text-accent transition-colors",children:" "})}),u.jsx("li",{children:u.jsx(Ef,{to:"/terms",className:"hover:text-accent transition-colors",children:" "})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:" "}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(na,{className:"w-5 h-5 text-accent"}),u.jsx("span",{className:"dir-ltr",children:"contact@moqabala.info"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Ad,{className:"w-5 h-5 text-accent"}),u.jsx("span",{className:"dir-ltr",children:"0123456789"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vP,{className:"w-5 h-5 text-accent"}),u.jsx("span",{children:" "})]})]})]})]}),u.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"  .   . (     )"]})]})]})},tz=()=>(U.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-8 flex items-center gap-3",children:[u.jsx(zo,{className:"w-10 h-10 text-accent"})," "]}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm space-y-8 text-gray-700 leading-relaxed border border-gray-100",children:[u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:' ""            .                  .'})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-sm",children:"2"}),"  "]}),u.jsxs("div",{className:"mr-10 space-y-4",children:[u.jsx("p",{className:"text-gray-600",children:"           :"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"       ."}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"PayPal:"}),"        ."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-bold text-gray-900",children:"InstaPay:"}),"           ."]}),u.jsx("li",{children:"         24    ."}),u.jsx("li",{children:"            24            ."})]})]})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-sm",children:"3"}),"  "]}),u.jsxs("div",{className:"mr-10 space-y-2 text-gray-600",children:[u.jsx("p",{children:"      .             12   ."}),u.jsx("p",{children:"         15        ."})]})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-sm",children:"4"})," "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"      (  )   .        .            ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-sm",children:"5"}),"  "]}),u.jsx("p",{className:"mr-10 text-gray-600",children:"  .      (   )            .             ."})]}),u.jsxs("section",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-sm",children:"6"}),"    "]}),u.jsx("p",{className:"mr-10 text-gray-600 font-bold",children:"                     .             ."})]}),u.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-xl border border-gray-200 text-sm text-gray-500",children:["  : ",new Date().toLocaleDateString("ar-EG")]})]})]})})),nz=()=>(U.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-8",children:" "}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm space-y-6 text-gray-700 leading-relaxed",children:[u.jsx("p",{className:"text-lg",children:'  ""     .         .'}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"    "}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[u.jsx("li",{children:" :     ."}),u.jsx("li",{children:" :       LinkedIn."}),u.jsx("li",{children:" :            ."})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"  "}),u.jsx("p",{children:"               ."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:" "}),u.jsx("p",{children:"          .         (Firebase)."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:" "}),u.jsx("p",{children:"         .          (  )   ."})]})]})]})})),iz=({question:n,answer:e})=>{const[t,i]=U.useState(!1);return u.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white overflow-hidden transition-all duration-300 hover:shadow-md",children:[u.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-right focus:outline-none",onClick:()=>i(!t),children:[u.jsxs("span",{className:"text-lg font-bold text-gray-800 flex items-center gap-3",children:[u.jsx(Pk,{className:"w-5 h-5 text-accent shrink-0"}),n]}),t?u.jsx(Ck,{className:"w-5 h-5 text-gray-500"}):u.jsx(gN,{className:"w-5 h-5 text-gray-500"})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"p-6 pt-0 text-gray-600 leading-relaxed border-t border-gray-50",children:e})})]})},sz=()=>{U.useEffect(()=>{window.scrollTo(0,0)},[]);const n=[{question:"    ",answer:"    (Live)          .         ."},{question:"    ",answer:"            24              ."},{question:"     ",answer:"                .            ."},{question:"       ",answer:"            24   .          ."},{question:"     ",answer:"         (Hard Skills)   (Soft Skills)         ."}];return u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-3xl",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary mb-4",children:" "}),u.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})]}),u.jsx("div",{className:"space-y-4",children:n.map((e,t)=>u.jsx(iz,{question:e.question,answer:e.answer},t))})]})})},TA=[{id:1,name:"Amr Rashed",role:"Engineering Leader",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQEUndZ_MGyCHA/profile-displayphoto-scale_200_200/B4DZomCpnUKQAY-/0/1761574821421?e=1767225600&v=beta&t=-Fr6BxIdmVlgXcaPbyyWXhlbrzv-7urnbs8J_v0GHY8",rating:5,linkedinUrl:"https://www.linkedin.com/in/amr-a-rashed/",category:"BE"},{id:2,name:"Sanaa Afifi",role:"Lead Software Engineer",photoUrl:"https://media.licdn.com/dms/image/v2/C5603AQHGA7VzeY5_6w/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1526630456366?e=1767225600&v=beta&t=UwUK7Un2YhovVC3fhZmfMPVHyYcNzJ1cfFqOtS790Zw",rating:5,linkedinUrl:"https://www.linkedin.com/in/sanaaafifi/",category:"FE"},{id:3,name:"Anas Rabei",role:"Java Team Lead",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQHoVBt4KID5sQ/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1683245101249?e=1767225600&v=beta&t=Ksr1M6ZRXHyLwDyRbIorb1K60g4auzBIPG3LvXGRn_w",rating:5,linkedinUrl:"https://www.linkedin.com/in/anas-rabei/",category:"BE"},{id:4,name:"Moamen Abdulraouf",role:"Expert frontend engineer | Angular | React | Next.js | NX ",photoUrl:"https://media.licdn.com/dms/image/v2/D4E03AQEMWUfo3sOnJA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1665304055440?e=1767225600&v=beta&t=2-cKn0edf88fGTaEtpTfcPkHt2x--qhLf1GtR8jq_rI",rating:5,linkedinUrl:"https://www.linkedin.com/in/moamen/",category:"FE"},{id:6,name:"Ahmad Ragab",role:"Senior iOS Engineer | Swift, SwiftUI, Combine | Mobile Architecture & Team Mentorship",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQE6DMUlhzWPRA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1725975082426?e=1767225600&v=beta&t=-_A-OyjGjLIb3c8KiJ23l7lGFpQodz3r_uMj6DJNQoU",rating:5,linkedinUrl:"https://www.linkedin.com/in/ahmad-ragab-88b27836/",category:"MOBILE"},{id:7,name:"Muhammad Helmi",role:"Senior Android Engineer | Built STC Bank & STC Pay for 12M+ users | Kotlin Multiplatform | Clean Architecture | Jetpack Composer",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQH1KA3KIxANTw/profile-displayphoto-scale_200_200/B4DZqcRJ7hHsAY-/0/1763558335929?e=1767225600&v=beta&t=0tKOhPZ2QkIe1-36zaWVUmqeIUSlanFMYLTltYcOED0",rating:5,linkedinUrl:"https://www.linkedin.com/in/developermohamedhelmy/",category:"MOBILE"},{id:8,name:"Ahmed Saeed",role:"Senior iOS Developer at STCBank | Expert in Mobile App Development",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQG7aNfviv9hpg/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1722794057634?e=1767225600&v=beta&t=ZpfvbnQWUN39uurYto0vp13gxPedQ7tdxJSJxsY_GsM",rating:5,linkedinUrl:"https://www.linkedin.com/in/ihendi/",category:"MOBILE"},{id:9,name:"Mahmoud Reda",role:"Product Designer | Designing the Future with User-Centric Creativity",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQFgwgPAzZa2lA/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1673957302151?e=1767225600&v=beta&t=XhtI5hfLw68uPjUZgVeZLBbrHff1HN7t1Mg_0FGclXQ",rating:5,linkedinUrl:"https://www.linkedin.com/in/mahmoudreda90/",category:"UX"},{id:10,name:"Aly Hamalawey",role:"Senior Android Engineer at D360 || EX-STC Bank, EX-Yassir, EX-SWVL",photoUrl:"https://media.licdn.com/dms/image/v2/D4D03AQHWRqMWb9U2sg/profile-displayphoto-scale_200_200/B4DZlOXG40H0AY-/0/1757956307313?e=1767225600&v=beta&t=W6aq4qsAMN1JBzB-vreuIuh7oi3LFrXqnbO7pdueXyQ",rating:5,linkedinUrl:"https://www.linkedin.com/in/aly-hamalawey/",category:"MOBILE"},{id:11,name:"Abdelrahman Haridy",role:"Software Developer, Angular, ReactJs, Wordpress, Instructor",photoUrl:"https://media.licdn.com/dms/image/v2/D4D35AQHUJET2VdlU3g/profile-framedphoto-shrink_400_400/B4DZiP.3f_GQAg-/0/1754762279219?e=1766502000&v=beta&t=8Rmt7B0wSMNJ2NkuaPcsx8SceTndKNksNu6rKud4Gog",rating:5,linkedinUrl:"https://www.linkedin.com/in/aly-hamalawey/",category:"FE"}],rz=()=>{const[n,e]=U.useState([]),[t,i]=U.useState([]),[r,a]=U.useState(!0),[c,h]=U.useState("ALL");U.useEffect(()=>{e(TA),i(TA),a(!1),window.scrollTo(0,0)},[]),U.useEffect(()=>{i(c==="ALL"?n:n.filter(g=>g.category===c))},[c,n]);const m=g=>{const E=[],T=Math.floor(g),b=g%1!==0;for(let I=0;I<T;I++)E.push(u.jsx(Xu,{className:"w-4 h-4 text-yellow-400 fill-current"},`star-${I}`));for(b&&E.push(u.jsx(FP,{className:"w-4 h-4 text-yellow-400 fill-current"},"star-half"));E.length<5;)E.push(u.jsx(Xu,{className:"w-4 h-4 text-gray-300"},`star-empty-${E.length}`));return E},f=[{key:"ALL",label:""},{key:"FE",label:" (Frontend)"},{key:"BE",label:" (Backend)"},{key:"UX",label:" (UX/UI)"},{key:"MOBILE",label:" (Mobile)"}];return u.jsx("div",{className:"pt-24 pb-16 min-h-screen bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[u.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[u.jsx("span",{className:"text-accent font-bold tracking-wider uppercase mb-2 block animate-in fade-in slide-in-from-bottom-3",children:" "}),u.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-primary mb-6 animate-in fade-in slide-in-from-bottom-4 delay-100",children:["  ",u.jsx("span",{className:"text-accent",children:" "})]}),u.jsx("p",{className:"text-gray-600 text-lg leading-relaxed animate-in fade-in slide-in-from-bottom-5 delay-200",children:"           ."})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-12 animate-in fade-in slide-in-from-bottom-6 delay-300",children:f.map(g=>u.jsx("button",{onClick:()=>h(g.key),className:`px-6 py-2 rounded-full font-medium transition-all duration-300 text-sm md:text-base ${c===g.key?"bg-accent text-white shadow-lg shadow-accent/25 transform scale-105":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-100"}`,children:g.label},g.key))}),r?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.length>0?t.map((g,E)=>u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 group transform hover:-translate-y-2 animate-in fade-in zoom-in-95",style:{animationDelay:`${E*50}ms`},children:[u.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[g.photoUrl?u.jsx("img",{src:g.photoUrl,alt:g.name,className:"w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-110",onError:T=>{var b;T.target.style.display="none",(b=T.target.nextElementSibling)==null||b.classList.remove("hidden")}}):null,u.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-gray-400 ${g.photoUrl?"hidden":""}`,children:u.jsx(os,{className:"w-20 h-20"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.linkedinUrl&&u.jsx("div",{className:"absolute bottom-4 right-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:u.jsx("a",{href:g.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-2 rounded-full text-[#0077b5] hover:bg-[#0077b5] hover:text-white transition-colors shadow-lg flex items-center justify-center","aria-label":`LinkedIn profile of ${g.name}`,children:u.jsx(_m,{className:"w-5 h-5"})})})]}),u.jsxs("div",{className:"p-6 text-center relative",children:[u.jsxs("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-100 flex items-center gap-1",children:[u.jsx("div",{className:"flex text-yellow-400",children:u.jsx(Xu,{className:"w-3 h-3 fill-current"})}),u.jsx("span",{className:"text-xs font-bold text-gray-700",children:g.rating})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.name}),u.jsx("p",{className:"text-accent font-medium text-sm mb-4",children:g.role}),u.jsx("div",{className:"flex justify-center gap-1 opacity-80","aria-label":`Rating: ${g.rating} out of 5`,children:m(g.rating)})]})]},g.id)):u.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 bg-white rounded-2xl border border-dashed border-gray-200",children:[u.jsx(os,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"      ."})]})})]})})},oz=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(""),[c,h]=U.useState("ALL"),[m,f]=U.useState("ALL"),[g,E]=U.useState(null),[T,b]=U.useState(1),I=10,[L,M]=U.useState(!1),[j,H]=U.useState(null),z=async()=>{try{const D=qr(Cs(gt,"users"),pI("createdAt","desc")),F=await Hr(D),V=[];F.forEach(xe=>{V.push(xe.data())}),e(V)}catch(D){console.error("Error fetching users:",D)}finally{i(!1)}};U.useEffect(()=>{z()},[]),U.useEffect(()=>{b(1)},[r,c,m]);const ne=D=>{var F;if(D.uid===((F=Nt.currentUser)==null?void 0:F.uid)){alert("    .");return}H(D),M(!0)},oe=async()=>{if(j){E(j.uid),M(!1);try{const D=c3(gt);D.delete(pn(gt,"users",j.uid)),await D.commit(),e(F=>F.filter(V=>V.uid!==j.uid))}catch(D){console.error("Error deleting user:",D)}finally{E(null),H(null)}}},q=D=>{switch(D){case"fresh":return" (fresh)";case"junior":return" (junior)";case"mid-senior":return"  (mid/senior)";case"lead-staff":return" (lead/staff)";default:return D||"-"}},R=n.filter(D=>{var Ce,W,ce;const F=((Ce=D.email)==null?void 0:Ce.toLowerCase().includes(r.toLowerCase()))||((W=D.name)==null?void 0:W.toLowerCase().includes(r.toLowerCase()))||((ce=D.phone)==null?void 0:ce.includes(r)),V=c==="ALL"||D.role===c,xe=m==="ALL"||D.field===m;return F&&V&&xe}),C=Math.ceil(R.length/I),N=(T-1)*I,P=R.slice(N,N+I);return t?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Tt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(os,{className:"w-5 h-5 text-accent"}),"   (",R.length,")"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Fv,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:D=>a(D.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-accent/50 text-sm outline-none"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(SN,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsxs("select",{value:c,onChange:D=>h(D.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg text-sm outline-none bg-white appearance-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"admin",children:"admin"}),u.jsx("option",{value:"interviewer",children:"interviewer"}),u.jsx("option",{value:"maintainer",children:"maintainer"}),u.jsx("option",{value:"user",children:"user"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsxs("select",{value:m,onChange:D=>f(D.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg text-sm outline-none bg-white appearance-none",children:[u.jsx("option",{value:"ALL",children:" "}),u.jsx("option",{value:"UX",children:"UX"}),u.jsx("option",{value:"FE",children:"FE"}),u.jsx("option",{value:"BE",children:"BE"}),u.jsx("option",{value:"mobile",children:"mobile"})]})]})]})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-right whitespace-nowrap",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600",children:""}),u.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-gray-600 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-50",children:P.length>0?P.map(D=>u.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${D.role==="admin"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`,children:(D.name||"U").charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium text-gray-900",children:D.name}),u.jsx("span",{className:"text-[10px] text-gray-400 dir-ltr text-right",children:D.email})]})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-black ${(D.referralCount||0)>=15?"bg-emerald-100 text-emerald-700 border border-emerald-200":(D.referralCount||0)>0?"bg-amber-100 text-amber-700 border border-amber-200":"bg-gray-100 text-gray-400"}`,children:[u.jsx(_c,{className:"w-3 h-3"}),D.referralCount||0]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${D.role==="admin"?"bg-red-50 text-red-600":D.role==="interviewer"?"bg-teal-50 text-teal-600":D.role==="maintainer"?"bg-purple-50 text-purple-600":"bg-gray-50 text-gray-600"}`,children:D.role})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:D.field||"-"}),u.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:q(D.level)}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("button",{onClick:()=>ne(D),disabled:g===D.uid,className:"p-2 text-gray-400 hover:text-red-600 rounded-lg transition-colors",children:g===D.uid?u.jsx(Tt,{className:"w-4 h-4 animate-spin"}):u.jsx(GP,{className:"w-4 h-4"})})})]},D.uid)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"  ."})})})]})})}),C>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>b(D=>Math.max(D-1,1)),disabled:T===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(C)].map((D,F)=>u.jsx("button",{onClick:()=>b(F+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${T===F+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:F+1},F+1))}),u.jsx("button",{onClick:()=>b(D=>Math.min(D+1,C)),disabled:T===C,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(gm,{className:"w-5 h-5 text-gray-600"})})]}),L&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl animate-in zoom-in-95",children:[u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2",children:" "}),u.jsxs("p",{className:"text-gray-600 mb-6",children:['      "',j==null?void 0:j.email,'"']}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(We,{variant:"primary",className:"flex-1 bg-red-600 hover:bg-red-700",onClick:oe,children:""}),u.jsx(We,{variant:"outline",className:"flex-1",onClick:()=>M(!1),children:""})]})]})})]})},az=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(""),[c,h]=U.useState(1),m=8;U.useEffect(()=>{(async()=>{try{const L=qr(Cs(gt,"reviews"),pI("submittedAt","desc")),M=await Hr(L),j=[];M.forEach(H=>{j.push({id:H.id,...H.data()})}),e(j)}catch(L){console.error("Error fetching reviews:",L)}finally{i(!1)}})()},[]),U.useEffect(()=>{h(1)},[r]);const f=I=>I?I.seconds?new Date(I.seconds*1e3).toLocaleDateString("ar-EG"):new Date(I).toLocaleDateString("ar-EG"):"-",g=n.filter(I=>{var L,M,j;return((L=I.userName)==null?void 0:L.toLowerCase().includes(r.toLowerCase()))||((M=I.userEmail)==null?void 0:M.toLowerCase().includes(r.toLowerCase()))||((j=I.userPhone)==null?void 0:j.includes(r))}),E=Math.ceil(g.length/m),T=(c-1)*m,b=g.slice(T,T+m);return t?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Tt,{className:"w-8 h-8 text-accent animate-spin"})}):u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Ov,{className:"w-5 h-5 text-accent"}),"  (",g.length,")"]}),u.jsxs("div",{className:"relative w-full md:w-72",children:[u.jsx(Fv,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:I=>a(I.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all"})]})]}),u.jsx("div",{className:"grid gap-6",children:b.length>0?b.map(I=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-100 flex flex-wrap items-center justify-between gap-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent",children:u.jsx(os,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:I.userName}),u.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(na,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"dir-ltr",children:I.userEmail})]}),I.userPhone&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(Ad,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"dir-ltr",children:I.userPhone})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[u.jsx(pN,{className:"w-3.5 h-3.5"}),f(I.submittedAt)]})]})]})]})}),u.jsxs("div",{className:"p-6 grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(Xu,{className:"w-4 h-4 text-yellow-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:I.interviewFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(ta,{className:"w-4 h-4 text-accent"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:I.platformFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(os,{className:"w-4 h-4 text-blue-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-100 min-h-[60px]",children:I.interviewerFeedback})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400",children:[u.jsx(oP,{className:"w-4 h-4 text-emerald-500"})," "]}),u.jsx("p",{className:"text-gray-700 text-sm leading-relaxed bg-emerald-50/30 p-3 rounded-xl border border-emerald-100 min-h-[60px]",children:I.improvementIdeas||"   "})]})]})]},I.id)):u.jsx("div",{className:"bg-white rounded-xl p-12 text-center border border-dashed border-gray-300",children:u.jsx("p",{className:"text-gray-500",children:"     ."})})}),E>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[u.jsx("button",{onClick:()=>h(I=>Math.max(I-1,1)),disabled:c===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(ym,{className:"w-5 h-5 text-gray-600"})}),u.jsx("div",{className:"flex items-center gap-2",children:[...Array(E)].map((I,L)=>u.jsx("button",{onClick:()=>h(L+1),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${c===L+1?"bg-accent text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:L+1},L+1))}),u.jsx("button",{onClick:()=>h(I=>Math.min(I+1,E)),disabled:c===E,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 hover:bg-gray-100 transition-colors bg-white shadow-sm",children:u.jsx(gm,{className:"w-5 h-5 text-gray-600"})})]})]})},{getAuth:lz,createUserWithEmailAndPassword:cz,signOut:uz}=Hi,dz={apiKey:"AIzaSyCaQr0skV-QlYaIIxOx-FIpG6JeBzDTXOc",authDomain:"moqabala-9257a.firebaseapp.com",projectId:"moqabala-9257a",storageBucket:"moqabala-9257a.appspot.com",messagingSenderId:"1038709573170",appId:"1:1038709573170:web:15b220fd2e40bb719b5e2b"},hz=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[r,a]=U.useState(""),[c,h]=U.useState("interviewer"),[m,f]=U.useState(""),[g,E]=U.useState(""),[T,b]=U.useState(!1),[I,L]=U.useState(!1),[M,j]=U.useState(null),H=async z=>{z.preventDefault(),b(!0),j(null),L(!1);let ne;try{ne=zv(dz,"SecondaryApp_"+Date.now());const oe=lz(ne),R=(await cz(oe,t,r)).user,N=`STAFF${Math.random().toString(36).substring(2,7).toUpperCase()}`;await Hm(pn(gt,"users",R.uid),{uid:R.uid,name:n.trim(),email:t,role:c,field:m||null,level:g||null,isEmailVerified:!0,referralCode:N,referralCount:0,referredUsers:[],createdAt:Br()}),await uz(oe),L(!0),e(""),i(""),a(""),f(""),E("")}catch(oe){console.error("Error creating staff user:",oe),oe.code==="auth/email-already-in-use"?j("    ."):j("    .")}finally{ne&&await kL(ne),b(!1)}};return u.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"bg-accent p-6 text-white flex items-center gap-3",children:[u.jsx(qv,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"   "})]}),u.jsxs("form",{onSubmit:H,className:"p-8 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  /  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(os,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",required:!0,value:n,onChange:z=>e(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:":   (Frontend Interviewer)"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(na,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",required:!0,value:t,onChange:z=>i(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:"staff@moqabala.com"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Vv,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"password",required:!0,minLength:6,value:r,onChange:z=>a(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none",placeholder:""})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(VP,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{required:!0,value:c,onChange:z=>h(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"interviewer",children:" (interviewer)"}),u.jsx("option",{value:"admin",children:" (admin)"}),u.jsx("option",{value:"maintainer",children:" (maintainer)"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:m,onChange:z=>f(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"UX",children:"UX"}),u.jsx("option",{value:"FE",children:"FE"}),u.jsx("option",{value:"BE",children:"BE"}),u.jsx("option",{value:"mobile",children:"mobile"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ts,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),u.jsxs("select",{value:g,onChange:z=>E(z.target.value),className:"w-full pr-10 pl-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-accent outline-none appearance-none bg-white",children:[u.jsx("option",{value:"",children:" ..."}),u.jsx("option",{value:"fresh",children:" (fresh)"}),u.jsx("option",{value:"junior",children:" (junior)"}),u.jsx("option",{value:"mid-senior",children:"  (mid/senior)"}),u.jsx("option",{value:"lead-staff",children:" (lead/staff)"})]})]})]})]}),M&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-xl flex items-center gap-2 text-sm",children:[u.jsx(vc,{className:"w-5 h-5"}),M]}),I&&u.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 text-emerald-600 rounded-xl flex items-center gap-2 text-sm animate-in zoom-in",children:[u.jsx(ws,{className:"w-5 h-5"}),"   !"]}),u.jsx(We,{type:"submit",className:"w-full py-4 rounded-xl flex justify-center gap-2 shadow-lg hover:shadow-accent/30",disabled:T,children:T?u.jsx(Tt,{className:"w-6 h-6 animate-spin"}):"  "})]})]})})},{onAuthStateChanged:fz}=Hi,{useNavigate:mz}=Ms,pz=()=>{const[n,e]=U.useState("requests"),[t,i]=U.useState(null),[r,a]=U.useState(!0),c=mz();if(U.useEffect(()=>{const f=fz(Nt,async g=>{if(g)try{const T=(await Rs(pn(gt,"users",g.uid))).data(),b=T==null?void 0:T.role;b==="admin"||b==="maintainer"||b==="interviewer"?(i(b),e(b==="admin"?"users":"requests")):c("/")}catch{c("/")}else c("/login");a(!1)});return()=>f()},[c]),r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin"})});if(!t)return null;const h=t==="admin",m=t==="maintainer";return u.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-4 md:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[u.jsx(Py,{className:"w-8 h-8 text-accent"})," "]}),u.jsx("p",{className:"text-gray-500 mt-1",children:h?"    ":m?"    ":"    "})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 mb-8 inline-flex flex-wrap gap-1",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>e("users"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="users"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(_c,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:()=>e("create-user"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="create-user"?"bg-accent text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(qv,{className:"w-4 h-4"}),"  "]})]}),u.jsxs("button",{onClick:()=>e("requests"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="requests"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(zo,{className:"w-4 h-4"})," "]}),(h||m)&&u.jsxs("button",{onClick:()=>e("reviews"),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${n==="reviews"?"bg-primary text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(Ov,{className:"w-4 h-4"}),""]})]}),u.jsxs("div",{className:"min-h-[500px]",children:[h&&n==="users"&&u.jsx(oz,{}),h&&n==="create-user"&&u.jsx(hz,{}),n==="requests"&&u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-1 md:p-4",children:[u.jsx("div",{className:"dashboard-embedded",children:u.jsx(vR,{})}),u.jsx("style",{children:`
                 .dashboard-embedded .pt-24 { padding-top: 1rem !important; }
                 .dashboard-embedded .min-h-screen { min-height: auto !important; }
                 .dashboard-embedded .container { padding: 0 !important; max-width: 100% !important; }
               `})]}),(h||m)&&n==="reviews"&&u.jsx(az,{})]})]})})},{onAuthStateChanged:gz}=Hi,{useNavigate:yz,useLocation:vz}=Ms,_z=()=>{var P;const n=yz(),e=vz(),[t,i]=U.useState(!0),[r,a]=U.useState(!1),[c,h]=U.useState(!1),[m,f]=U.useState(!1),[g,E]=U.useState(!1),[T,b]=U.useState(null),[I,L]=U.useState(null),[M,j]=U.useState(!1),[H,z]=U.useState({name:"",email:"",phone:"",jobTitle:"",country:"",isEmailVerified:!1,referralCode:"",referralCount:0,referredUsers:[]}),ne=async(D,F,V)=>{try{const xe=pn(gt,"users",V),Ce=pn(gt,"users",D);await a3(gt,async W=>{const ce=await W.get(xe),Ee=await W.get(Ce);!ce.exists()||!Ee.exists()||Ee.data().referralProcessed||(W.update(xe,{referralCount:(ce.data().referralCount||0)+1,referredUsers:l3(F)}),W.update(Ce,{referralProcessed:!0}))}),console.log("Referral reward processed successfully")}catch(xe){console.error("Error processing referral reward:",xe)}};U.useEffect(()=>{new URLSearchParams(e.search).get("verify")==="sent"&&j(!0);const F=gz(Nt,async V=>{if(V){L(V);try{const xe=pn(gt,"users",V.uid),Ce=await Rs(xe);if(Ce.exists()){let W=Ce.data();if(V.emailVerified&&!W.isEmailVerified&&(await dc(xe,{isEmailVerified:!0}),W.isEmailVerified=!0),W.isEmailVerified&&W.referredBy&&!W.referralProcessed){await ne(V.uid,V.email,W.referredBy);const ce=await Rs(xe);ce.exists()&&(W=ce.data())}z({...W,referralCount:W.referralCount||0,referredUsers:W.referredUsers||[]})}}catch{b("    .")}finally{i(!1)}}else n("/login")});return()=>F()},[n,e]);const oe=async D=>{D.preventDefault(),a(!0),b(null);try{await Hm(pn(gt,"users",I.uid),{name:H.name,phone:H.phone||"",jobTitle:H.jobTitle||"",country:H.country||"",updatedAt:Br()},{merge:!0}),h(!0),setTimeout(()=>h(!1),3e3)}catch{b(" .   .")}finally{a(!1)}},q=()=>`${window.location.origin+window.location.pathname}#/signup?ref=${H.referralCode}`,R=D=>{const[F,V]=D.split("@");return`${F.substring(0,2)}***@${V}`},C=15,N=Math.min((H.referralCount||0)/C*100,100);return t?u.jsx("div",{className:"min-h-screen pt-32 flex flex-col items-center justify-center",children:u.jsx(Tt,{className:"w-10 h-10 text-accent animate-spin"})}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-gray-50 px-4",children:u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[M&&u.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 p-6 rounded-3xl mb-8 flex items-center gap-4 animate-in fade-in zoom-in",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center",children:u.jsx(wN,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-emerald-800",children:"   !"}),u.jsx("p",{className:"text-emerald-600 text-sm",children:"      (  Junk )."})]}),u.jsx("button",{onClick:()=>j(!1),className:"mr-auto text-emerald-400 hover:text-emerald-600",children:u.jsx(Ir,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl border border-gray-100 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-accent to-teal-500 h-32 relative",children:u.jsx("div",{className:"absolute -bottom-12 right-10 w-24 h-24 bg-white rounded-3xl p-1 shadow-2xl",children:u.jsx("div",{className:"w-full h-full bg-accent/10 rounded-2xl flex items-center justify-center text-accent",children:u.jsx(os,{className:"w-12 h-12"})})})}),u.jsxs("form",{onSubmit:oe,className:"p-10 pt-16 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(os,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:H.name,onChange:D=>z({...H,name:D.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-600 mb-2 flex items-center justify-between",children:[" ",H.isEmailVerified?u.jsxs("span",{className:"text-[10px] bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(ws,{className:"w-3 h-3"})," "]}):u.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full",children:" "})]}),u.jsxs("div",{className:"relative",children:[u.jsx(na,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-300"}),u.jsx("input",{type:"email",readOnly:!0,value:H.email,className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-100 text-gray-400 cursor-not-allowed"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ad,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"tel",value:H.phone,onChange:D=>z({...H,phone:D.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all dir-ltr text-right"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(vm,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:H.country,onChange:D=>z({...H,country:D.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"   ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(ta,{className:"absolute right-4 top-3.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:H.jobTitle,onChange:D=>z({...H,jobTitle:D.target.value}),className:"w-full pr-12 pl-5 py-3 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[T&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-sm flex items-center gap-2",children:[u.jsx(vc,{className:"w-5 h-5"})," ",T]}),u.jsx(We,{type:"submit",className:"w-full rounded-2xl py-4 flex justify-center gap-2",disabled:r,children:r?u.jsx(Tt,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Nd,{className:"w-5 h-5"}),"   "]})}),c&&u.jsx("p",{className:"text-center text-emerald-600 font-bold animate-pulse text-sm",children:"    "})]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 p-8",children:[u.jsxs("h3",{className:"text-lg font-black text-primary mb-6 flex items-center gap-2",children:[u.jsx(_c,{className:"w-5 h-5 text-accent"}),"   (",(H.referredUsers||[]).length,")"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(H.referredUsers||[]).length>0?(P=H.referredUsers)==null?void 0:P.map((D,F)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-100",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center text-[10px] font-bold text-accent",children:F+1}),u.jsx("span",{className:"text-xs font-medium text-gray-600 dir-ltr",children:R(D)}),u.jsx(ws,{className:"w-4 h-4 text-emerald-500 mr-auto"})]},F)):u.jsx("div",{className:"col-span-full py-10 text-center text-gray-400 text-sm",children:"    .    !"})})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl border border-gray-100 p-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-accent/5 rounded-full blur-3xl"}),u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center text-amber-600 shadow-inner",children:u.jsx(WP,{className:"w-7 h-7"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-primary",children:" "}),u.jsxs("p",{className:"text-xs text-gray-400",children:[" ",C,"   "]})]})]}),(H.referralCount||0)>=C?u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-3xl text-white shadow-lg shadow-emerald-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 font-black",children:[u.jsx(kr,{className:"w-6 h-6 text-yellow-300"})," !"]}),u.jsx("p",{className:"text-sm font-medium leading-relaxed",children:"  !        ."})]}):u.jsxs("div",{className:"mb-8 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "}),u.jsxs("span",{className:"text-lg font-black text-accent",children:[H.referralCount,"/",C]})]}),u.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full p-1 shadow-inner",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-accent to-emerald-400 rounded-full transition-all duration-1000",style:{width:`${N}%`}})}),u.jsxs("p",{className:"text-[10px] text-gray-400 text-center",children:[" ",C-(H.referralCount||0),"  !"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2 mr-1",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-full bg-gray-50 border border-gray-100 py-3 rounded-2xl text-center font-mono font-bold text-lg text-primary",children:H.referralCode}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(H.referralCode||""),E(!0),setTimeout(()=>E(!1),2e3)},className:"absolute left-2 top-2 p-1.5 bg-white shadow-sm border border-gray-100 rounded-xl text-accent",children:g?u.jsx(ws,{className:"w-4 h-4 text-emerald-500"}):u.jsx(Fk,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2 mr-1",children:"  "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{readOnly:!0,value:q(),className:"w-full bg-gray-50 border border-gray-100 py-3 pr-4 pl-12 rounded-2xl text-[10px] text-gray-500 outline-none"}),u.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(q()),f(!0),setTimeout(()=>f(!1),2e3)},className:"absolute left-2 top-1.5 p-2 bg-white shadow-sm border border-gray-100 rounded-xl text-accent",children:m?u.jsx(ws,{className:"w-4 h-4 text-emerald-500"}):u.jsx(PP,{className:"w-4 h-4"})})]})]})]})]})})]})]})})},{HashRouter:xz,Routes:Ez,Route:ns,useLocation:Tz}=Ms,wz=()=>{const e=Tz().pathname.startsWith("/dashboard");return u.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[u.jsx(Wj,{}),u.jsx("main",{className:"flex-grow",children:u.jsxs(Ez,{children:[u.jsx(ns,{path:"/",element:u.jsx(cF,{})}),u.jsx(ns,{path:"/request-meeting",element:u.jsx(mF,{})}),u.jsx(ns,{path:"/meeting-requests",element:u.jsx(vR,{})}),u.jsx(ns,{path:"/my-requests",element:u.jsx(UG,{})}),u.jsx(ns,{path:"/profile",element:u.jsx(_z,{})}),u.jsx(ns,{path:"/login",element:u.jsx(HG,{})}),u.jsx(ns,{path:"/signup",element:u.jsx(WG,{})}),u.jsx(ns,{path:"/team",element:u.jsx(rz,{})}),u.jsx(ns,{path:"/terms",element:u.jsx(tz,{})}),u.jsx(ns,{path:"/privacy",element:u.jsx(nz,{})}),u.jsx(ns,{path:"/faq",element:u.jsx(sz,{})}),u.jsx(ns,{path:"/dashboard",element:u.jsx(pz,{})})]})}),!e&&u.jsx(ez,{})]})};function bz(){return u.jsx(xz,{children:u.jsx(wz,{})})}const _R=document.getElementById("root");if(!_R)throw new Error("Could not find root element to mount to");const Sz=rD.createRoot(_R);Sz.render(u.jsx(bA.StrictMode,{children:u.jsx(bz,{})}));
